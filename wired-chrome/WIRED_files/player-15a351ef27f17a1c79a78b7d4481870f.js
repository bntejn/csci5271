!function(){var e=window._cne;window._cne.ns=function(t){var n=e;if(!t)return n;for(var i=t.split("."),r=0;r<i.length;r++)if(""!==s){var s=i[r],o=n[s];n[s]=o?o:{},n=n[s]}return n}}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1}),function(){_cne.ns("util");var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/,n=_cne.util.Class=function(){};n.extend=function(n){function i(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var s=new this;e=!1;for(var o in n)s[o]="function"==typeof n[o]&&"function"==typeof r[o]&&t.test(n[o])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(o,n[o]):n[o];return i.prototype=s,i.prototype.constructor=i,i.extend=arguments.callee,i}}(),function(){_cne.ns("util"),_cne.util.CookieHelper={create:function(e,t,n){var i="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),i="; expires="+r.toGMTString()}document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+i+"; path=/"},read:function(e){for(var t=encodeURIComponent(e)+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return decodeURIComponent(r.substring(t.length,r.length))}return null},erase:function(e){this.create(e,"",-1)},generateGuid:function(){var e=function(){return Math.floor(65536*Math.random()).toString(16)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}}(),function(){_cne.ns("util"),_cne.util.QueryHelper={getUrlVars:function(){for(var e,t=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<n.length;i++)e=n[i].split("="),t.push(e[0]),t[e[0]]=decodeURIComponent(e[1]);return t}}}(),function(){"undefined"==typeof _cne.util.cneAnalytics&&(_cne.util.cneAnalytics=_cne.util.Class.extend({init:function(){this.trackers={},this.uniqueKeys=[]},registerTracker:function(e){null!=this.trackers[e.name]?this.trackers[e.name].push(e):this.trackers[e.name]=[e]},selectTrackers:function(e){var t=[];if(null==e)for(var n in this.trackers)t=t.concat(this.trackers[n]);else for(var i=0;i<e.length;i++)this.trackers[e[i]]&&(t=t.concat(this.trackers[e[i]]));return t},hasEventOccurred:function(e){return this.uniqueKeys.indexOf(e)>=0?!0:(this.uniqueKeys.push(e),!1)},send:function(e,t){var n=e.charAt(0).toUpperCase()+e.slice(1),i=this.selectTrackers(t.trackers);if(null!=t.trackers&&delete t.trackers,"string"==typeof t.onlyTo&&(t.onlyTo=[t.onlyTo]),"object"==typeof t.onlyTo){for(var r=[],s=0;s<i.length;s++)for(var o=0;o<t.onlyTo.length;o++)i[s].trackerType===t.onlyTo[o]&&r.push(i[s]);i=r,delete t.onlyTo}if(null==t.uniqueKey||!this.hasEventOccurred(t.uniqueKey))if(null!=t.delay)setTimeout(function(){for(var e=0;e<i.length;e++)i[e].send(n,t)},t.delay),delete t.delay;else for(var s=0;s<i.length;s++)i[s].send(n,t)}}),_cne.util.cneAnalytics.getInstance=function(){return null==_cne.util.cneAnalytics._instance&&(_cne.util.cneAnalytics._instance=new _cne.util.cneAnalytics),_cne.util.cneAnalytics._instance},_cne.util.cneAnalyticsTracker=_cne.util.Class.extend({init:function(e,t,n){this.name=e,this.trackingId=t,this.sampleSize=n?n:1},send:function(e,t){_cne.util.SampleHelper.isInSample(this.sampleSize)&&this["send"+e](t)},sendPageview:function(){},scrubPageviewArgs:function(e){return e},sendEvent:function(){},scrubEventArgs:function(e){return e},sendBeacon:function(){},scrubBeaconArgs:function(e){return e},sendTiming:function(){},scrubTimingArgs:function(e){return e},shallowCopyArgs:function(e){var t={};for(var n in e)t[n]=e[n];return t},mergeArgs:function(e,t){e=this.shallowCopyArgs(e);for(var n in t)e[n]=t[n];return e},stripArgs:function(e,t,n){n="undefined"!=typeof n?n:[],t="undefined"!=typeof t?t:[],e=this.shallowCopyArgs(e);for(var i in e)(t.indexOf(i)>=0||n.length>0&&n.indexOf(i)<0)&&delete e[i];return e},transformArgs:function(e,t){e=this.shallowCopyArgs(e);for(var n in e)null!=t[n]&&(e[t[n]]=e[n],delete e[n]);return e}}),_cne.util.MetricsTracker=_cne.util.cneAnalyticsTracker.extend({init:function(e,t,n,i){this._super(e,null,i),this.trackerType="metrics",this.baseUrl=t,this.useSsl=n},sendBeacon:function(e){url=null,protocol=this.useSsl?"https://":"http://",url=null!=e.value?protocol+this.baseUrl+e.metricName+"/"+e.value:protocol+this.baseUrl+e.metricName;var t=new Image;t.src=url}}),_cne.util.SampleHelper={isInSample:function(e){sampleGroupCookieName="cne_cneanalytics_sample_group";var t=_cne.util.CookieHelper.read(sampleGroupCookieName);return null==t&&(t=Math.random()),_cne.util.CookieHelper.create(sampleGroupCookieName,t,1),e>=t}})}(),function(){_cne.ns("util"),_cne.util.AudienceManager={getSegmentKeyValues:function(){var e=_cne.util.CookieHelper.read("aam_fw");if(e){var t=decodeURIComponent(e);return t=t.split(";")}return[]},getUserId:function(){return _cne.util.CookieHelper.read("aam_uuid")}}}(),function(){_cne.ns("util"),_cne.util.color={isHexColorValid:function(e){var t;return 6!==e.length?!1:(t=e.match(/^([0-9a-f]{3}){1,2}$/i),null===t?!1:!0)},getRgbFromHex:function(e){var t,n,i,r;return i=parseInt(e,16),r=i>>16,n=i>>8&255,t=255&i,this.getRgb(r)+","+this.getRgb(n)+","+this.getRgb(t)},getRgb:function(e){return 1>e?0:e>254?255:e}}}.call(this),function(){_cne.ns("util"),window._cne.util.guid=function(){var e=function(){return Math.floor(65536*Math.random()).toString(16)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(),function(){_cne.ns("util"),window._cne.util.beacon=function(e,t){if(e)if(t||(t={}),t.ssl||(t.ssl=!1),"object"==typeof e)for(var n=0;n<e.length;n++)_cne.util.beacon(e[n],t);else if("string"==typeof e&&t.ssl&&(e=_cne.util.convertUrlToSsl(e)),t.method=t.method?t.method:"image","jquery"===t.method)_cne.$.ajax({url:e,crossDomain:!0,xhrFields:{withCredentials:!0}});else{if("image"===t.method){var i=new Image;return i.id="cne_"+Math.floor(1e4*Math.random()+1),i.src=e,i}if("iframe"===t.method){var r=document.createElement("div");r.style.display="none";var s=document.createElement("iframe");return s.setAttribute("src",e),s.setAttribute("frameBorder",0),s.setAttribute("height",10),s.setAttribute("width",10),r.appendChild(s),document.body.appendChild(r),r}if("javascript"===t.method){var o=document.createElement("script");o.src=e,document.body.appendChild(o)}}}}(),function(){_cne.ns("util");var e=/http[s]?:/g,t=/http[s]?/,n=/&(?:redirect|cr)=http[s]?/,i=/http[^s]/;window._cne.util.convertUrlToSsl=function(i){if(i){if(!window._cne.util.isSsl())return i;if(n.test(i)){var r=i.match(n)[0],s=r.replace(t,"https");i=i.replace(r,s)}return i.replace(e,"https:")}},window._cne.util.isSsl=function(){return document&&document.location&&document.location.protocol?!i.test(document.location.protocol):!1}}(),function(){_cne.util.GoogleCneAnalyticsTracker=_cne.util.cneAnalyticsTracker.extend({init:function(e,t,n,i){this._super(e,t,n),this.trackerType="ga","undefined"==typeof _cneGaTracker&&!function(e,t,n,i,r,s,o){e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date,s=t.createElement(n),o=t.getElementsByTagName(n)[0],s.async=1,s.src=i,o.parentNode.insertBefore(s,o)}(window,document,"script","//www.google-analytics.com/analytics.js","_cneGaTracker"),_cneGaTracker("create",t,{name:e}),_cneGaTracker("require","displayfeatures"),_cneGaTracker("require","linkid","linkid.js"),"undefined"!=typeof i&&(this.hostname=i,_cneGaTracker(e+".set","hostname",i)),this.eventProperties=["hitType","eventCategory","eventAction","eventLabel","eventValue","nonInteraction"],this.timingProperties=["timingCategory","timingVar","timingValue"]},sendPageview:function(){_cneGaTracker(this.name+".send","pageview")},sendEvent:function(e){_cneGaTracker(this.name+".send",this.scrubEventArgs(e))},scrubEventArgs:function(e){return e=this.stripArgs(e,[],this.eventProperties),e.hitType="event",e},sendTiming:function(e){_cneGaTracker(this.name+".send","timing",this.scrubTimingArgs(e))},scrubTimingArgs:function(e){return e=this.stripArgs(e,[],this.timingProperties)}})}(),function(){_cne.ns("util");var e;e=["com","net","org","ac","ad","ae","aero","af","ag","ai","al","am","an","ao","aq","ar","arpa","as","asia","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","biz","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cat","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","coop","cr","cu","cv","cx","cy","cz","de","dj","dk","dm","do","dz","ec","edu","ee","eg","er","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gov","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","info","int","io","iq","ir","is","it","je","jm","jo","jobs","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mg","mh","mil","mk","ml","mm","mn","mo","mobi","mp","mq","mr","ms","mt","mu","museum","mv","mw","mx","my","mz","na","name","nc","ne","nf","ng","ni","nl","no","np","nr","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","pro","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","st","su","sv","sy","sz","tc","td","tel","tf","tg","th","tj","tk","tl","tm","tn","to","tp","tr","travel","tt","tv","tw","tz","ua","ug","uk","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","xn--0zwm56d","xn--11b5bs3a9aj6g","xn--3e0b707e","xn--45brj9c","xn--80akhbyknj4f","xn--90a3ac","xn--9t4b11yi5a","xn--clchc0ea0b2g2a9gcd","xn--deba0ad","xn--fiqs8s","xn--fiqz9s","xn--fpcrj9c3d","xn--fzc2c9e2c","xn--g6w251d","xn--gecrj9c","xn--h2brj9c","xn--hgbk6aj7f53bba","xn--hlcj6aya9esc7a","xn--j6w193g","xn--jxalpdlp","xn--kgbechtv","xn--kprw13d","xn--kpry57d","xn--lgbbat1ad8j","xn--mgbaam7a8h","xn--mgbayh7gpa","xn--mgbbh1a71e","xn--mgbc0a9azcg","xn--mgberp4a5d4ar","xn--o3cw4h","xn--ogbpf8fl","xn--p1ai","xn--pgbs0dh","xn--s9brj9c","xn--wgbh1c","xn--wgbl6a","xn--xkc2al3hye2a","xn--xkc2dl3a5ee0h","xn--yfro4i67o","xn--ygbi2ammx","xn--zckzah","xxx","ye","yt","za","zm","zw"].join(),_cne.util.url={extractDomain:function(t){var n,i,r,s;for(s=t.split("."),n=s.length,i=s[s.length-1].length;r=s[--n];)if(e.indexOf(r)<0||r.length<i||n<s.length-2||0===n)return r}}}(),function(e){function t(){var e=_cne.$("script:first"),t=e.css("color"),n=!1;if(/^rgba/.test(t))n=!0;else try{n=t!=e.css("color","rgba(0, 0, 0, 0.5)").css("color"),e.css("color",t)}catch(i){}return n}function n(e,t,n){var i="rgb"+(_cne.$.support.rgba?"a":"")+"("+parseInt(e[0]+n*(t[0]-e[0]),10)+","+parseInt(e[1]+n*(t[1]-e[1]),10)+","+parseInt(e[2]+n*(t[2]-e[2]),10);return _cne.$.support.rgba&&(i+=","+(e&&t?parseFloat(e[3]+n*(t[3]-e[3])):1)),i+=")"}function i(e){var t,n;return n=(t=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1]:(t=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(e))?[17*parseInt(t[1],16),17*parseInt(t[2],16),17*parseInt(t[3],16),1]:(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),1]:(t=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(e))?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4])]:s[e]}_cne.$.extend(!0,e,{support:{rgba:t()}});var r=["color","backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","outlineColor"];_cne.$.each(r,function(e,t){_cne.$.Tween.propHooks[t]={get:function(e){return _cne.$(e.elem).css(t)},set:function(e){var r=e.elem.style,s=i(_cne.$(e.elem).css(t)),o=i(e.end);e.run=function(e){r[t]=n(s,o,e)}}}}),_cne.$.Tween.propHooks.borderColor={set:function(e){var t=e.elem.style,s=[],o=r.slice(2,6);_cne.$.each(o,function(t,n){s[n]=i(_cne.$(e.elem).css(n))});var a=i(e.end);e.run=function(e){_cne.$.each(o,function(i,r){t[r]=n(s[r],a,e)})}}};var s={aqua:[0,255,255,1],azure:[240,255,255,1],beige:[245,245,220,1],black:[0,0,0,1],blue:[0,0,255,1],brown:[165,42,42,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgrey:[169,169,169,1],darkgreen:[0,100,0,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkviolet:[148,0,211,1],fuchsia:[255,0,255,1],gold:[255,215,0,1],green:[0,128,0,1],indigo:[75,0,130,1],khaki:[240,230,140,1],lightblue:[173,216,230,1],lightcyan:[224,255,255,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],magenta:[255,0,255,1],maroon:[128,0,0,1],navy:[0,0,128,1],olive:[128,128,0,1],orange:[255,165,0,1],pink:[255,192,203,1],purple:[128,0,128,1],violet:[128,0,128,1],red:[255,0,0,1],silver:[192,192,192,1],white:[255,255,255,1],yellow:[255,255,0,1],transparent:[255,255,255,0]}}(jQuery),function(e,t,n){_cne.$.fn.jScrollPane=function(e){function i(e,i){function r(t){var i,o,c,u,d,p,v=!1,g=!1;if(F=t,O===n)d=e.scrollTop(),p=e.scrollLeft(),e.css({overflow:"hidden",padding:0}),M=e.innerWidth()+yt,H=e.innerHeight(),e.width(M),O=_cne.$('<div class="jspPane" />').css("padding",mt).append(e.children()),q=_cne.$('<div class="jspContainer" />').css({width:M+"px",height:H+"px"}).append(O).appendTo(e);else{if(e.css("width",""),v=F.stickToBottom&&S(),g=F.stickToRight&&x(),u=e.innerWidth()+yt!=M||e.outerHeight()!=H,u&&(M=e.innerWidth()+yt,H=e.innerHeight(),q.css({width:M+"px",height:H+"px"})),!u&&_t==W&&O.outerHeight()==G)return e.width(M),void 0;_t=W,O.css("width",""),e.width(M),q.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}O.css("overflow","auto"),W=t.contentWidth?t.contentWidth:O[0].scrollWidth,G=O[0].scrollHeight,O.css("overflow",""),z=W/M,K=G/H,Q=K>1,Y=z>1,Y||Q?(e.addClass("jspScrollable"),i=F.maintainPosition&&(Z||nt),i&&(o=T(),c=P()),s(),a(),l(),i&&(C(g?W-M:o,!1),A(v?G-H:c,!1)),I(),V(),U(),F.enableKeyboardNavigation&&N(),F.clickOnTrack&&f(),D(),F.hijackInternalLinks&&R()):(e.removeClass("jspScrollable"),O.css({top:0,width:q.width()-yt}),j(),L(),B(),h()),F.autoReinitialise&&!gt?gt=setInterval(function(){r(F)},F.autoReinitialiseDelay):!F.autoReinitialise&&gt&&clearInterval(gt),d&&e.scrollTop(0)&&A(d,!1),p&&e.scrollLeft(0)&&C(p,!1),e.trigger("jsp-initialised",[Y||Q])}function s(){Q&&(q.append(_cne.$('<div class="jspVerticalBar" />').append(_cne.$('<div class="jspCap jspCapTop" />'),_cne.$('<div class="jspTrack" />').append(_cne.$('<div class="jspDrag" />').append(_cne.$('<div class="jspDragTop" />'),_cne.$('<div class="jspDragBottom" />'))),_cne.$('<div class="jspCap jspCapBottom" />'))),it=q.find(">.jspVerticalBar"),rt=it.find(">.jspTrack"),X=rt.find(">.jspDrag"),F.showArrows&&(ct=_cne.$('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",d(0,-1)).bind("click.jsp",E),lt=_cne.$('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",d(0,1)).bind("click.jsp",E),F.arrowScrollOnHover&&(ct.bind("mouseover.jsp",d(0,-1,ct)),lt.bind("mouseover.jsp",d(0,1,lt))),u(rt,F.verticalArrowPositions,ct,lt)),ot=H,q.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ot-=_cne.$(this).outerHeight()}),X.hover(function(){X.addClass("jspHover")},function(){X.removeClass("jspHover")}).bind("mousedown.jsp",function(e){_cne.$("html").bind("dragstart.jsp selectstart.jsp",E),X.addClass("jspActive");var t=e.pageY-X.position().top;return _cne.$("html").bind("mousemove.jsp",function(e){g(e.pageY-t,!1)}).bind("mouseup.jsp mouseleave.jsp",v),!1}),o())}function o(){rt.height(ot+"px"),Z=0,st=F.verticalGutter+rt.outerWidth(),O.width(M-st-yt);try{0===it.position().left&&O.css("margin-left",st+"px")}catch(e){}}function a(){Y&&(q.append(_cne.$('<div class="jspHorizontalBar" />').append(_cne.$('<div class="jspCap jspCapLeft" />'),_cne.$('<div class="jspTrack" />').append(_cne.$('<div class="jspDrag" />').append(_cne.$('<div class="jspDragLeft" />'),_cne.$('<div class="jspDragRight" />'))),_cne.$('<div class="jspCap jspCapRight" />'))),ut=q.find(">.jspHorizontalBar"),dt=ut.find(">.jspTrack"),et=dt.find(">.jspDrag"),F.showArrows&&(ht=_cne.$('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",d(-1,0)).bind("click.jsp",E),vt=_cne.$('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",d(1,0)).bind("click.jsp",E),F.arrowScrollOnHover&&(ht.bind("mouseover.jsp",d(-1,0,ht)),vt.bind("mouseover.jsp",d(1,0,vt))),u(dt,F.horizontalArrowPositions,ht,vt)),et.hover(function(){et.addClass("jspHover")},function(){et.removeClass("jspHover")}).bind("mousedown.jsp",function(e){_cne.$("html").bind("dragstart.jsp selectstart.jsp",E),et.addClass("jspActive");var t=e.pageX-et.position().left;return _cne.$("html").bind("mousemove.jsp",function(e){y(e.pageX-t,!1)}).bind("mouseup.jsp mouseleave.jsp",v),!1}),pt=q.innerWidth(),c())}function c(){q.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){pt-=_cne.$(this).outerWidth()}),dt.width(pt+"px"),nt=0}function l(){if(Y&&Q){var e=dt.outerHeight(),t=rt.outerWidth();ot-=e,_cne.$(ut).find(">.jspCap:visible,>.jspArrow").each(function(){pt+=_cne.$(this).outerWidth()}),pt-=t,H-=t,M-=e,dt.parent().append(_cne.$('<div class="jspCorner" />').css("width",e+"px")),o(),c()}Y&&O.width(q.outerWidth()-yt+"px"),G=O.outerHeight(),K=G/H,Y&&(ft=Math.ceil(1/z*pt),ft>F.horizontalDragMaxWidth?ft=F.horizontalDragMaxWidth:ft<F.horizontalDragMinWidth&&(ft=F.horizontalDragMinWidth),et.width(ft+"px"),tt=pt-ft,_(nt)),Q&&(at=Math.ceil(1/K*ot),at>F.verticalDragMaxHeight?at=F.verticalDragMaxHeight:at<F.verticalDragMinHeight&&(at=F.verticalDragMinHeight),X.height(at+"px"),J=ot-at,m(Z))}function u(e,t,n,i){var r,s="before",o="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==s?o=t:t==o&&(s=t,r=n,n=i,i=r),e[s](n)[o](i)}function d(e,t,n){return function(){return p(e,t,this,n),this.blur(),!1}}function p(e,t,n,i){n=_cne.$(n).addClass("jspActive");var r,s,o=!0,a=function(){0!==e&&bt.scrollByX(e*F.arrowButtonSpeed),0!==t&&bt.scrollByY(t*F.arrowButtonSpeed),s=setTimeout(a,o?F.initialDelay:F.arrowRepeatFreq),o=!1};a(),r=i?"mouseout.jsp":"mouseup.jsp",i=i||_cne.$("html"),i.bind(r,function(){n.removeClass("jspActive"),s&&clearTimeout(s),s=null,i.unbind(r)})}function f(){h(),Q&&rt.bind("mousedown.jsp",function(e){if(e.originalTarget===n||e.originalTarget==e.currentTarget){var t,i=_cne.$(this),r=i.offset(),s=e.pageY-r.top-Z,o=!0,a=function(){var n=i.offset(),r=e.pageY-n.top-at/2,l=H*F.scrollPagePercent,u=J*l/(G-H);if(0>s)Z-u>r?bt.scrollByY(-l):g(r);else{if(!(s>0))return c(),void 0;r>Z+u?bt.scrollByY(l):g(r)}t=setTimeout(a,o?F.initialDelay:F.trackClickRepeatFreq),o=!1},c=function(){t&&clearTimeout(t),t=null,_cne.$(document).unbind("mouseup.jsp",c)};return a(),_cne.$(document).bind("mouseup.jsp",c),!1}}),Y&&dt.bind("mousedown.jsp",function(e){if(e.originalTarget===n||e.originalTarget==e.currentTarget){var t,i=_cne.$(this),r=i.offset(),s=e.pageX-r.left-nt,o=!0,a=function(){var n=i.offset(),r=e.pageX-n.left-ft/2,l=M*F.scrollPagePercent,u=tt*l/(W-M);if(0>s)nt-u>r?bt.scrollByX(-l):y(r);else{if(!(s>0))return c(),void 0;r>nt+u?bt.scrollByX(l):y(r)}t=setTimeout(a,o?F.initialDelay:F.trackClickRepeatFreq),o=!1},c=function(){t&&clearTimeout(t),t=null,_cne.$(document).unbind("mouseup.jsp",c)};return a(),_cne.$(document).bind("mouseup.jsp",c),!1}})}function h(){dt&&dt.unbind("mousedown.jsp"),rt&&rt.unbind("mousedown.jsp")}function v(){_cne.$("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),X&&X.removeClass("jspActive"),et&&et.removeClass("jspActive")}function g(e,t){Q&&(0>e?e=0:e>J&&(e=J),t===n&&(t=F.animateScroll),t?bt.animate(X,"top",e,m):(X.css("top",e),m(e)))}function m(t){t===n&&(t=X.position().top),q.scrollTop(0),Z=t;var i=0===Z,r=Z==J,s=t/J,o=-s*(G-H);(wt!=i||Ct!=r)&&(wt=i,Ct=r,e.trigger("jsp-arrow-change",[wt,Ct,At,kt])),b(i,r),O.css("top",o),e.trigger("jsp-scroll-y",[-o,i,r]).trigger("scroll")}function y(e,t){Y&&(0>e?e=0:e>tt&&(e=tt),t===n&&(t=F.animateScroll),t?bt.animate(et,"left",e,_):(et.css("left",e),_(e)))}function _(t){t===n&&(t=et.position().left),q.scrollTop(0),nt=t;var i=0===nt,r=nt==tt,s=t/tt,o=-s*(W-M);(At!=i||kt!=r)&&(At=i,kt=r,e.trigger("jsp-arrow-change",[wt,Ct,At,kt])),w(i,r),O.css("left",o),e.trigger("jsp-scroll-x",[-o,i,r]).trigger("scroll")}function b(e,t){F.showArrows&&(ct[e?"addClass":"removeClass"]("jspDisabled"),lt[t?"addClass":"removeClass"]("jspDisabled"))}function w(e,t){F.showArrows&&(ht[e?"addClass":"removeClass"]("jspDisabled"),vt[t?"addClass":"removeClass"]("jspDisabled"))}function A(e,t){var n=e/(G-H);g(n*J,t)}function C(e,t){var n=e/(W-M);y(n*tt,t)}function k(e,t,n){var i,r,s,o,a,c,l,u,d,p=0,f=0;try{i=_cne.$(e)}catch(h){return}for(r=i.outerHeight(),s=i.outerWidth(),q.scrollTop(0),q.scrollLeft(0);!i.is(".jspPane");)if(p+=i.position().top,f+=i.position().left,i=i.offsetParent(),/^body|html$/i.test(i[0].nodeName))return;o=P(),c=o+H,o>p||t?u=p-F.verticalGutter:p+r>c&&(u=p-H+r+F.verticalGutter),u&&A(u,n),a=T(),l=a+M,a>f||t?d=f-F.horizontalGutter:f+s>l&&(d=f-M+s+F.horizontalGutter),d&&C(d,n)}function T(){return-O.position().left}function P(){return-O.position().top}function S(){var e=G-H;return e>20&&e-P()<10}function x(){var e=W-M;return e>20&&e-T()<10}function V(){q.unbind(Pt).bind(Pt,function(e,t,n,i){var r=nt,s=Z;return bt.scrollBy(n*F.mouseWheelSpeed,-i*F.mouseWheelSpeed,!1),r==nt&&s==Z})}function j(){q.unbind(Pt)}function E(){return!1}function I(){O.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){k(e.target,!1)})}function L(){O.find(":input,a").unbind("focus.jsp")}function N(){function t(){var e=nt,t=Z;switch(n){case 40:bt.scrollByY(F.keyboardSpeed,!1);break;case 38:bt.scrollByY(-F.keyboardSpeed,!1);break;case 34:case 32:bt.scrollByY(H*F.scrollPagePercent,!1);break;case 33:bt.scrollByY(-H*F.scrollPagePercent,!1);break;case 39:bt.scrollByX(F.keyboardSpeed,!1);break;case 37:bt.scrollByX(-F.keyboardSpeed,!1)}return i=e!=nt||t!=Z}var n,i,r=[];Y&&r.push(ut[0]),Q&&r.push(it[0]),O.focus(function(){e.focus()}),e.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(e){if(e.target===this||r.length&&_cne.$(e.target).closest(r).length){var s=nt,o=Z;switch(e.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=e.keyCode,t();break;case 35:A(G-H),n=null;break;case 36:A(0),n=null}return i=e.keyCode==n&&s!=nt||o!=Z,!i}}).bind("keypress.jsp",function(e){return e.keyCode==n&&t(),!i}),F.hideFocus?(e.css("outline","none"),"hideFocus"in q[0]&&e.attr("hideFocus",!0)):(e.css("outline",""),"hideFocus"in q[0]&&e.attr("hideFocus",!1))}function B(){e.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function D(){if(location.hash&&location.hash.length>1){var e,t,n=escape(location.hash.substr(1));try{e=_cne.$("#"+n+', a[name="'+n+'"]')}catch(i){return}e.length&&O.find(n)&&(0===q.scrollTop()?t=setInterval(function(){q.scrollTop()>0&&(k(e,!0),_cne.$(document).scrollTop(q.position().top),clearInterval(t))},50):(k(e,!0),_cne.$(document).scrollTop(q.position().top)))}}function R(){_cne.$(document.body).data("jspHijack")||(_cne.$(document.body).data("jspHijack",!0),_cne.$(document.body).delegate("a[href*=#]","click",function(e){var n,i,r,s,o,a,c=this.href.substr(0,this.href.indexOf("#")),l=location.href;if(-1!==location.href.indexOf("#")&&(l=location.href.substr(0,location.href.indexOf("#"))),c===l){n=escape(this.href.substr(this.href.indexOf("#")+1));try{i=_cne.$("#"+n+', a[name="'+n+'"]')}catch(u){return}i.length&&(r=i.closest(".jspScrollable"),s=r.data("jsp"),s.scrollToElement(i,!0),r[0].scrollIntoView&&(o=_cne.$(t).scrollTop(),a=i.offset().top,(o>a||a>o+_cne.$(t).height())&&r[0].scrollIntoView()),e.preventDefault())}}))}function U(){var e,t,n,i,r,s=!1;q.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(o){var a=o.originalEvent.touches[0];e=T(),t=P(),n=a.pageX,i=a.pageY,r=!1,s=!0}).bind("touchmove.jsp",function(o){if(s){var a=o.originalEvent.touches[0],c=nt,l=Z;return bt.scrollTo(e+n-a.pageX,t+i-a.pageY),r=r||Math.abs(n-a.pageX)>5||Math.abs(i-a.pageY)>5,c==nt&&l==Z}}).bind("touchend.jsp",function(){s=!1}).bind("click.jsp-touchclick",function(){return r?(r=!1,!1):void 0})}function $(){var t=P(),n=T();e.removeClass("jspScrollable").unbind(".jsp"),e.replaceWith(Tt.append(O.children())),Tt.scrollTop(t),Tt.scrollLeft(n),gt&&clearInterval(gt)}var F,O,M,H,q,W,G,z,K,Q,Y,X,J,Z,et,tt,nt,it,rt,st,ot,at,ct,lt,ut,dt,pt,ft,ht,vt,gt,mt,yt,_t,bt=this,wt=!0,At=!0,Ct=!1,kt=!1,Tt=e.clone(!1,!1).empty(),Pt=_cne.$.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";mt=e.css("paddingTop")+" "+e.css("paddingRight")+" "+e.css("paddingBottom")+" "+e.css("paddingLeft"),yt=(parseInt(e.css("paddingLeft"),10)||0)+(parseInt(e.css("paddingRight"),10)||0),_cne.$.extend(bt,{reinitialise:function(e){e=_cne.$.extend({},F,e),r(e)},scrollToElement:function(e,t,n){k(e,t,n)},scrollTo:function(e,t,n){C(e,n),A(t,n)},scrollToX:function(e,t){C(e,t)},scrollToY:function(e,t){A(e,t)},scrollToPercentX:function(e,t){C(e*(W-M),t)},scrollToPercentY:function(e,t){A(e*(G-H),t)},scrollBy:function(e,t,n){bt.scrollByX(e,n),bt.scrollByY(t,n)},scrollByX:function(e,t){var n=T()+Math[0>e?"floor":"ceil"](e),i=n/(W-M);y(i*tt,t)},scrollByY:function(e,t){var n=P()+Math[0>e?"floor":"ceil"](e),i=n/(G-H);g(i*J,t)},positionDragX:function(e,t){y(e,t)},positionDragY:function(e,t){g(e,t)},animate:function(e,t,n,i){var r={};r[t]=n,e.animate(r,{duration:F.animateDuration,easing:F.animateEase,queue:!1,step:i})},getContentPositionX:function(){return T()},getContentPositionY:function(){return P()},getContentWidth:function(){return W},getContentHeight:function(){return G},getPercentScrolledX:function(){return T()/(W-M)},getPercentScrolledY:function(){return P()/(G-H)},getIsScrollableH:function(){return Y},getIsScrollableV:function(){return Q},getContentPane:function(){return O},scrollToBottom:function(e){g(J,e)},hijackInternalLinks:_cne.$.noop,destroy:function(){$()}}),r(i)}return e=_cne.$.extend({},_cne.$.fn.jScrollPane.defaults,e),_cne.$.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){e[this]=e[this]||e.speed}),this.each(function(){var t=_cne.$(this),n=t.data("jsp");n?n.reinitialise(e):(_cne.$("script",t).filter('[type="text/javascript"],:not([type])').remove(),n=new i(t,e),t.data("jsp",n))})},_cne.$.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:n,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(jQuery,this),function(){function e(e){var t=e||window.event,n=[].slice.call(arguments,1),i=0,r=0,s=0;return e=_cne.$.event.fix(t),e.type="mousewheel",t.wheelDelta&&(i=t.wheelDelta/120),t.detail&&(i=-t.detail/3),s=i,void 0!==t.axis&&t.axis===t.HORIZONTAL_AXIS&&(s=0,r=-1*i),void 0!==t.wheelDeltaY&&(s=t.wheelDeltaY/120),void 0!==t.wheelDeltaX&&(r=-1*t.wheelDeltaX/120),n.unshift(e,i,r,s),(_cne.$.event.dispatch||_cne.$.event.handle).apply(this,n)}var t=["DOMMouseScroll","mousewheel"];if(_cne.$.event.fixHooks)for(var n=t.length;n;)_cne.$.event.fixHooks[t[--n]]=_cne.$.event.mouseHooks;_cne.$.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var n=t.length;n;)this.addEventListener(t[--n],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var n=t.length;n;)this.removeEventListener(t[--n],e,!1);else this.onmousewheel=null}},_cne.$.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(e,t){"use strict";var n="",i="?",r="function",s="undefined",o="object",a="major",c="model",l="name",u="type",d="vendor",p="version",f="architecture",h="console",v="mobile",g="tablet",m={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},y={rgx:function(){for(var e,n,i,a,c,l,u,d=0,p=arguments;d<p.length;d+=2){var f=p[d],h=p[d+1];if(typeof e===s){e={};for(a in h)c=h[a],typeof c===o?e[c[0]]=t:e[c]=t}for(n=i=0;n<f.length;n++)if(l=f[n].exec(this.getUA())){for(a=0;a<h.length;a++)u=l[++i],c=h[a],typeof c===o&&c.length>0?2==c.length?e[c[0]]=typeof c[1]==r?c[1].call(this,u):c[1]:3==c.length?e[c[0]]=typeof c[1]!==r||c[1].exec&&c[1].test?u?u.replace(c[1],c[2]):t:u?c[1].call(this,u,c[2]):t:4==c.length&&(e[c[0]]=u?c[3].call(this,u.replace(c[1],c[2])):t):e[c]=u?u:t;break}if(l)break}return e},str:function(e,n){for(var r in n)if(typeof n[r]===o&&n[r].length>0){for(var s=0;s<n[r].length;s++)if(m.has(n[r][s],e))return r===i?t:r}else if(m.has(n[r],e))return r===i?t:r;return e}},_={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},b={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[l,p,a],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[l,"Opera"],p,a],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[l,p,a],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[l,"IE"],p,a],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[l,"Yandex"],p,a],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[l,/_/g," "],p,a],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[l,p,a],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[l,"Dolphin"],p,a],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[l,"Chrome"],p,a],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[p,a,[l,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[p,a,l],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[l,[a,y.str,_.browser.oldsafari.major],[p,y.str,_.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[l,p,a],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[l,"Netscape"],p,a],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[l,p,a]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[f,/ower/,"",m.lowerize]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/(ia64(?=;)|68k(?=\))|arm(?=v\d+;)|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[f,m.lowerize]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[c,d,[u,g]],[/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,c,[u,g]],[/\((ip[honed]+);.+(apple)/i],[c,d,[u,v]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,c,[u,v]],[/\((bb10);\s(\w+)/i],[[d,"BlackBerry"],c,[u,v]],[/android.+((transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+))/i],[[d,"Asus"],c,[u,g]],[/(sony)\s(tablet\s[ps])/i],[d,c,[u,g]],[/(nintendo)\s([wids3u]+)/i],[d,c,[u,h]],[/((playstation)\s[3portablevi]+)/i],[[d,"Sony"],c,[u,h]],[/(sprint\s(\w+))/i],[[d,y.str,_.device.sprint.vendor],[c,y.str,_.device.sprint.model],[u,v]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[d,[c,/_/g," "],[u,v]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[[d,"Motorola"],c,[u,v]],[/android.+\s((mz60\d|xoom[\s2]{0,2}))\sbuild\//i],[[d,"Motorola"],c,[u,g]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9))/i],[[d,"Samsung"],c,[u,g]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[d,"Samsung"],c,[u,v]],[/(sie)-(\w+)*/i],[[d,"Siemens"],c,[u,v]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[d,"Nokia"],c,[u,v]],[/android\s3\.[\s\w-;]{10}((a\d{3}))/i],[[d,"Acer"],c,[u,g]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],c,[u,g]],[/((nexus\s4))/i,/(lg)[e;\s-\/]+(\w+)*/i],[[d,"LG"],c,[u,v]],[/(mobile|tablet);.+rv\:.+gecko\//i],[u,d,c]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,p],[/rv\:([\w\.]+).*(gecko)/i],[p,l]],os:[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[p,y.str,_.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[p,y.str,_.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],[l,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[l,"Symbian"],p],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],p],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[l,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],p],[/(sunos)\s?([\w\.]+\d)*/i],[[l,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[l,p],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[l,"iOS"],[p,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[l,[p,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[l,p]]},w=function(t){var i=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:n);
return this instanceof w?(this.getBrowser=function(){return y.rgx.apply(this,b.browser)},this.getCPU=function(){return y.rgx.apply(this,b.cpu)},this.getDevice=function(){return y.rgx.apply(this,b.device)},this.getEngine=function(){return y.rgx.apply(this,b.engine)},this.getOS=function(){return y.rgx.apply(this,b.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this.setUA(i),void 0):new w(t).getResult()};if(typeof exports!==s)typeof module!==s&&module.exports&&(exports=module.exports=w),exports.UAParser=w;else if(e.UAParser=w,typeof define===r&&define.amd&&define(function(){return w}),typeof e.jQuery!==s){var A=e.jQuery,C=new w;A.ua=C.getResult(),A.ua.get=function(){return C.getUA()},A.ua.set=function(e){C.setUA(e);var t=C.getResult();for(var n in t)A.ua[n]=t[n]}}}(this);var ns_=ns_||{};ns_.PlatformAPIs=ns_.PlatformAPIs||{Standard:0,Trilithium:1,AppleTV:2,Chromecast:3},ns_.Utils=ns_.Utils||function(){return{uid:function(){var e=1;return function(){return+new Date+"_"+e++}}(),filter:function(e,t){var n={};for(var i in t)t.hasOwnProperty(i)&&e(t[i])&&(n[i]=t[i]);return n},extend:function(e){var t,n=arguments.length;e=e||{};for(var i=1;n>i;i++)if(t=arguments[i])for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},getString:function(e,t){var n=String(e);return null==e?t||"na":n},getLong:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getBoolean:function(e,t){var n="true"==String(e).toLowerCase();return null==e?t||!1:n},isNotEmpty:function(e){return"undefined"!=typeof e&&null!=e&&"undefined"!=typeof e.length&&e.length>0},indexOf:function(e,t){var n=-1;return this.forEach(t,function(t,i){t==e&&(n=i)}),n},forEach:function(e,t,n){try{if("function"==typeof t)if(n="undefined"!=typeof n?n:null,"number"!=typeof e.length||"undefined"==typeof e[0]){var i="undefined"!=typeof e.__proto__;for(var r in e)e.hasOwnProperty(r)&&(!i||i&&"undefined"==typeof e.__proto__[r])&&"function"!=typeof e[r]&&t.call(n,e[r],r)}else for(var s=0,o=e.length;o>s;s++)t.call(n,e[s],s)}catch(a){}},regionMatches:function(e,t,n,i,r){if(0>t||0>i||t+r>e.length||i+r>n.length)return!1;for(;--r>=0;){var s=e.charAt(t++),o=n.charAt(i++);if(s!=o)return!1}return!0},size:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},log:function(e,t){if("undefined"!=typeof t&&t&&"undefined"!=typeof console&&console){var n=new Date,i=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();console.log(i,e)}},isTrue:function(e){return"undefined"==typeof e?!1:"string"==typeof e?(e=e.toLowerCase(),"true"===e||"1"===e||"on"===e):!!e},toString:function(e){if("undefined"==typeof e)return"undefined";if("string"==typeof e)return e;if("[object Array]"===Object.prototype.toString.call(e))return e.join(",");if(this.size(e)>0){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}return e.toString()},exists:function(e){return"undefined"!=typeof e&&null!=e},firstGreaterThan0:function(){for(var e=0,t=arguments.length;t>e;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){if(null==e||"object"!=typeof e)return e;var t=function(){function e(){}function t(t){return"object"==typeof t?(e.prototype=t,new e):t}function n(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function i(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function r(e,t){var n=new i;return t&&(n.maxDepth=t),n.deepCopy(e)}function s(e){return"undefined"!=typeof window&&window&&window.Node?e instanceof Node:e===document?!0:"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}var o=[];return n.prototype={constructor:n,canCopy:function(){return!1},create:function(){},populate:function(){}},i.prototype={constructor:i,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){for(var t=this.copiedObjects,n=t.length,i=0;n>i;i++)if(t[i][0]===e)return t[i][1];return void 0},deepCopy:function(e){if(null===e)return null;if("object"!=typeof e)return e;var t=this.getCachedResult(e);if(t)return t;for(var n=0;n<o.length;n++){var i=o[n];if(i.canCopy(e))return this.applyDeepCopier(i,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,t){var n=e.create(t);if(this.cacheResult(t,n),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,t,n),this.depth--,n}},r.DeepCopier=n,r.deepCopiers=o,r.register=function(e){e instanceof n||(e=new n(e)),o.unshift(e)},r.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?t(e.constructor.prototype):{}},populate:function(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}}),r.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var i=0;i<t.length;i++)n.push(e(t[i]));return n}}),r.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),r.register({canCopy:function(e){return s(e)},create:function(e){return e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if(t===document)return document;if(t.childNodes&&t.childNodes.length)for(var i=0;i<t.childNodes.length;i++){var r=e(t.childNodes[i]);n.appendChild(r)}}}),{deepCopy:r}}();return t.deepCopy(e)},safeGet:function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},getBrowserName:function(){if("undefined"==typeof navigator||!navigator.hasOwnProperty("userAgent")||!navigator.hasOwnProperty("appName"))return"";var e,t,n=navigator.userAgent,i=navigator.appName;return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?i="Opera":-1!=(t=n.indexOf("Android"))?i="Android":-1!=(t=n.indexOf("Chrome"))?i="Chrome":-1!=(t=n.indexOf("Safari"))?i="Safari":-1!=(t=n.indexOf("Firefox"))?i="Firefox":-1!=(t=n.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))&&(i=n.substring(e,t),i.toLowerCase()==i.toUpperCase()&&(i=navigator.appName)),i},getBrowserFullVersion:function(){if("undefined"==typeof navigator||!navigator.hasOwnProperty("userAgent")||!navigator.hasOwnProperty("appName")||!navigator.hasOwnProperty("appVersion"))return"";var e,t,n,i,r=navigator.userAgent,s=navigator.appName,o=""+parseFloat(navigator.appVersion);return-1!=(t=r.indexOf("Opera"))?(o=r.substring(t+6),-1!=(t=r.indexOf("Version"))&&(o=r.substring(t+8))):-1!=(t=r.indexOf("OPR/"))?o=r.substring(t+4):-1!=(t=r.indexOf("Android"))?o=r.substring(t+11):-1!=(t=r.indexOf("Chrome"))?o=r.substring(t+7):-1!=(t=r.indexOf("Safari"))?(o=r.substring(t+7),-1!=(t=r.indexOf("Version"))&&(o=r.substring(t+8))):-1!=(t=r.indexOf("Firefox"))?o=r.substring(t+8):"Microsoft Internet Explorer"==s?(i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=i.exec(r)&&(o=parseFloat(RegExp.$1))):"Netscape"==s?(i=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=i.exec(r)&&(o=parseFloat(RegExp.$1))):r.lastIndexOf(" ")+1<(t=r.lastIndexOf("/"))&&(o=r.substring(t+1)),o=o.toString(),-1!=(n=o.indexOf(";"))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(" "))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(")"))&&(o=o.substring(0,n)),e=parseInt(""+o,10),isNaN(e)&&(o=""+parseFloat(navigator.appVersion)),o},browserAcceptsLargeURLs:function(){return"undefined"!=typeof window?null===window.ActiveXObject||!0:!0}}}(),ns_.StreamSense=ns_.StreamSense||function(){function e(e,t){var i=e||"",r="undefined",s=m.comScore||m.sitestat||function(e){var t,i,s,o,a,c="comScore=",l=y.cookie,u="",d="indexOf",p="substring",h="length",v=n.browserAcceptsLargeURLs()?C.URL_LENGTH_LIMIT:C.RESTRICTED_URL_LENGTH_LIMIT,g="&ns_",_="&",b=m.encodeURIComponent||escape;if(l[d](c)+1)for(o=0,s=l.split(";"),a=s[h];a>o;o++)i=s[o][d](c),i+1&&(u=_+unescape(s[o][p](i+c[h])));e+=g+"_t="+ +new Date+g+"c="+(y.characterSet||y.defaultCharset||"")+u,e.length>v&&e.indexOf(_)>0&&(t=e.substr(0,v-8).lastIndexOf(_),e=(e.substring(0,t)+g+"cut="+b(e.substring(t+1))).substr(0,v)),f.httpGet(e),typeof ns_p===r&&(ns_p={src:e}),ns_p.lastMeasurement=e};if(typeof t!==r){var o=[],a=m.encodeURIComponent||escape;for(var c in t)t.hasOwnProperty(c)&&o.push(a(c)+"="+a(t[c]));/[\?\&]$/.test(i)||(i+="&"),i+=o.join("&")}return s(i)}function t(e,t){for(var i,r=m.encodeURIComponent||escape,s=[],o=C.LABELS_ORDER,a=e.split("?"),c=a[0],l=a[1],u=l.split("&"),d=0,p=u.length;p>d;d++){var f=u[d].split("="),h=unescape(f[0]),v=unescape(f[1]);h&&(t[h]=v)}for(var g={},_=0,b=o.length;b>_;_++){var w=o[_];if(t.hasOwnProperty(w)){var A=t[w];"undefined"!=typeof A&&null!=A&&(g[w]=!0,s.push(r(w)+"="+r(t[w])))}}for(var k in t)if(t.hasOwnProperty(k)){if(g[k])continue;var T=t[k];"undefined"!=typeof T&&null!=T&&s.push(r(k)+"="+r(t[k]))}i=c+"?"+s.join("&"),i=i+(i.indexOf("&c8=")<0?"&c8="+r(y.title):"")+(i.indexOf("&c7=")<0?"&c7="+r(y.URL):"")+(i.indexOf("&c9=")<0?"&c9="+r(y.referrer):"");var P=n.browserAcceptsLargeURLs()?C.URL_LENGTH_LIMIT:C.RESTRICTED_URL_LENGTH_LIMIT;if(i.length>P&&i.indexOf("&")>0){var S=i.substr(0,P-8).lastIndexOf("&");i=(i.substring(0,S)+"&ns_cut="+r(i.substring(S+1))).substr(0,P)}return i}var n=ns_.Utils,i=function(){var e="cs_";return function(){var t="undefined"!=typeof localStorage?localStorage:{};n.extend(this,{get:function(n){return t[e+n]},set:function(n,i){t[e+n]=i},has:function(n){return e+n in t},remove:function(n){delete t[e+n]},clear:function(){for(var e in t)t.hasOwnProperty(e)&&delete t[e]}})}}(),r=function(){var e="cs_",t=function(){var t="undefined"!=typeof atv&&"undefined"!=typeof atv.localStorage&&atv.localStorage||null;n.extend(this,{get:function(n){return t&&n&&t.getItem(e+n)||null},set:function(n,i){t&&n&&(t[e+n]=i)},has:function(n){return t&&n&&null!=t.getItem(e+n)||!1},remove:function(n){t&&n&&t.removeItem(e+n)},clear:function(){}})};return t}(),s=function(e,t){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e}},o=function(e,t,n){"undefined"!=typeof XMLHttpRequest&&n&&"undefined"!=typeof setTimeout&&setTimeout(n,0);var i=new XMLHttpRequest;i.open("POST",e,!0),i.onreadystatechange=function(){4===i.readyState&&(n&&n(i.status),i=null)},i.send(t)},a=function(e,t,n){n&&"undefined"!=typeof setTimeout&&setTimeout(n,0)},c=function(){function e(e){var t=l+e;d[t]="",p[t]=[]}function t(e,t){var n=l+e;d[n]+=f+o(t),p[n].push(t)}function i(e,t){var i=l+e,r=p[i];r.splice(n.indexOf(t,r),1);for(var s=[],a=0,c=r.length;c>a;a++)s.push(o(r[a]));d[i]=s.join(f),delete d[u+e+t]}function r(e,t,n){d[u+e+t]=n}function s(e,t){return d[u+e+t]}var o="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape,a="undefined"!=typeof decodeURIComponent?decodeURIComponent:unescape,l="cs_dir_",u="cs_file_",d="undefined"!=typeof localStorage?localStorage:{},p={},f="|";return{dir:function(e){var t=l+e,n=p[t];if(n)return n.slice();var i=d[t];if(i){i=i.split(f),n=[];for(var r=0,s=i.length;s>r;r++)i[r].length>0&&n.push(a(i[r]));return p[t]=n,n.slice()}return null},append:function(e,t,n){var i=c.read(e,t);i?i+=n:i=n,c.write(e,t,i)},write:function(i,s,o){var a=c.dir(i);a||(e(i),a=[]),-1==n.indexOf(s,a)&&t(i,s),r(i,s,o)},deleteFile:function(e,t){var r=c.dir(e);return r?-1==n.indexOf(t,r)?!1:(i(e,t),!0):!1},read:function(e,t){var i=c.dir(e);return i?-1==n.indexOf(t,i)?null:s(e,t):null}}}(),l=function(){return{dir:function(){return null},append:function(){},write:function(){},deleteFile:function(){return!1},read:function(){return null}}}(),u=function(e,t){"undefined"!=typeof engine&&t&&"undefined"!=typeof setTimeout&&setTimeout(t,0);var n=engine.createHttpClient(),i=n.createRequest("GET",e,null);i.start(),t&&setTimeout(t,0)},d=function(e,t){if("undefined"!=typeof atv&&"function"==typeof atv.setTimeout){"undefined"!=typeof XMLHttpRequest&&t&&atv.setTimeout(t,0);var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&(t&&t(n.status),n=null)},n.send()}},p=function(e,t,n){if("undefined"!=typeof atv&&"function"==typeof atv.setTimeout){"undefined"!=typeof XMLHttpRequest&&n&&atv.setTimeout(n,0);var i=new XMLHttpRequest;i.open("POST",e,!0),i.onreadystatechange=function(){4===i.readyState&&(n&&n(i.status),i=null)},i.send(t)}},f=function(){return{PLATFORM:"generic",httpGet:s,httpPost:a,Storage:i,IO:l,getCrossPublisherId:function(){return null},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return""},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return""},getRuntimeVersion:function(){return""},getResolution:function(){return""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e,t,n){return setTimeout(e,t,n)},clearTimeout:function(e){return clearTimeout(e)},getDeviceArchitecture:function(){return Constants.UNKNOWN_VALUE},getConnectionType:function(){return Constants.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return Constants.UNKNOWN_VALUE}}}(),h=function(){function e(){return"undefined"!=typeof engine&&"undefined"!=typeof engine.stats}function t(){return n.isNotEmpty(engine.stats.device.id)?engine.stats.device.id:n.isNotEmpty(engine.stats.network.mac)?engine.stats.network.mac:null}function r(){if(null==s){var e=t();null!=e?(s=e,o="31",c=e):(s=+new Date+~~(1e3*Math.random()),o="72",c=null)}}var s=null,o=null,c=null;return{PLATFORM:"trilithium",httpGet:u,httpPost:a,Storage:i,IO:l,getCrossPublisherId:function(){return r(),c},getAppName:function(){return n.isNotEmpty(engine.stats.application.name)?engine.stats.application.name:Constants.UNKNOWN_VALUE},getAppVersion:function(){return n.isNotEmpty(engine.stats.application.version)?engine.stats.application.version:Constants.UNKNOWN_VALUE},getVisitorId:function(){return r(),s},getVisitorIdSuffix:function(){return o},getDeviceName:function(){return n.safeGet(engine.stats.device.platform,"")},getPlatformVersion:function(){return n.safeGet(engine.stats.device.version,"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return""},getResolution:function(){return"undefined"!=typeof screen&&"undefined"!=typeof screen.height&&"undefined"!=typeof screen.width?screen.height+"x"+screen.width:""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:e}}(),v=function(){function e(){return"undefined"==typeof window&&"undefined"!=typeof atv}function t(){null==i&&("undefined"!=typeof atv&&"undefined"!=typeof atv.device&&atv.device.idForVendor?(i=n.safeGet(atv.device.idForVendor,""),s="62"):(i=+new Date+~~(1e3*Math.random()),s="72"),o=null)}var i=null,s=null,o=null;return{PLATFORM:"atv",httpGet:d,httpPost:p,Storage:r,IO:l,getCrossPublisherId:function(){return t(),o},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return t(),i},getVisitorIdSuffix:function(){return s},getDeviceName:function(){return"Apple TV"},getPlatformVersion:function(){return"undefined"!=typeof atv&&"undefined"!=typeof atv.device&&n.safeGet(atv.device.softwareVersion,"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"atv"},getRuntimeVersion:function(){return"undefined"!=typeof atv&&"undefined"!=typeof atv.device&&n.safeGet(atv.device.softwareVersion,"")},getResolution:function(){return"undefined"!=typeof atv.device&&"undefined"!=typeof atv.device.screenFrame&&"undefined"!=typeof atv.device.screenFrame.height&&"undefined"!=typeof atv.device.screenFrame.width?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:""},getLanguage:function(){return"undefined"!=typeof atv&&"undefined"!=typeof atv.device&&n.safeGet(atv.device.language,"")},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},setTimeout:function(e,t,n){return"undefined"!=typeof atv&&"undefined"!=typeof atv.setTimeout&&atv.setTimeout(e,t,n)},clearTimeout:function(e){return"undefined"!=typeof atv&&"undefined"!=typeof atv.clearTimeout&&atv.clearTimeout(e)},isCompatible:e}}(),g=function(){function e(){return"undefined"!=typeof window&&"undefined"!=typeof document}return{PLATFORM:"chromecast",httpGet:s,httpPost:o,Storage:i,IO:c,getCrossPublisherId:function(){return null},getAppName:function(){return"undefined"!=typeof document&&document.title||Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return"chromecast"},getPlatformVersion:function(){return"5"},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return n.safeGet(n.getBrowserName()+" "+n.getBrowserFullVersion(),Constants.UNKNOWN_VALUE)},getResolution:function(){var e="undefined"!=typeof window&&n.exists(window.screen)&&n.exists(window.screen.availWidth)?window.screen.availWidth:0,t="undefined"!=typeof window&&n.exists(window.screen)&&n.exists(window.screen.availHeight)?window.screen.availHeight:0;return e>0&&t>0?e+"x"+t:""},getLanguage:function(){return"undefined"!=typeof window&&n.exists(window.navigator)&&n.safeGet(window.navigator.language,"")||""},getPackageName:function(){return"undefined"!=typeof castReceiverManager&&castReceiverManager.getApplicationData&&"function"==typeof castReceiverManager.getApplicationData&&castReceiverManager.getApplicationData().namespaces&&castReceiverManager.getApplicationData().namespaces[0]||""},isConnectionAvailable:function(){return"undefined"!=typeof window&&n.exists(window.navigator)&&n.safeGet(window.navigator.onLine,!0)||!0},isCompatible:e,getConnectionType:function(){return Constants.UNKNOWN_VALUE}}}();f.autoSelect=function(){h.isCompatible()?ns_.Utils.extend(f,h):v.isCompatible()&&ns_.Utils.extend(f,v)},f.setPlatformAPI=function(e){var t=!1;switch(e){case ns_.PlatformAPIs.Trilithium:ns_.Utils.extend(f,h),t=!0;break;case ns_.PlatformAPIs.AppleTV:ns_.Utils.extend(f,v),t=!0;break;case ns_.PlatformAPIs.Chromecast:n.extend(f,g),t=!0}t&&(f.autoSelect=function(){})};var m,y,_="undefined"!=typeof window&&"undefined"!=typeof document;_?(m=window,y=document):(m={},y={location:{href:""},title:"",URL:"",referrer:"",cookie:""});var n=n||{};n.filterMap=function(e,t){for(var i in e)e.hasOwnProperty(i)&&-1==n.indexOf(i,t)&&delete e[i]},n.getKeys=function(e,t){var n,i=[];for(n in e)(!t||t.test(n))&&e.hasOwnProperty(n)&&(i[i.length]=n);return i};var b=function(){var e=["play","pause","end","buffer","keep-alive","hb","custom","ad_play","ad_pause","ad_end","ad_click"];return{PLAY:0,PAUSE:1,END:2,BUFFER:3,KEEP_ALIVE:4,HEART_BEAT:5,CUSTOM:6,AD_PLAY:7,AD_PAUSE:8,AD_END:9,AD_CLICK:10,toString:function(t){return e[t]}}}(),w=function(){var e=[b.END,b.PLAY,b.PAUSE,b.BUFFER];return{IDLE:0,PLAYING:1,PAUSED:2,BUFFERING:3,toEventType:function(t){return e[t]}}}(),A={ADPLAY:b.AD_PLAY,ADPAUSE:b.AD_PAUSE,ADEND:b.AD_END,ADCLICK:b.AD_CLICK},C={STREAMSENSE_VERSION:"4.1505.18",DEFAULT_PLAYERNAME:"streamsense",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sq","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_pt","ns_st_pa","ns_st_ad","ns_st_li","ns_st_ci","ns_ap_jb","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_bt","ns_st_bp","ns_st_pc","ns_st_pp","ns_st_br","ns_st_ub","ns_st_vo","ns_st_ws","ns_st_pl","ns_st_pr","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_dt","ns_st_de","ns_st_pu","ns_st_cu","ns_st_fee","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},k=function(){return function(){function e(e,t){var n=t[e];null!=n&&(i[e]=n)}var t,i,r=this,s=0,o=0,a=0,c=0,l=0,u=0;n.extend(this,{reset:function(e){null!=e&&e.length>0?n.filterMap(i,e):i={},i.hasOwnProperty("ns_st_cl")||(i.ns_st_cl="0"),i.hasOwnProperty("ns_st_pn")||(i.ns_st_pn="1"),i.hasOwnProperty("ns_st_tp")||(i.ns_st_tp="1"),r.setPauses(0),r.setStarts(0),r.setBufferingTime(0),r.setBufferingTimestamp(-1),r.setPlaybackTime(0),r.setPlaybackTimestamp(-1)},setLabels:function(e,t){null!=e&&n.extend(i,e),r.setRegisters(i,t)},getLabels:function(){return i},setLabel:function(e,t){var n={};n[e]=t,r.setLabels(n,null)},getLabel:function(e){return i[e]},getClipId:function(){return("undefined"==typeof t||null==t)&&r.setClipId("1"),t},setClipId:function(e){t=e},setRegisters:function(t,n){var i=t.ns_st_cn;null!=i&&(r.setClipId(i),delete t.ns_st_cn),i=t.ns_st_bt,null!=i&&(a=Number(i),delete t.ns_st_bt),e("ns_st_cl",t),e("ns_st_pn",t),e("ns_st_tp",t),e("ns_st_ub",t),e("ns_st_br",t),(n==w.PLAYING||null==n)&&(i=t.ns_st_sq,null!=i&&(o=Number(i),delete t.ns_st_sq)),n!=w.BUFFERING&&(i=t.ns_st_pt,null!=i&&(l=Number(i),delete t.ns_st_pt)),(n==w.PAUSED||n==w.IDLE||null==n)&&(i=t.ns_st_pc,null!=i&&(s=Number(i),delete t.ns_st_pc))},createLabels:function(e,t){var i=t||{};return i.ns_st_cn=r.getClipId(),i.ns_st_bt=String(r.getBufferingTime()),(e==b.PLAY||null==e)&&(i.ns_st_sq=String(o)),(e==b.PAUSE||e==b.END||e==b.KEEP_ALIVE||e==b.HEART_BEAT||null==e)&&(i.ns_st_pt=String(r.getPlaybackTime()),i.ns_st_pc=String(s)),n.extend(i,r.getLabels()),i},incrementPauses:function(){s++},incrementStarts:function(){o++},getBufferingTime:function(){var e=a;return c>=0&&(e+=+new Date-c),e},setBufferingTime:function(e){a=e},getPlaybackTime:function(){var e=l;return u>=0&&(e+=+new Date-u),e},setPlaybackTime:function(e){l=e},getPlaybackTimestamp:function(){return u},setPlaybackTimestamp:function(e){u=e},getBufferingTimestamp:function(){return c},setBufferingTimestamp:function(e){c=e},getPauses:function(){return s},setPauses:function(e){s=e},getStarts:function(){return o},setStarts:function(e){o=e}}),i={},r.reset()}}(),T=function(){return function(){var e,t,i=this,r=null,s=0,o=0,a=0,c=0,l=0,u=0,d=!1;n.extend(this,{reset:function(e){null!=e&&e.length>0?n.filterMap(t,e):t={},i.setPlaylistId(+new Date+"_"+u),i.setBufferingTime(0),i.setPlaybackTime(0),i.setPauses(0),i.setStarts(0),i.setRebufferCount(0),d=!1},setLabels:function(e,r){null!=e&&n.extend(t,e),i.setRegisters(t,r)},getLabels:function(){return t},setLabel:function(e,t){var n={};n[e]=t,i.setLabels(n,null)},getLabel:function(e){return t[e]},getClip:function(){return r},getPlaylistId:function(){return e},setPlaylistId:function(t){e=t},setRegisters:function(t,n){var i=t.ns_st_sp;null!=i&&(s=Number(i),delete t.ns_st_sp),i=t.ns_st_bc,null!=i&&(a=Number(i),delete t.ns_st_bc),i=t.ns_st_bp,null!=i&&(c=Number(i),delete t.ns_st_bp),i=t.ns_st_id,null!=i&&(e=i,delete t.ns_st_id),n!=w.BUFFERING&&(i=t.ns_st_pa,null!=i&&(l=Number(i),delete t.ns_st_pa)),(n==w.PAUSED||n==w.IDLE||null==n)&&(i=t.ns_st_pp,null!=i&&(o=Number(i),delete t.ns_st_pp))},createLabels:function(t,r){var c=r||{};return c.ns_st_bp=String(i.getBufferingTime()),c.ns_st_sp=String(s),c.ns_st_id=String(e),a>0&&(c.ns_st_bc=String(a)),(t==b.PAUSE||t==b.END||t==b.KEEP_ALIVE||t==b.HEART_BEAT||null==t)&&(c.ns_st_pa=String(i.getPlaybackTime()),c.ns_st_pp=String(o)),(t==b.PLAY||null==t)&&(i.didFirstPlayOccurred()||(c.ns_st_pb="1",i.setFirstPlayOccurred(!0))),n.extend(c,i.getLabels()),c},incrementStarts:function(){s++},incrementPauses:function(){o++,r.incrementPauses()},setPlaylistCounter:function(e){u=e},incrementPlaylistCounter:function(){u++},addPlaybackTime:function(e){if(r.getPlaybackTimestamp()>=0){var t=e-r.getPlaybackTimestamp();r.setPlaybackTimestamp(-1),r.setPlaybackTime(r.getPlaybackTime()+t),i.setPlaybackTime(i.getPlaybackTime()+t)}},addBufferingTime:function(e){if(r.getBufferingTimestamp()>=0){var t=e-r.getBufferingTimestamp();r.setBufferingTimestamp(-1),r.setBufferingTime(r.getBufferingTime()+t),i.setBufferingTime(i.getBufferingTime()+t)}},getBufferingTime:function(){var e=c;return r.getBufferingTimestamp()>=0&&(e+=+new Date-r.getBufferingTimestamp()),e},setBufferingTime:function(e){c=e},getPlaybackTime:function(){var e=l;return r.getPlaybackTimestamp()>=0&&(e+=+new Date-r.getPlaybackTimestamp()),e},setPlaybackTime:function(e){l=e},getStarts:function(){return s},setStarts:function(e){s=e},getPauses:function(){return o},setPauses:function(e){o=e},getRebufferCount:function(){return a},incrementRebufferCount:function(){a++},setRebufferCount:function(e){a=e},didFirstPlayOccurred:function(){return d},setFirstPlayOccurred:function(e){d=e}}),r=new k,t={},i.reset()}}(),P=function(){var i=function(i,r,s){function o(e){var t=0;if(null!=pt)for(var n=0;n<pt.length;n++){var i=pt[n],r=i.playingtime;if(!r||r>e){t=i.interval;break}}return t}function a(){d();var e=o(ut.getClip().getPlaybackTime());if(e>0){var t=vt>0?vt:e;J=f.setTimeout(u,t)}vt=0}function c(){d();var e=o(ut.getClip().getPlaybackTime());vt=e-ut.getClip().getPlaybackTime()%e,null!=J&&d()}function l(){vt=0,mt=0,gt=0}function u(){gt++;var e=F(b.HEART_BEAT,null);x(e),vt=0,a()}function d(){null!=J&&(f.clearTimeout(J),J=null)}function p(){v(),X=f.setTimeout(h,ft)}function h(){var e=F(b.KEEP_ALIVE,null);x(e),lt++,p()}function v(){null!=X&&(f.clearTimeout(X),X=null)}function g(){y(),rt.isPauseOnBufferingEnabled()&&L(w.PAUSED)&&(Y=f.setTimeout(m,ht))}function m(){if(Z==w.PLAYING){ut.incrementRebufferCount(),ut.incrementPauses();var e=F(b.PAUSE,null);x(e),lt++,Z=w.PAUSED}}function y(){null!=Y&&(f.clearTimeout(Y),Y=null)}function _(e){return e==w.PLAYING||e==w.PAUSED}function A(){G&&(f.clearTimeout(G),G=null)}function k(e){return e==b.PLAY?w.PLAYING:e==b.PAUSE?w.PAUSED:e==b.BUFFER?w.BUFFERING:e==b.END?w.IDLE:null}function P(e,t,i){if(A(),i)G=f.setTimeout(function(e,t){return function(){P(e,t)}}(e,t),i);else if(D(e)){var r=U(),s=at,o=B(t),a=s>=0?o-s:0;E(U(),t),I(e,t),$(U()),R(e);for(var c=0,l=it.length;l>c;c++)it[c](r,e,t,a);S(t),ut.setRegisters(t,e),ut.getClip().setRegisters(t,e);var u=F(w.toEventType(e),t);n.extend(u,t),L(K)&&(x(u),Z=K,lt++)}}function S(e){var t=e.ns_st_mp;null!=t&&(et=t,delete e.ns_st_mp),t=e.ns_st_mv,null!=t&&(tt=t,delete e.ns_st_mv),t=e.ns_st_ec,null!=t&&(lt=Number(t),delete e.ns_st_ec)}function x(e,n){void 0===n&&(n=!0),n&&j(e);var i=rt.getPixelURL();if(Q){if(!V()){var r=_t.am,s=_t.et,o=r.newApplicationMeasurement(Q,s.HIDDEN,e,i);Q.getQueue().offer(o)}}else i&&f.httpGet(t(i,e))}function V(){var e=Q.getAppContext(),t=Q.getSalt(),n=Q.getPixelURL();return null==e||null==t||0==t.length||null==n||0==n.length}function j(e){nt=F(null),n.extend(nt,e)}function E(e,t){var i=B(t);if(e==w.PLAYING)ut.addPlaybackTime(i),c(),v();else if(e==w.BUFFERING)ut.addBufferingTime(i),y();else if(e==w.IDLE){var r=n.getKeys(ut.getClip().getLabels());ut.getClip().reset(r)}}function I(e,t){var n=B(t);ct=N(t),e==w.PLAYING?(a(),p(),ut.getClip().setPlaybackTimestamp(n),L(e)&&(ut.getClip().incrementStarts(),ut.getStarts()<1&&ut.setStarts(1))):e==w.PAUSED?L(e)&&ut.incrementPauses():e==w.BUFFERING?(ut.getClip().setBufferingTimestamp(n),dt&&g()):e==w.IDLE&&l()}function L(e){return e!=w.PAUSED&&e!=w.IDLE||Z!=w.IDLE&&null!=Z?e!=w.BUFFERING&&Z!=e:!1}function N(e){var t=-1;return e.hasOwnProperty("ns_st_po")&&(t=n.getInteger(e.ns_st_po)),t}function B(e){var t=-1;return e.hasOwnProperty("ns_ts")&&(t=Number(e.ns_ts)),t}function D(e){return null!=e&&U()!=e}function R(e){K=e,at=+new Date}function U(){return K}function $(e){z=e}function F(){var e,t;1==arguments.length?(e=w.toEventType(K),t=arguments[0]):(e=arguments[0],t=arguments[1]);var i={};if("undefined"!=typeof document){var r=document;i.c7=r.URL,i.c8=r.title,i.c9=r.referrer}return null!=t&&n.extend(i,t),i.hasOwnProperty("ns_ts")||(i.ns_ts=String(+new Date)),null!=e&&!i.hasOwnProperty("ns_st_ev")&&(i.ns_st_ev=b.toString(e)),n.extend(i,rt.getLabels()),O(e,i),ut.createLabels(e,i),ut.getClip().createLabels(e,i),i.hasOwnProperty("ns_st_mp")||(i.ns_st_mp=et),i.hasOwnProperty("ns_st_mv")||(i.ns_st_mv=tt),i.hasOwnProperty("ns_st_ub")||(i.ns_st_ub="0"),i.hasOwnProperty("ns_st_br")||(i.ns_st_br="0"),i.hasOwnProperty("ns_st_pn")||(i.ns_st_pn="1"),i.hasOwnProperty("ns_st_tp")||(i.ns_st_tp="1"),i.hasOwnProperty("ns_st_it")||(i.ns_st_it="c"),i.ns_st_sv=C.STREAMSENSE_VERSION,i.ns_type="hidden",i}function O(e,t){var i=t||{};if(i.ns_st_ec=String(lt),!i.hasOwnProperty("ns_st_po")){var r=ct,s=B(i);(e==b.PLAY||e==b.KEEP_ALIVE||e==b.HEART_BEAT||null==e&&K==w.PLAYING)&&(r+=s-ut.getClip().getPlaybackTimestamp()),i.ns_st_po=n.getInteger(r)}return e==b.HEART_BEAT&&(i.ns_st_hc=String(gt)),i}function M(e){var t=B(e);0>t&&(e.ns_ts=String(+new Date))}function H(e,t,n){t=t||{},t.ns_st_ad=1,e>=b.AD_PLAY&&e<=b.AD_CLICK&&rt.notify(e,t,n)}function q(e,t){rt.notify(b.CUSTOM,e,t)}var W,G,z,K,Q,Y,X,J,Z,et,tt,nt,it,rt=this,st=500,ot=null,at=0,ct=0,lt=0,ut=null,dt=!0,pt=C.DEFAULT_HEARTBEAT_INTERVAL,ft=C.DEFAULT_KEEP_ALIVE_INTERVAL,ht=C.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,vt=0,gt=0,mt=0,yt=!1,_t={};s?f.setPlatformAPI(s):f.autoSelect(),n.extend(this,{reset:function(e){ut.reset(e),ut.setPlaylistCounter(0),ut.setPlaylistId(+new Date+"_1"),ut.getClip().reset(e),null==e||e.isEmpty()?W={}:n.filterMap(W,e),lt=1,gt=0,c(),l(),v(),y(),A(),K=w.IDLE,z=null,at=-1,Z=null,et=C.DEFAULT_PLAYERNAME,tt=C.STREAMSENSE_VERSION,nt=null},setPauseOnBufferingInterval:function(e){ht=e},getPauseOnBufferingInterval:function(){return ht},setKeepAliveInterval:function(e){ft=e},getKeepAliveInterval:function(){return ft},setHeartbeatIntervals:function(e){pt=e},notify:function(){var e,t,i,r;if(t=arguments[0],3==arguments.length?(i=arguments[1],r=arguments[2]):(i={},r=arguments[1]),b.toString(t)){e=k(t);var s=n.extend({},i);if(M(s),s.hasOwnProperty("ns_st_po")||(s.ns_st_po=n.getInteger(r).toString()),t==b.PLAY||t==b.PAUSE||t==b.BUFFER||t==b.END)rt.isThrottlingEnabled()&&_(K)&&_(e)&&(K!=w.PLAYING||e!=w.PAUSED||G)?P(e,s,st):P(e,s);else{var o=F(t,s);n.extend(o,s),x(o,!1),lt++}}},getLabels:function(){return W},getState:function(){return K},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&rt.setLabel(t,e[t])},getLabel:function(e){return W[e]},setLabel:function(e,t){null==t?delete W[e]:W[e]=t},setPixelURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){for(var i=e.substring(n+1).split("&"),r=0,s=i.length;s>r;r++){var o=i[r],a=o.split("=");2==a.length?rt.setLabel(a[0],t(a[1])):1==a.length&&rt.setLabel(C.PAGE_NAME_LABEL,t(a[0]))
}e=e.substring(0,n+1)}}else e+="?";return ot=e},getPixelURL:function(){return ot?ot:"undefined"!=typeof ns_p&&"string"==typeof ns_p.src?ot=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?ot=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null},isPauseOnBufferingEnabled:function(){return dt},setPauseOnBufferingEnabled:function(e){dt=e},isThrottlingEnabled:function(){return yt},setThrottlingEnabled:function(e){yt=e},setThrottlingDelay:function(e){e&&e>0&&(st=e)},getThrottlingDelay:function(){return st},setClip:function(e,t){var n=!1;return K==w.IDLE&&(ut.getClip().reset(),ut.getClip().setLabels(e,null),t&&ut.incrementStarts(),n=!0),n},setPlaylist:function(e){var t=!1;return K==w.IDLE&&(ut.incrementPlaylistCounter(),ut.reset(),ut.getClip().reset(),ut.setLabels(e,null),t=!0),t},importState:function(e){reset();var t=n.extend({},e);ut.setRegisters(t,null),ut.getClip().setRegisters(t,null),S(t),lt++},exportState:function(){return nt},getVersion:function(){return C.STREAMSENSE_VERSION},addListener:function(e){it.push(e)},removeListener:function(e){it.splice(n.indexOf(e,it),1)},getClip:function(){return ut.getClip()},getPlaylist:function(){return ut},setHttpGet:function(e){"function"==typeof e&&(f.httpGet=e)},setHttpPost:function(e){"function"==typeof e&&(f.httpPost=e)}}),n.extend(this,{adNotify:H,customNotify:q,viewNotify:function(t,n){t=t||rt.getPixelURL(),t&&e(t,n)}}),ns_.comScore&&(_t=ns_.comScore.exports,Q=_t.c()),W={},lt=1,K=w.IDLE,ut=new T,Y=null,dt=!0,J=null,gt=0,l(),X=null,G=null,yt=!1,Z=null,ct=0,it=[],rt.reset(),i&&rt.setLabels(i),r&&rt.setPixelURL(r)};return function(e){function t(e,t){return A[k]||r(e,t)}function i(){k=-1;for(var e=0;C>=e;e++)if(A.hasOwnProperty(String(e))){k=e;break}return ns_.StreamSense.activeIndex=k,k}function r(e,t){return e=e||null,t=t||null,e&&"object"==typeof e&&(t=e,e=null),A[++C]=new ns_.StreamSense(t,e),i(),A[C]}function s(){var e=!1,t=k;if("number"==typeof arguments[0]&&isFinite(arguments[0]))t=arguments[0];else if(arguments[0]instanceof ns_.StreamSense)for(var n in A)if(A.hasOwnProperty(n)&&A[n]===arguments[0]){t=n;break}return A.hasOwnProperty(String(t))&&(e=A[t],delete A[t],e.reset(),i()),e}function o(e){return e=e||{},t().setPlaylist(e),t().getPlaylist()}function a(e,n,i){return e=e||{},"number"==typeof n&&(e.ns_st_cn=n),t().setClip(e,i),t().getClip()}function c(e,n,i){return"undefined"==typeof e?!1:(i=i||null,n=n||{},t().notify(e,n,i))}function l(e){"undefined"!=typeof e&&t().setLabels(e)}function u(){return t().getLabels()}function d(e){"undefined"!=typeof e&&t().getPlaylist().setLabels(e)}function p(){return t().getPlaylist().getLabels()}function f(e){"undefined"!=typeof e&&t().getClip().setLabels(e)}function h(){return t().getClip().getLabels()}function v(e){return t().reset(e||{})}function g(e){return t().getPlaylist().reset(e||{})}function m(e){return t().getClip().reset(e||{})}function y(e){return e=e||{},t().viewNotify(null,e)}function _(e,n){return arguments.length>2&&(e=arguments[1],n=arguments[2]),e=e||{},"number"==typeof n&&(e.ns_st_po=n),t().customNotify(e,n)}function b(){return t().exportState()}function w(e){t().importState(e)}var A={},C=-1,k=-1;n.extend(e,{activeIndex:k,newInstance:r,"new":r,destroyInstance:s,destroy:s,newPlaylist:o,newClip:a,notify:c,setLabels:l,getLabels:u,setPlaylistLabels:d,getPlaylistLabels:p,setClipLabels:f,getClipLabels:h,resetInstance:v,resetPlaylist:g,resetClip:m,viewEvent:y,customEvent:_,exportState:b,importState:w})}(i),i}();return P.AdEvents=A,P.PlayerEvents=b,P.InternalStates=w,P.getPlatformAPI=function(){return f},P}(),ns_.StreamingTag=ns_.StreamingTag||function(){var e=ns_.Utils,t=ns_.StreamSense,n=ns_.StreamSense.PlayerEvents,i=(ns_.StreamSense.AdEvents,ns_.StreamSense.InternalStates||null),r=null!=ns_.StreamSense.InternalStates;return function(){var s=function(s){function o(){if(r)if(ns_.comScore)b=new t,b.setLabel("ns_st_it","r");else if(e.exists(s))if(w=e.isTrue(s.debug),e.exists(s.customerC2)&&s.customerC2.length>0){var n=s.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");b=new t,b.setPixelURL(n+".scorecardresearch.com/p?c1=2"),b.setLabel("c2",s.customerC2),b.setLabel("ns_st_it","r")}else w&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}function a(t){return e.exists(t)||(t={}),e.exists(t.ns_st_ci)||(t.ns_st_ci="0"),e.exists(t.c3)||(t.c3="*null"),e.exists(t.c4)||(t.c4="*null"),e.exists(t.c6)||(t.c6="*null"),t}function c(e){return g>0&&e>=g?m+=e-g:m=0,m}function l(e){b.getState()!=i.IDLE&&b.getState()!=i.PAUSED?b.notify(n.END,c(e)):b.getState()==i.PAUSED&&b.notify(n.END,m)}function u(e){return d("ns_st_ci",y,e)&&d("c3",y,e)&&d("c4",y,e)&&d("c6",y,e)}function d(t,n,i){if(e.exists(t)&&e.exists(n)&&e.exists(i)){var r=n[t],s=i[t];return e.exists(r)&&e.exists(s)&&r===s}return!1}function p(t,i){l(t),v++;var r={ns_st_cn:v,ns_st_pn:"1",ns_st_tp:"0"};e.extend(r,i),b.setClip(r),y=i,g=t,m=0,b.notify(n.PLAY,m)}function f(t){var i=+new Date;l(i),v++,t=a(t);var r={ns_st_cn:v,ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};e.extend(r,t),b.setClip(r),m=0,b.notify(n.PLAY,m),g=i,_=!1}function h(e,t){var r=+new Date;e=a(e),C==A.None&&(C=t),_&&C==t?u(e)?(b.getClip().setLabels(e),b.getState()!=i.PLAYING&&(g=r,b.notify(n.PLAY,m))):p(r,e):p(r,e),_=!0,C=t}var v=0,g=0,m=0,y=null,_=!1,b=null,w=!1,A={None:0,AudioContent:1,VideoContent:2},C=A.None;e.extend(this,{playAdvertisement:function(){if(b){w&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead.");var e={ns_st_ct:"va"};f(e)}},playVideoAdvertisement:function(t){if(b){var n={ns_st_ct:"va"};t&&e.extend(n,t),f(n)}},playAudioAdvertisement:function(t){if(b){var n={ns_st_ct:"aa"};t&&e.extend(n,t),f(n)}},playContentPart:function(t){if(b){w&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var n={ns_st_ct:"vc"};t&&e.extend(n,t),h(n,A.VideoContent)}},playVideoContentPart:function(t){if(b){var n={ns_st_ct:"vc"};t&&e.extend(n,t),h(n,A.VideoContent)}},playAudioContentPart:function(t){if(b){var n={ns_st_ct:"ac"};t&&e.extend(n,t),h(n,A.AudioContent)}},stop:function(){if(b){var e=+new Date;b.notify(n.PAUSE,c(e))}}}),o()};return function(){}(s),s}()}();var swfobject=function(){function e(){if(!W&&document.getElementsByTagName("body")[0]){try{var e,t=m("span");t.style.display="none",e=U.getElementsByTagName("body")[0].appendChild(t),e.parentNode.removeChild(e),e=null,t=null}catch(n){return}W=!0;for(var i=O.length,r=0;i>r;r++)O[r]()}}function t(e){W?e():O[O.length]=e}function n(e){if(typeof R.addEventListener!=j)R.addEventListener("load",e,!1);else if(typeof U.addEventListener!=j)U.addEventListener("load",e,!1);else if(typeof R.attachEvent!=j)_(R,"onload",e);else if("function"==typeof R.onload){var t=R.onload;R.onload=function(){t(),e()}}else R.onload=e}function i(){var e=U.getElementsByTagName("body")[0],t=m(E);t.setAttribute("style","visibility: hidden;"),t.setAttribute("type",N);var n=e.appendChild(t);if(n){var i=0;!function s(){if(typeof n.GetVariable!=j)try{var o=n.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),Q.pv=[y(o[0]),y(o[1]),y(o[2])])}catch(a){Q.pv=[8,0,0]}else if(10>i)return i++,setTimeout(s,10),void 0;e.removeChild(t),n=null,r()}()}else r()}function r(){var e=M.length;if(e>0)for(var t=0;e>t;t++){var n=M[t].id,i=M[t].callbackFn,r={success:!1,id:n};if(Q.pv[0]>0){var l=g(n);if(l)if(!b(M[t].swfVersion)||Q.wk&&Q.wk<312)if(M[t].expressInstall&&o()){var u={};u.data=M[t].expressInstall,u.width=l.getAttribute("width")||"0",u.height=l.getAttribute("height")||"0",l.getAttribute("class")&&(u.styleclass=l.getAttribute("class")),l.getAttribute("align")&&(u.align=l.getAttribute("align"));for(var d={},p=l.getElementsByTagName("param"),f=p.length,h=0;f>h;h++)"movie"!=p[h].getAttribute("name").toLowerCase()&&(d[p[h].getAttribute("name")]=p[h].getAttribute("value"));a(u,d,n,i)}else c(l),i&&i(r);else A(n,!0),i&&(r.success=!0,r.ref=s(n),r.id=n,i(r))}else if(A(n,!0),i){var v=s(n);v&&typeof v.SetVariable!=j&&(r.success=!0,r.ref=v,r.id=v.id),i(r)}}}function s(e){var t=null,n=g(e);return n&&"OBJECT"===n.nodeName.toUpperCase()&&(t=typeof n.SetVariable!==j?n:n.getElementsByTagName(E)[0]||n),t}function o(){return!G&&b("6.0.65")&&(Q.win||Q.mac)&&!(Q.wk&&Q.wk<312)}function a(e,t,n,i){var r=g(n);if(n=v(n),G=!0,P=i||null,S={success:!1,id:n},r){"OBJECT"==r.nodeName.toUpperCase()?(k=l(r),T=null):(k=r,T=n),e.id=B,(typeof e.width==j||!/%$/.test(e.width)&&y(e.width)<310)&&(e.width="310"),(typeof e.height==j||!/%$/.test(e.height)&&y(e.height)<137)&&(e.height="137");var s=Q.ie?"ActiveX":"PlugIn",o="MMredirectURL="+encodeURIComponent(R.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+s+"&MMdoctitle="+encodeURIComponent(U.title.slice(0,47)+" - Flash Player Installation");if(typeof t.flashvars!=j?t.flashvars+="&"+o:t.flashvars=o,Q.ie&&4!=r.readyState){var a=m("div");n+="SWFObjectNew",a.setAttribute("id",n),r.parentNode.insertBefore(a,r),r.style.display="none",f(r)}d(e,t,n)}}function c(e){if(Q.ie&&4!=e.readyState){e.style.display="none";var t=m("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(l(e),t),f(e)}else e.parentNode.replaceChild(l(e),e)}function l(e){var t=m("div");if(Q.win&&Q.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(E)[0];if(n){var i=n.childNodes;if(i)for(var r=i.length,s=0;r>s;s++)1==i[s].nodeType&&"PARAM"==i[s].nodeName||8==i[s].nodeType||t.appendChild(i[s].cloneNode(!0))}}return t}function u(e,t){var n=m("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+e+"'>"+t+"</object>",n.firstChild}function d(e,t,n){var i,r=g(n);if(n=v(n),Q.wk&&Q.wk<312)return i;if(r){var s,o,a,c=Q.ie?m("div"):m(E);typeof e.id==j&&(e.id=n);for(a in t)t.hasOwnProperty(a)&&"movie"!==a.toLowerCase()&&p(c,a,t[a]);Q.ie&&(c=u(e.data,c.innerHTML));for(s in e)e.hasOwnProperty(s)&&(o=s.toLowerCase(),"styleclass"===o?c.setAttribute("class",e[s]):"classid"!==o&&"data"!==o&&c.setAttribute(s,e[s]));Q.ie?H[H.length]=e.id:(c.setAttribute("type",N),c.setAttribute("data",e.data)),r.parentNode.replaceChild(c,r),i=c}return i}function p(e,t,n){var i=m("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function f(e){var t=g(e);t&&"OBJECT"==t.nodeName.toUpperCase()&&(Q.ie?(t.style.display="none",function n(){if(4==t.readyState){for(var e in t)"function"==typeof t[e]&&(t[e]=null);t.parentNode.removeChild(t)}else setTimeout(n,10)}()):t.parentNode.removeChild(t))}function h(e){return e&&e.nodeType&&1===e.nodeType}function v(e){return h(e)?e.id:e}function g(e){if(h(e))return e;var t=null;try{t=U.getElementById(e)}catch(n){}return t}function m(e){return U.createElement(e)}function y(e){return parseInt(e,10)}function _(e,t,n){e.attachEvent(t,n),q[q.length]=[e,t,n]}function b(e){e+="";var t=Q.pv,n=e.split(".");return n[0]=y(n[0]),n[1]=y(n[1])||0,n[2]=y(n[2])||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function w(e,t,n,i){var r=U.getElementsByTagName("head")[0];if(r){var s="string"==typeof n?n:"screen";if(i&&(x=null,V=null),!x||V!=s){var o=m("style");o.setAttribute("type","text/css"),o.setAttribute("media",s),x=r.appendChild(o),Q.ie&&typeof U.styleSheets!=j&&U.styleSheets.length>0&&(x=U.styleSheets[U.styleSheets.length-1]),V=s}x&&(typeof x.addRule!=j?x.addRule(e,t):typeof U.createTextNode!=j&&x.appendChild(U.createTextNode(e+" {"+t+"}")))}}function A(e,t){if(z){var n=t?"visible":"hidden",i=g(e);W&&i?i.style.visibility=n:"string"==typeof e&&w("#"+e,"visibility:"+n)}}function C(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=j?encodeURIComponent(e):e}{var k,T,P,S,x,V,j="undefined",E="object",I="Shockwave Flash",L="ShockwaveFlash.ShockwaveFlash",N="application/x-shockwave-flash",B="SWFObjectExprInst",D="onreadystatechange",R=window,U=document,$=navigator,F=!1,O=[],M=[],H=[],q=[],W=!1,G=!1,z=!0,K=!1,Q=function(){var e=typeof U.getElementById!=j&&typeof U.getElementsByTagName!=j&&typeof U.createElement!=j,t=$.userAgent.toLowerCase(),n=$.platform.toLowerCase(),i=n?/win/.test(n):/win/.test(t),r=n?/mac/.test(n):/mac/.test(t),s=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,o="Microsoft Internet Explorer"===$.appName,a=[0,0,0],c=null;if(typeof $.plugins!=j&&typeof $.plugins[I]==E)c=$.plugins[I].description,c&&typeof $.mimeTypes!=j&&$.mimeTypes[N]&&$.mimeTypes[N].enabledPlugin&&(F=!0,o=!1,c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=y(c.replace(/^(.*)\..*$/,"$1")),a[1]=y(c.replace(/^.*\.(.*)\s.*$/,"$1")),a[2]=/[a-zA-Z]/.test(c)?y(c.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof R.ActiveXObject!=j)try{var l=new ActiveXObject(L);l&&(c=l.GetVariable("$version"),c&&(o=!0,c=c.split(" ")[1].split(","),a=[y(c[0]),y(c[1]),y(c[2])]))}catch(u){}return{w3:e,pv:a,wk:s,ie:o,win:i,mac:r}}();!function(){Q.w3&&((typeof U.readyState!=j&&("complete"===U.readyState||"interactive"===U.readyState)||typeof U.readyState==j&&(U.getElementsByTagName("body")[0]||U.body))&&e(),W||(typeof U.addEventListener!=j&&U.addEventListener("DOMContentLoaded",e,!1),Q.ie&&(U.attachEvent(D,function t(){"complete"==U.readyState&&(U.detachEvent(D,t),e())}),R==top&&!function n(){if(!W){try{U.documentElement.doScroll("left")}catch(t){return setTimeout(n,0),void 0}e()}}()),Q.wk&&!function i(){return W?void 0:/loaded|complete/.test(U.readyState)?(e(),void 0):(setTimeout(i,0),void 0)}()))}()}O[0]=function(){F?i():r()};!function(){Q.ie&&window.attachEvent("onunload",function(){for(var e=q.length,t=0;e>t;t++)q[t][0].detachEvent(q[t][1],q[t][2]);for(var n=H.length,i=0;n>i;i++)f(H[i]);for(var r in Q)Q[r]=null;Q=null;for(var s in swfobject)swfobject[s]=null;swfobject=null})}();return{registerObject:function(e,t,n,i){if(Q.w3&&e&&t){var r={};r.id=e,r.swfVersion=t,r.expressInstall=n,r.callbackFn=i,M[M.length]=r,A(e,!1)}else i&&i({success:!1,id:e})},getObjectById:function(e){return Q.w3?s(e):void 0},embedSWF:function(e,n,i,r,s,c,l,u,p,f){var h=v(n),g={success:!1,id:h};Q.w3&&!(Q.wk&&Q.wk<312)&&e&&n&&i&&r&&s?(A(h,!1),t(function(){i+="",r+="";var t={};if(p&&typeof p===E)for(var v in p)t[v]=p[v];t.data=e,t.width=i,t.height=r;var m={};if(u&&typeof u===E)for(var y in u)m[y]=u[y];if(l&&typeof l===E)for(var _ in l)if(l.hasOwnProperty(_)){var w=K?encodeURIComponent(_):_,C=K?encodeURIComponent(l[_]):l[_];typeof m.flashvars!=j?m.flashvars+="&"+w+"="+C:m.flashvars=w+"="+C}if(b(s)){var k=d(t,m,n);t.id==h&&A(h,!0),g.success=!0,g.ref=k,g.id=k.id}else{if(c&&o())return t.data=c,a(t,m,n,f),void 0;A(h,!0)}f&&f(g)})):f&&f(g)},switchOffAutoHideShow:function(){z=!1},enableUriEncoding:function(e){K=typeof e===j?!0:e},ua:Q,getFlashPlayerVersion:function(){return{major:Q.pv[0],minor:Q.pv[1],release:Q.pv[2]}},hasFlashPlayerVersion:b,createSWF:function(e,t,n){return Q.w3?d(e,t,n):void 0},showExpressInstall:function(e,t,n,i){Q.w3&&o()&&a(e,t,n,i)},removeSWF:function(e){Q.w3&&f(e)},createCSS:function(e,t,n,i){Q.w3&&w(e,t,n,i)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=U.location.search||U.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return C(t);for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==e)return C(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(G){var e=g(B);e&&k&&(e.parentNode.replaceChild(k,e),T&&(A(T,!0),Q.ie&&(k.style.display="block")),P&&P(S)),G=!1}},version:"2.3"}}();!function(){_cne.ns("player");_cne.util.Class.extend({durationInMinutes:10,keyName:"fw_ss_key",init:function(){this.durationInDays=this.durationInMinutes/1440},getKey:function(){var e=_cne.util.CookieHelper.read(this.keyName);return null==e&&(e=_cne.util.guid(),_cne.util.CookieHelper.create(this.keyName,e,this.durationInDays)),e},clearKey:function(){_cne.util.CookieHelper.erase(this.keyName)}});_cne.player.AdFetcher=_cne.util.Class.extend({init:function(e){this.config={fwBaseUrl:"",fwNetworkId:"",fetchComplete:null,playerKey:"",adKeyValues:"",allowFlashCreatives:!0},_cne.$.extend(this.config,e),this.successCallbackName="cneAdFetchComplete"+this.config.playerKey.replace(/-/g,"")},setAdKeyValues:function(e){this.config.adKeyValues=e},setVideo:function(e){this.video=e,this.config.player.trigger("cne:video:loaded")},resetExclusivity:function(){},fetchAds:function(){var e=this,t=new _cne.Timer,n=this.buildAdUrl();this.errored=!1,window[this.successCallbackName]=function(n){if(e.config.player.eventLog.log("Timing",{time_type:"fw_call_time",time:t.getTimeElapsed()}),e.config.player.auditor.record("ad-fetch-success"),e.errored)e.config.player.auditor.record("ignoring-ad-success"),e.config.player.analytics.send("beacon",{metricName:"ad_call_returned_late"});else{var r=n.errors.errors;if(r.length>0)for(var s=0,o=r.length;o>s;s++)e.config.player.trigger("cne:log",{type:"error",logEvent:{name:"ad_fetch_error",message:{errorThrown:r[s].name+", Network Id: "+r[s].context},errorCode:"NETWORK_NOT_FOUND"===r[s].name?201:200}});var a;"undefined"!=typeof n.ads.ads[0]&&(a=n.ads.ads[0].adId),e.config.player.trigger("cne:videoad:fetchsuccess",a),n.ads.ads.length>0?e.parseAds(n,function(t){e.fetchComplete(t)}):(e.config.player.trigger("cne:videoad:emptyresponse"),i())}};var i=function(){e.fetchComplete({adSlots:{},videoViewCallback:null})};return this.config.ads_disabled?i():(this.config.player.analytics.send("beacon",{metricName:"ad_call_made"}),_cne.$.ajax({url:n,dataType:"jsonp",jsonp:!1,jsonpCallback:this.successCallbackName,beforeSend:function(){e.config.player.trigger("cne:videoad:fetch"),e.config.player.config.adRequestStatus={eventFired:!1,requestResolved:!1}},complete:function(){e.config.player.config.adRequestStatus.requestResolved=!0},error:function(t,r,s){var o=200;0===t.status&&(o=204),e.config.player.trigger("cne:log",{type:"error",logEvent:{name:"ad_fetch_error",message:{textStatus:t.status,errorThrown:s,adUrl:n},errorCode:o}}),e.config.player.trigger("cne:videoad:fetchexited",0===t.status?"adBlock":"general"),e.errored=!0,e.config.player.auditor.recordPreroll("ad-fetch-error-"+t.status+"-"+r),"timeout"===r&&e.config.player.analytics.send("beacon",{metricName:"ad_call_timed_out"}),i()},xhrFields:{withCredentials:!0},timeout:2e3}),void 0)},parseAds:function(e,t){var n,i=this,r=!1,s=_cne.player.AdParser.parseAds(e),o=function(e,n){var r=n.ads[0].fallbackAds,o=function(e,n){if(i.config.ssl){var a=e.indexOf("//");e="https:"+e.substring(a)}var c=new _cne.player.VastParser(i.config.player),l=new _cne.Timer;c.fetchAds(e,function(a){var c=function(){r.length?(n.ads[0]=r.shift(),"external/vast-2"===n.ads[0].creative.assets[0].type?(e=n.ads[0].creative.assets[0].src,o(e,n)):t(s)):(i.config.player.trigger("cne:videoad:invalidvast/vpaid",n.ads[0].adId),n.ads=[],t(s))};i.config.player.eventLog.log("Timing",{time_type:"vast_call_time",time:l.getTimeElapsed(),ad_domain:e.split("/")[2]}),a?(i.mergeVastAdIntoFreewheel(a,n.ads[0]),a.isInLine?0===n.ads.length||null===n.ads[0].creative||0===n.ads[0].creative.length?(i.config.player.sendAnalyticsEvent("VAST","Unusable",{url:e}),c()):t(s):a.vastAdTagUri?o(a.vastAdTagUri,n):c()):c()})};o(e,n)};_cne.$.each(s.adSlots,function(e,t){t.ads&&t.ads.length&&"external/vast-2"===t.ads[0].creative.assets[0].type&&(r=!0,n=t.ads[0].creative.assets[0].src,o(n,t))}),r||t(s)},mergeVastAdIntoFreewheel:function(e,t){var n=["video/mp4","video/x-mp4","video/webm","application/javascript"];this.config.allowFlashCreatives&&(n=n.concat(["video/x-flv","application/x-shockwave-flash"]));for(var i=e.creative.assets.concat(t.creative.assets),r=[],s=0,o=i.length;o>s;s++){var a=i[s];-1!==n.indexOf(a.type)&&r.push(a)}if(t.creative.assets=r,_cne.$.extend(t.creative.parameters,e.creative.parameters),""!==e.creative.parameters_raw&&"string"==typeof e.creative.parameters_raw&&(t.creative.parameters_raw=e.creative.parameters_raw),this.mergeCallbacks(e,t),t.clickThrough.match(/&cr=&|&cr=$/)){var c=encodeURIComponent(e.clickThrough);t.clickThrough=t.clickThrough.replace("&cr=","&cr="+c)}else t.clickThrough&&t.eventCallbacks.clickTracking.push(t.clickThrough),t.clickThrough=e.clickThrough;e.companions.length>0&&(t.companions.length>0?t.companions[0].isPlaceholder&&(this.mergeCallbacks(t.companions[0],e.companions[0]),t.companions=e.companions):t.companions=e.companions)},mergeCallbacks:function(e,t){var n=null;_cne.$.each(e.eventCallbacks,function(e,i){switch(e){case"midpoint":n="midPoint";break;case"start":n="defaultImpression";break;default:n=e}t.eventCallbacks[n]||(t.eventCallbacks[n]=[]),t.eventCallbacks[n]=t.eventCallbacks[n].concat(i)})},buildAdUrl:function(){if(!this.video)throw"Video must be set";var e=(this.config.ssl?"https://":"http://")+this.config.fwBaseUrl;e+="&cbfn="+this.successCallbackName,e+="&nw="+this.config.fwNetworkId,e+="&csid="+this.config.ssid,e+="&caid="+this.video.id,this.video.freewheel_fallback_asset_id&&(e+="&afid="+this.video.freewheel_fallback_asset_id),e+="&vdur="+this.video.duration,e+="&prof="+this.config.profile_id;var t=_cne.util.AudienceManager.getUserId();t&&(e+="&vcid="+t),e+=";";var n=_cne.util.AudienceManager.getSegmentKeyValues();n.push("aouid="+t);var i=_cne.util.QueryHelper.getUrlVars();for(var r in i)if(/^aoid[a-z]*$/.test(r)){var s=i[r];/^[\w\-]+$/.test(s)&&n.push(r+"="+s)}return this.config.adKeyValues&&this.config.adKeyValues.length&&n.push(unescape(this.config.adKeyValues)),e+=n.join("&"),this.config.hasCompanion&&(e+=";slid=MyCompanion&ptgt=p&w="+this.config.companion_dimensions.width+"&h="+this.config.companion_dimensions.height+"&flag=+cmpn"),this.config.hasBrandedCanvas&&(e+=";slid=BrandedCanvas&ptgt=p&w=800&h=90&flag=+cmpn",e+="&envp="+this.config.branded_canvas_profile),this.config.hasTakeover&&(e+=";slid=Takeover&ptgt=p&w=2000&h=1200&flag=+cmpn",e+="&envp="+this.config.takeover_profile),e},fetchComplete:function(e){null!==this.config.fetchComplete&&this.config.fetchComplete(e)}})}(),function(){_cne.ns("player"),_cne.player.AdParser=function(){function e(e){this.jsonAds=e}return e.parseAds=function(e){return new _cne.player.AdParser(e).parseAds()},e.prototype.parseAds=function(){var e={adSlots:this.getAdSlots(),videoViewCallbackUrls:this.getVideoViewCallbackUrls()};return e},e.prototype.getVideoViewCallbackUrls=function(){var e=[],t=this.jsonAds.siteSection.videoPlayer.videoAsset.eventCallbacks;return _cne.$.each(t,function(){"undefined"!=typeof this.url&&e.push(this.url+"&init=1&ct=0"),"undefined"!=typeof this.trackingUrls&&_cne.$.each(this.trackingUrls,function(){e.push(this.value)})}),e},e.prototype.getAdSlots=function(){var e={},t=this.jsonAds.siteSection.videoPlayer.videoAsset.adSlots,n=this;return _cne.$.each(t,function(){var t,i;t=new _cne.player.AdSlot({ads:n.getAdsForAdSlot(this),slotImpressionUrl:this.eventCallbacks[0].url,timePosition:parseInt(this.timePosition)}),i=this.timePositionClass,t.ads&&t.ads.length&&_cne.$.each(t.ads,function(){this.slotName||(this.slotName=i),_cne.$.each(this.fallbackAds,function(){this.slotName||(this.slotName=i)})}),e[i]=t}),e},e.prototype.getAdsForAdSlot=function(e){var t=[],n=this;return e.selectedAds.length?(_cne.$.each(e.selectedAds,function(){t.push(n.parseAd(this))}),t):null},e.prototype.parseAd=function(e){function t(e){var t=new _cne.player.Ad({adId:e.adId,eventCallbacks:n.getEventCallbacksForAd(e),creative:n.getCreativeForAd(e),companions:n.getCompanions(e),slotName:e.adSlotCustomId,adCollection:n.jsonAds.ads.ads});return t.creative.parameters._fw_survey_url&&(/[=\/?&]\w+\.js/.test(t.creative.parameters._fw_survey_url)?t.eventCallbacks.surveyScriptUrl=t.creative.parameters._fw_survey_url:t.eventCallbacks.defaultImpression.push(t.creative.parameters._fw_survey_url)),t.clickThrough=t.eventCallbacks.defaultClick.shift(),t.eventCallbacks.clickTracking=t.eventCallbacks.defaultClick,delete t.eventCallbacks.defaultClick,t}var n=this,i=t(e);return e.fallbackAds&&e.fallbackAds.length&&_cne.$.each(e.fallbackAds,function(){i.fallbackAds.push(t(this))}),i},e.prototype.getCompanions=function(e){var t=this,n=[];return _cne.$.each(e.companionAds,function(){n.push(t.parseAd(this))}),n},e.prototype.getEventCallbacksForAd=function(e){var t={};return _cne.$.each(e.eventCallbacks,function(){if(this.name&&null!==this.name){var e=[];_cne.$.each(this.trackingUrls,function(){e.push(this.value)}),t[this.name]=[this.url].concat(e)}}),t},e.prototype.getCreativeForAd=function(e){var t,n=null;return _cne.$.each(this.jsonAds.ads.ads,function(){_cne.$.each(this.creatives,function(){return this.creativeId===e.creativeId?(n=this,!1):void 0})}),t=new _cne.player.AdCreative({creativeId:n.creativeId,duration:n.duration,parameters:{}}),_cne.$.each(n.parameters,function(){t.parameters[this.name]=this.value}),"external/vast-2"===n.creativeRenditions[0].wrapperType?t.assets.push({type:"external/vast-2",src:n.creativeRenditions[0].wrapperUrl}):_cne.$.each(n.creativeRenditions,function(){t.assets.push({name:this.asset.name,type:this.asset.mimeType,src:this.asset.url,content:this.asset.content,duration:this.asset.duration}),_cne.$.each(this.otherAssets,function(){t.assets.push({name:this.name,type:this.mimeType,src:this.url,content:this.content,duration:this.duration})})}),t},e}()}(),function(){_cne.ns("player"),_cne.player.AdQueue=_cne.util.Class.extend({init:function(e){this.clear(),this.renderCallback=e},addAdSlot:function(e){this.adSlots.push(e)},updateTime:function(e){for(var t=0;t<this.adSlots.length;t++){var n=this.adSlots[t],i=parseInt(n.timePosition,10);e>=i&&(this.adSlots.splice(t,1),this.completedAds.push(n),this.renderCallback(n))}},clear:function(){this.adSlots=[],this.completedAds=[]}})}(),function(){_cne.ns("player"),_cne.player.AdRenderer=function(){function e(e){null==e&&(e={}),this.player=e.player,this.ssl=e.player.config.environment.ssl,this.companionDivId=e.companionDivId,this.companionWidth=e.player.config.player.companion_dimensions.width,this.companionHeight=e.player.config.player.companion_dimensions.height}return e.prototype.renderAd=function(e){if("overlay"===e.slotName)return this.renderOverlay(e);if("BrandedCanvas"===e.slotName)return this.player.trigger("cne:brandedcanvas:render",e);if("Takeover"===e.slotName)return this.player.trigger("cne:takeover:render",e);if(null!=e.creative&&e.creative.assets.length>0&&null!=e.creative.assets[0].content)switch(e.type){case"IMAGE_URL":return this.renderImageUrlAd(e);case"FLASH_URL":return this.renderFlashUrlAd(e);default:return this.renderIframeAd(e)}},e.prototype.renderOverlay=function(e){return this.player.isMobile()?void 0:(this._defaultImpression(e),this.player.player.overlay(e),this.player.renderCompanions(e))},e.prototype.renderImageUrlAd=function(e){var t,n,i,r;return this._defaultImpression(e),n=document.createElement("img"),i=e.creative.assets[0].content,this.ssl&&(i=_cne.util.convertUrlToSsl(i)),n.setAttribute("src",i),t=document.createElement("a"),t.setAttribute("href",e.clickThrough),t.setAttribute("target","_blank"),t.appendChild(n),r=document.getElementById(this.companionDivId),r.innerHTML="",r.appendChild(t)},e.prototype.renderFlashUrlAd=function(e){var t,n,i,r;return this._defaultImpression(e),t=document.createElement("div"),n="cne-companion-"+(1e5*Math.random()|0).toString(),t.setAttribute("id",n),r=document.getElementById(this.companionDivId),null!=r&&(r.innerHTML="",r.appendChild(t)),i=e.creative.assets[0].content,this.ssl&&(i=_cne.util.convertUrlToSsl(i)),swfobject.embedSWF(i,n,"300","60","9.0.0")},e.prototype.renderIframeAd=function(e){var t,n,i;if(_cne.util.beacon(e.eventCallbacks.defaultImpression,{ssl:this.ssl}),i=this.createIframe(this.companionDivId,this.companionWidth,this.companionHeight),t=e.creative.assets[0].content,this.ssl&&(t=_cne.util.convertUrlToSsl(t)),"IFRAME"===e.type)return i.setAttribute("src",t);try{return i.contentWindow.document.open("text/html","replace"),i.contentWindow.document.write(t),i.contentWindow.document.close()}catch(r){return n=r,i.src="data:text/html;charset=utf-8,"+escape(t)}},e.prototype.createIframe=function(e,t,n){var i,r;if(r=document.createElement("iframe"),r.setAttribute("frameBorder",0),r.setAttribute("width",t),r.setAttribute("height",n),r.setAttribute("marginheight",0),r.setAttribute("marginwidth",0),r.setAttribute("scrolling","no"),r.setAttribute("border",0),i=document.getElementById(e),!i)throw"Target div not found.";return i.innerHTML="",i.appendChild(r),r},e.prototype._defaultImpression=function(e){return e.eventCallbacks&&e.eventCallbacks.surveyScriptUrl&&_cne.util.beacon(e.eventCallbacks.surveyScriptUrl,{method:"javascript",ssl:this.ssl}),_cne.util.beacon(e.eventCallbacks.defaultImpression,{ssl:this.ssl})},e}()}.call(this),function(){_cne.ns("player"),_cne.player.Ad=function(){function e(e){e=e||{},this.adId=e.adId,this.eventCallbacks=e.eventCallbacks||{},this.clickThrough=e.clickThrough,this.creative=e.creative||null,this.companions=e.companions||[],this.slotName=e.slotName||null,this.isPlaceholder=this.getPlaceholder(e.adCollection),this.fallbackAds=[]}return e.prototype.isVpaid=function(){var e;return this.creative&&this.creative.assets&&this.creative.assets[0]&&(e=this.creative.assets[0].type,"application/x-shockwave-flash"===e||"application/javascript"===e)?!0:!1},e.prototype.getAsset=function(e){var t=null;return _cne.$.each(this.creative.assets,function(){return this.name===e?(t=this,!1):void 0}),t},e.prototype.getDomain=function(){var e,t;return this.creative.assets&&this.creative.assets.length&&(e=this.creative.assets[0],e.src&&"string"==typeof e.src&&(t=e.src.split("/"),t.length>=3))?t[2]:""},e.prototype.getPlaceholder=function(e){var t=this,n=!1;return"undefined"!=typeof e&&_cne.$.each(e,function(){return this.adId===t.adId?(n=!!this.noLoad,!1):void 0}),n},e}()}(),function(){_cne.ns("player"),_cne.player.AdCreative=function(){function e(e){e=e||{},this.creativeId=e.creativeId,this.assets=e.assets||[],this.duration=e.duration||"",this.parameters=e.parameters||{}}return e}()}(),function(){_cne.ns("player"),_cne.player.AdSlot=function(){function e(e){e=e||{},this.ads=e.ads||[],this.slotImpressionUrl=e.slotImpressionUrl||null,this.timePosition=e.timePosition||0,this.currentIndex=0}return e.prototype.gotoNextAd=function(){return this.currentIndex>=this.ads.length?null:this.ads[this.currentIndex++]},e}()}(),function(e){var t=e._cne,n=t.util.Class;t.ns("player");var i=function(){var e=Math.floor(1e8*Math.random());return"_moatApi"+e},r=function(t){var n=e.location.protocol,i="https:"===n?"z":"js",r="";return r+=n+"//",r+=i,r+=".moatads.com/",r+=t,r+="/moatvideo.js"},s=function(e){var n={ids:{level1:"_ADVERTISER_",level2:"_CAMPAIGN_",level3:"_LINE_ITEM_",level4:"_CREATIVE_",slicer1:"_SITE_",slicer2:"_PLACEMENT_"},duration:0,url:""};if("object"!=typeof e||t.$.isEmptyObject(e))return void 0;for(var i in e)if(e.hasOwnProperty(i))if("ids"===i)for(var r in n[i])n[i].hasOwnProperty(r)&&(n[i][r]=null!=e[i][r]&&"-"!==e[i][r]&&""!==e[i][r]?e[i][r]:"Other");else n[i]=e[i];return n},o=function(e){var t=[];return{adData:s(e),dispatchEvent:function(e){this.sendEvent?(t&&(t.push(e),e=t,t=!1),this.sendEvent(e)):t.push(e)}}},a=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=n.exec(e);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},c=n.extend({init:function(){},identifyMoatAd:function(e){var t=!1,n={wrapperType:/external\/vast/,wrapperUrl:/\.moatads\.com/,creativeApi:/VPAID/},i=e.ads.ads[0].creatives[0].creativeRenditions[0];for(var r in n)if(n.hasOwnProperty(r)&&(t=n[r].test(i[r]),!t))break;return t},parseVpaidUrl:function(e){var t={ids:{level1:a(e,"level1"),level2:a(e,"level2"),level3:a(e,"level3"),level4:a(e,"level4"),slicer1:a(e,"slicer1"),slicer2:a(e,"slicer2")}};this._adData=s(t),this.partnerCode=a(e,"pcode"),""===this.partnerCode&&(this.partnerCode="condevideo847938582")},injectScript:function(n){if(null!=this._adData){var s=e.location.search;if(s.length>0){var a=s.match(/mbid=(\w*)/);a&&a.length>0&&(a=a[a.length-1],this._adData.ids.slicer2=a)}this.moatApi=o(this._adData),this.moatScriptUrl=r(this.partnerCode);var c="js-cne-moat-script";if(!t.$("#"+c).length){var l=i(),u=document.createElement("script");if(u.id=c,u.type="text/javascript",u.src=this.moatScriptUrl+"#"+l,e[l]=this.moatApi,t.$(n).length>0){var d=t.$(n).children()[0],p=t.$(d).children()[0];d.insertBefore(u,p)}return this.moatApi}}}});t.player.Moat=new c}(window),function(e){e.optimizely=e.optimizely||[],_cne.ns("player"),_cne.player.AnnotationLoader=_cne.util.Class.extend({init:function(e){this.player=e,this.$player=_cne.$(this.player.player.el()),this.$annotationContainer=this.$player.children(".js-annotation-container"),this.pausedPlayer=!1
},load:function(e,t){t=_cne.$.extend({target:this.player.config.divs.target},t),_cne.$.ajax({url:e,data:t,dataType:"script"})},loadCallback:function(e,t){var n=this;n.$player.addClass("cne-annotation-active"),n.$annotationContainer.append(e),n.$annotationContainer.on("click",function(e){e.preventDefault(),e.stopPropagation();var t=_cne.$(e.target);(t.is(".js-annotation")||t.is(n.$annotationContainer))&&(n.player.isPlaying()&&!n.pausedPlayer?(n.player.pause(),n.pausedPlayer=!0):n.pausedPlayer&&(n.player.play(),n.pausedPlayer=!1))}),t&&t(n.$annotationContainer,n.player)},destroyAnnotations:function(){this.$player.removeClass("cne-annotation-active"),this.$annotationContainer.off("click"),this.$annotationContainer.children().remove()}})}(window),_cne.player.Auditor=_cne.util.Class.extend({init:function(e){_this=this,this.player=e,this.prerollHistory=[],this.fullHistory=[],this.startTime=(new Date).getTime(),this.attachToPlayerEvents(e)},attachToPlayerEvents:function(e){var t=this,n=e.player;e.on("cne:preroll:start",function(){t.recordPreroll("startpreroll")}),e.on("cne:preroll:end",function(){t.recordPreroll("prerollended")}),n.on("cne:quartile-1",function(){t.player.isPlayingAd()?t.recordPreroll("quartile-1"):t.record("v-quartile-1")}),n.on("cne:quartile-2",function(){t.player.isPlayingAd()?t.recordPreroll("quartile-2"):t.record("v-quartile-2")}),n.on("cne:quartile-3",function(){t.player.isPlayingAd()?t.recordPreroll("quartile-3"):t.record("v-quartile-3")});for(var i=["durationchange","canplay","play","playing","error"],r=0;r<i.length;r++)n.on(i[r],function(e){return function(){t.record(e)}}(i[r]))},recordPreroll:function(e){var t=Math.round(((new Date).getTime()-this.startTime)/100)/10;this.prerollHistory.push(t+" - "+e),this.record(e)},record:function(e){var t=Math.round(((new Date).getTime()-this.startTime)/10)/100;this.fullHistory.push(t+" - "+e)}}),function(){_cne.ns("player"),_cne.player.EtfEventTracker=_cne.util.Class.extend({init:function(e){this.baseUrl=e,this.validProperties={environment:"env",siteCode:"sc",eventCode:"ec",actionCode:"ac",contentId:"id",contentType:"ct",fullUrl:"url",contentTitle:"tit",location:"loc",searchResultCount:"rc",assetId:"asid",applicationId:"apid",imgUrl:"imgurl",evTags:"etags",userId:"uid",section:"sctn",ssl:"ssl"},this.requiredProperties=["environment","siteCode","eventCode","fullUrl"]},fireEvent:function(e){this.properties={};for(var t in this.validProperties)this.validProperties.hasOwnProperty(t)&&e[t]&&(this.properties[this.validProperties[t]]=e[t]);for(var n=0;n<this.requiredProperties.length;n++){var i=this.requiredProperties[n],r=this.validProperties[i];if(!this.properties[r])throw"ETF Tracker: "+r+" is required."}var s="//"+this.baseUrl+"/images/event.gif?"+this._queryString();_cne.util.beacon(s,{ssl:e.ssl})},_queryString:function(){var e="";for(var t in this.properties)this.properties.hasOwnProperty(t)&&(e+="e0_"+t+"="+encodeURIComponent(this.properties[t])+"&");return e+this._cacheBuster()},_cacheBuster:function(){return"rnd="+1e16*Math.random()}})}(),_cne.player.LogSession=_cne.util.Class.extend({payload:{},init:function(e,t){this.player=t,this.createPayload(e)},clearLogEvents:function(){this.payload.events=[]},addLogEvent:function(e){this.payload.events.push(e.logEvent),"error"===e.type&&this.sendPayload()},sendPayload:function(){var e;e=JSON.stringify(this.payload,function(e,t){return"adResponse"!==e&&t instanceof Array&&0===t.length?"Empty Array":t}),this.payload.events.length&&(_cne.$.ajax({url:"//"+this.player.config.environment.error_log_url,data:e,crossDomain:!0,type:"POST"}),this.clearLogEvents())},resetSession:function(e){var t={env:this.payload.env,ssid:this.payload.ssid,sourceUrl:this.payload.sourceUrl,noParamsUrl:this.payload.noParamsUrl,sourceReferrer:this.payload.sourceReferrer,videoId:e.id};this.createPayload(t)},setAdResponse:function(e){this.payload.adResponse.push(e)},createPayload:function(e){var t={env:"",ssid:"",sourceUrl:"",noParamsUrl:"",sourceReferrer:"",videoId:"",adResponse:[],events:[{name:"session_start",message:"Session: begin"}]};this.payload=_cne.$.extend({},t,e),this.sendPayload()}}),function(){_cne.ns("player.modules"),_cne.player.modules.analytics=function(e){var t;return t=function(){var t,n;return"function"!=typeof UAParser?{}:(n=new UAParser,t=n.getResult(),{ad_url:e.player.currentSrc(),ad_domain:e.player.currentSrc().split("/")[2],user_browser:t.browser.name+" "+t.browser.major,user_os:t.os.name,vjs_tech:e.player.getTechName()})},e.player.on("cne:quartile-1",function(){return e.isPlayingAd()?(_cne.util.beacon(e.currentAd.eventCallbacks.firstQuartile,{ssl:e.config.environment.ssl}),e.sendAnalyticsEvent("Preroll","1st Quartile",vjs.obj.merge(t(),{nonInteraction:"true","Time-Watched":this.currentTime()})),e.trigger("cne:ad:quartile-1",e.currentAd.adId)):e.sendAnalyticsEvent("Video","1st Quartile",{nonInteraction:"true","Time-Watched":this.currentTime()})}),e.player.on("cne:quartile-2",function(){return e.isPlayingAd()?(_cne.util.beacon(e.currentAd.eventCallbacks.midPoint,{ssl:e.config.environment.ssl}),e.sendAnalyticsEvent("Preroll","Midpoint",vjs.obj.merge(t(),{nonInteraction:"true","Time-Watched":this.currentTime()})),e.trigger("cne:ad:quartile-2",e.currentAd.adId)):e.sendAnalyticsEvent("Video","Midpoint",{nonInteraction:"true","Time-Watched":this.currentTime()})}),e.player.on("cne:quartile-3",function(){return e.isPlayingAd()?(_cne.util.beacon(e.currentAd.eventCallbacks.thirdQuartile,{ssl:e.config.environment.ssl}),e.sendAnalyticsEvent("Preroll","3rd Quartile",vjs.obj.merge(t(),{nonInteraction:"true","Time-Watched":this.currentTime()})),e.trigger("cne:ad:quartile-3",e.currentAd.adId)):e.sendAnalyticsEvent("Video","3rd Quartile",{nonInteraction:"true","Time-Watched":this.currentTime()})}),e.player.on("cne:vpaid:load",function(){return e.analytics.send("beacon",{metricName:"vpaid_loaded"}),e.sendAnalyticsEvent("VPAID","Loaded",vjs.obj.merge(t(),{nonInteraction:"true"}))}),e.player.on("cne:vpaid:error",function(){return e.analytics.send("beacon",{metricName:"vpaid_error"}),e.sendAnalyticsEvent("VPAID","Error",vjs.obj.merge(t(),{nonInteraction:"true"}))}),e.player.on("cne:vpaid:no-ads",function(){return e.analytics.send("beacon",{metricName:"vpaid_no_ads"}),e.sendAnalyticsEvent("VPAID","No Ads",vjs.obj.merge(t(),{nonInteraction:"true"}))}),e.player.on("cne:vpaid:start",function(){var n;return n=e.currentAd,e.sendAnalyticsEvent("Preroll","Ad Viewed",vjs.obj.merge(t(),{nonInteraction:"true","Ad-Format":"VPAID","Mime-Type":n.creative.assets[0].type}))}),e.player.on("cne:vpaid:end",function(){var n;return n=e.currentAd,_cne.util.beacon(n.eventCallbacks.complete,{ssl:e.config.environment.ssl}),e.sendAnalyticsEvent("Preroll","Completed",vjs.obj.merge(t(),{nonInteraction:"true","Ad-Format":"VPAID","Mime-Type":n.creative.assets[0].type}))}),e.player.on("cne:vpaid:click",function(){var n;return n=e.currentAd,e.sendAnalyticsEvent("Preroll","Clicked",vjs.obj.merge(t(),{nonInteraction:"false","Ad-Format":"VPAID","Mime-Type":n.creative.assets[0].type}))}),e.player.on("cne:preroll:skip",function(){var t;return t=e.currentAd,e.sendAnalyticsEvent("Preroll","Skipped",{"Ad-Format":"Freewheel","Ad-Id":t.adId,"Ad-Creative-Id":t.creative.creativeId,"Ad-Duration":t.creative.duration})}),e.on("cne:videoad:start",function(n){var i;return i=e.config.environment.ssl,n.eventCallbacks&&n.eventCallbacks.surveyScriptUrl&&_cne.util.beacon(n.eventCallbacks.surveyScriptUrl,{method:"javascript",ssl:i}),_cne.util.beacon(n.eventCallbacks.defaultImpression,{ssl:i}),e.sendAnalyticsEvent("VideoAd","Ad Viewed",vjs.obj.merge(t(),{nonInteraction:"true","Ad-Format":"Freewheel","Ad-Id":n.adId,"Ad-Creative-Id":n.creative.creativeId,"Ad-Duration":n.creative.duration}))}),e.on("cne:videoad:click",function(t){return e.sendAnalyticsEvent("VideoAd","Clicked",{"Ad-Format":"Freewheel","Ad-Id":t.adId,"Ad-Creative-Id":t.creative.creativeId,"Ad-Duration":t.creative.duration,"Ad-Slot":t.slotName})}),e.on("cne:videoad:end",function(n){return n.isVpaid()||_cne.util.beacon(n.eventCallbacks.complete,{ssl:e.config.environment.ssl}),e.sendAnalyticsEvent("VideoAd","Completed",vjs.obj.merge(t(),{nonInteraction:"true","Ad-Format":"Freewheel","Ad-Id":n.adId,"Ad-Creative-Id":n.creative.creativeId,"Ad-Duration":n.creative.duration}))}),e.player.on("cne:qualitychange",function(){return e.analytics.send("event",{uniqueKey:"qualityChange",eventCategory:"Player",eventAction:"Quality Changed",SSID:e.config.player.ssid})}),e.player.on("fullscreenchange",function(){return e.isFullscreen()?e.analytics.send("event",{uniqueKey:"fullscreenChange",eventCategory:"Player",eventAction:"Fullscreen Enabled",SSID:e.config.player.ssid}):void 0}),e.player.on("cne:next",function(){var t,n,i;return n=e.getNextVideo(),t=this.currentTime(),i=Math.floor(t/e.config.video.duration*100),e.sendAnalyticsEvent("Next Button","Click",{"Next-Video-Id":n.id,"Next-Video-Title":n.title,"Current-Time":t,"Relative-Time":i})}),e.on("cne:brandedcanvas:render",function(t){return _cne.util.beacon(t.eventCallbacks.defaultImpression,{ssl:e.config.environment.ssl})}),e.sendAnalyticsEvent=function(e,t,n){var i;return i=this.config.video,n.eventCategory=e,n.eventAction=t,n.SSID=this.config.player.ssid,n.Brand=i.brand,n["Current-Video-Id"]=i.id,n["Current-Video-Title"]=i.title,n["Current-Video-Slug"]=i.slug,n["Current-Video-Duration"]=i.duration,n["Current-Video-Categories"]=i.categories,n["Current-Video-Series-Title"]=i.series_title,n["Current-Video-Series-Slug"]=i.series_slug,this.analytics.send("event",n)}}}.call(this),function(){_cne.ns("player.modules"),_cne.player.modules.analytics_buffered=function(e){return e.eventLog={_buffer:[],_key:e.playerKey,_baseUrl:e.config.environment.event_log_url+"?",_ssl:e.config.environment.ssl,flush:function(){var e;if(!(this._buffer.length<1))return e={key:this._key,log:JSON.stringify(this._buffer)},_cne.util.beacon(this._baseUrl+_cne.$.param(e),{ssl:this._ssl}),this._buffer=[]},log:function(e,t){var n;return n=(new Date).getTime(),null!=t?this._buffer.push({m:e,v:t,t:n}):this._buffer.push({m:e,t:n})}}}}.call(this),function(){_cne.ns("player.modules"),_cne.player.modules.conversion_pixels=function(e){return e.on("cne:video:start",function(){return e.fireConversionPixel("cne:video:start")}),e.on("cne:quartile-1",function(){return e.fireConversionPixel("cne:quartile-1")}),e.on("cne:quartile-2",function(){return e.fireConversionPixel("cne:quartile-2")}),e.on("cne:quartile-3",function(){return e.fireConversionPixel("cne:quartile-3")}),e.fireConversionPixel=function(t){var n,i,r,s,o,a;if(!this.isPlayingAd()&&null!=_cne.conversion_pixels&&(a=_cne.conversion_pixels[t],null!=a)){for(n=new Array,r=i=0,s=a.length;s>i;r=++i)o=a[r],null!=o&&null!=o.repeat&&null!=o.url&&(o.repeat&&n.push(o),_cne.util.beacon(o.url,{ssl:e.config.environment.ssl}));return _cne.conversion_pixels[t]=n}}}}.call(this),function(){_cne.ns("player.modules"),_cne.player.modules.cue_points=function(e){var t;return t=null,e.player.on("timeupdate",function(){var n,i,r,s,o,a;if(!(e.isPlayingAd()||(r=e.getCuePoints(),r.length<1))){for(s=[],o=0,a=r.length;a>o;o++)i=r[o],i.position<1e3*this.currentTime()&&s.push(i);return s.length>0?(s=s.sort(function(e,t){return parseInt(e.position)-parseInt(t.position)}),n=s.slice(-1)[0],n!==t?(e.trigger("cne:cuepoint",n),t=n):void 0):t=null}})}}.call(this),function(){_cne.ns("player.modules"),_cne.player.modules.events=function(e){var t;return t=e.player,t.on("play",function(){return e.trigger("cne:play")}),t.on("pause",function(){return e.trigger("cne:pause")}),t.on("fullscreenchange",function(){return e.trigger("cne:fullscreenchange")}),t.on("cne:quartile-1",function(){return e.isPlayingAd()?void 0:e.trigger("cne:quartile-1",e.config.video.title)}),t.on("cne:quartile-2",function(){return e.isPlayingAd()?void 0:e.trigger("cne:quartile-2",e.config.video.title)}),t.on("cne:quartile-3",function(){return e.isPlayingAd()?void 0:e.trigger("cne:quartile-3",e.config.video.title)}),t.on("cne:quartile-4",function(){return e.isPlayingAd()?void 0:e.trigger("cne:quartile-4",e.config.video.title)})}}.call(this),function(){_cne.ns("player.modules"),_cne.player.modules.moat=function(e){var t;return t=function(){return _cne.$("#js-cne-moat-script").remove(),_cne.player.Moat.parseVpaidUrl(e.player.currentSrc()),_cne.player.Moat.moatApi=_cne.player.Moat.injectScript("#"+e.config.divs.target)},e.on("cne:preroll:vpaidrendered",function(){return t()}),e.on("cne:preroll:prerollrendered",function(){return t()}),e.on("cne:postroll:postrollrendered",function(){return t()}),e.player.on("cne:preroll:skip",function(){return _cne.player.Moat.moatApi.dispatchEvent({type:"AdStopped",adVolume:.1})}),e.player.on("cne:vpaid:load",function(){return _cne.player.Moat.moatApi.dispatchEvent({type:"AdVideoStart",adVolume:.2})}),e.on("cne:videoad:start",function(){return _cne.player.Moat.moatApi.dispatchEvent({type:"AdVideoStart",adVolume:.3})}),e.player.on("cne:vpaid:end",function(){return _cne.player.Moat.moatApi.dispatchEvent({type:"AdVideoComplete",adVolume:.4})}),e.on("cne:videoad:end",function(){return _cne.player.Moat.moatApi.dispatchEvent({type:"AdVideoComplete",adVolume:.5})}),e.player.on("cne:quartile-1",function(){return e.isPlayingAd()?_cne.player.Moat.moatApi.dispatchEvent({type:"AdVideoFirstQuartile",adVolume:.6}):void 0}),e.player.on("cne:quartile-2",function(){return e.isPlayingAd()?_cne.player.Moat.moatApi.dispatchEvent({type:"AdVideoMidpoint",adVolume:.7}):void 0}),e.player.on("cne:quartile-3",function(){return e.isPlayingAd()?_cne.player.Moat.moatApi.dispatchEvent({type:"AdVideoThirdQuartile",adVolume:.8}):void 0}),e.player.on("play",function(){return e.isPlayingAd()?_cne.player.Moat.moatApi.dispatchEvent({type:"AdPlaying",adVolume:.9}):void 0}),e.player.on("pause",function(){return e.isPlayingAd()?_cne.player.Moat.moatApi.dispatchEvent({type:"AdPaused",adVolume:1}):void 0})}}.call(this),function(){_cne.ns("player.modules"),_cne.player.modules.omniture=function(e){e.omniture=new _cne.player.Omniture(e.config.environment.omniture,e.config.player.ssid,e),e.on("cne:video:setupcomplete",function(){var t=e.config.video,n=e.config.playlist,i=e.config.environment.omniture;return e.omniture.firePlayerLoaded(t,n,i,e.player.getTechName())}),e.on("cne:videoad:fetch",function(){if(!e.config.player.ssid.match(/\.(contextual|kpi)/)){var t=e.config.video,n=e.config.playlist,i=e.config.environment.omniture;return e.omniture.fireAdFetch(t,n,i,e.player.getTechName())}}),e.on("cne:videoad:start",function(t){var n=e.config.video,i=e.config.playlist,r=e.config.environment.omniture;return e.omniture.fireAdStart(n,i,r,t.creative.duration,e.player.getTechName())}),e.on("cne:videoad:fetchexited",function(t){if("adBlock"===t){var n=e.config.video,i=e.config.playlist,r=e.config.environment.omniture;e.omniture.fireAdBlock(n,i,r,e.player.getTechName())}}),e.on("cne:video:start",function(){var t=e.config.video,n=e.config.playlist,i=e.config.environment.omniture;e.omniture.fireVideoStart(t,n,i,e.player.getTechName())}),e.player.on("cne:quartile-1",function(){if(!e.isPlayingAd()){var t=e.config.video,n=e.config.playlist,i=e.config.environment.omniture;return e.omniture.fireVideoQ1(t,n,i,this.currentTime(),this.getTechName())}}),e.player.on("cne:quartile-2",function(){if(!e.isPlayingAd()){var t=e.config.video,n=e.config.playlist,i=e.config.environment.omniture;return e.omniture.fireVideoQ2(t,n,i,this.currentTime(),this.getTechName())}}),e.player.on("cne:quartile-3",function(){if(!e.isPlayingAd()){var t=e.config.video,n=e.config.playlist,i=e.config.environment.omniture;return e.omniture.fireVideoQ3(t,n,i,this.currentTime(),this.getTechName())}}),e.on("cne:video:end",function(){if(!e.firedComplete){var t=e.config.video,n=e.config.playlist,i=e.config.environment.omniture;e.omniture.fireVideoQ4(t,n,i,e.player.duration(),e.player.getTechName()),e.firedComplete=!0}}),e.player.on("cne:replay",function(){var t=e.config.video,n=e.config.playlist,i=e.config.environment.omniture;e.omniture.fireVideoPlayback(t,n,i,e.player.getTechName())}),e.player.on("videoplayback",function(){var t=e.config.video,n=e.config.playlist,i=e.config.environment.omniture;e.omniture.fireVideoPlayback(t,n,i,e.getTechName())}),e.player.on("fullscreenchange",function(){if(e.isFullscreen()){var t=e.config.video,n=e.config.playlist,i=e.config.environment.omniture;return e.omniture.fireFullScreen(t,n,i,this.getTechName())}})}}(),function(){_cne.ns("player.modules"),_cne.player.modules.play_beacons=function(e){return e.on("cne:video:start",function(){var t,n,i,r,s;if(e.config.player.enable_play_beacons){for(r=e.config.video.play_beacons,s=[],n=0,i=r.length;i>n;n++)t=r[n],s.push(_cne.util.beacon(t,{ssl:e.config.environment.ssl}));return s}})}}.call(this),function(){_cne.ns("player.modules"),_cne.player.modules.preroll=function(e){var t,n,i,r;return r=e.player,t=function(t){var n;if($(r.el()).addClass("cne-videoad"),_cne.$(t.target).is(r.getTech().el())){if(e.isMobile()){if(!e.isPlaying())return e.play(),void 0;if(e.isIos())return e.pause(),void 0}return n=e.currentAd,e.trigger("cne:videoad:click",n),_cne.util.beacon(n.eventCallbacks.clickTracking,{ssl:e.config.environment.ssl}),setTimeout(function(){return e.pause()},0),window.open(n.clickThrough,"_blank")}},i=function(){var t;return t=e.currentAd,e.comscore.playVideoAdvertisement(),e.renderCompanions(t),e.trigger("cne:ad:start",t.adId),e.trigger("cne:videoad:start",t),e.trigger("cne:preroll:start",t),null!=t.creative.parameters.skippable?(r.skipAdButton.duration=t.creative.parameters.skippable,r.skipAdButton.show()):void 0},n=function(){var t;if(!e.currentAd.isVpaid())return e.cleanupVideoAd(),t=e.adSlots.preroll.gotoNextAd(),null!=t?t.isVpaid()?e.renderVpaidAd(t):e.renderPreroll(t):(e.playVideoSource(),e.onVideoBegin())},e.renderVideoAd=function(r){var s;return this.currentAd=r,0===r.creative.assets.length?(n(),void 0):((this.config.player.autoplay||this.config.player.inViewportAutoplay||this.config.player.autoplayNext&&!this.isFirstVideo)&&this.player.addClass("cne-videoad"),this.player.one("play",i),s=r.creative.assets,s.length>1&&"video/webm"===s[0].type&&"video/mp4"===s[1].type&&(r.creative.assets=[s[1],s[0]]),this.player.src(r.creative.assets).ready(function(){return _cne.$(this.el()).on("click",t),this.on("tap",t),this.volume(this.cache_.volume),e.beganPlayback&&this.paused()?this.play():void 0}))},e.renderPostroll=function(e){return this.renderVideoAd(e)},e.renderPreroll=function(e){return this.renderVideoAd(e),this.auditor.recordPreroll("new-ad"),e.creative.assets.length>0?this.auditor.recordPreroll(e.creative.assets[0].src):this.auditor.recordPreroll("none")},e.cleanupVideoAd=function(){return this.player.off("play",i),this.player.skipAdButton.hide(),_cne.$(this.player.el()).off("click",t),this.player.off("tap",t)},e.on("cne:preroll:end",n),e.player.on("cne:preroll:skip",function(){return e.cleanupVideoAd(),e.playVideoSource(),e.onVideoBegin()}),e.on("cne:video:change",function(){return e.cleanupVideoAd()})}}.call(this),function(){_cne.ns("player.modules"),_cne.player.modules.resize_detection=function(e){var t,n,i,r,s,o;return o=e.player,i=null,n=function(){return _cne.$(o.el()).width()},r=function(){var e;return e=n(),480>=e?o.addClass("cne-small"):o.removeClass("cne-small")},t=function(){var e;return e=n(),e!==i?(i=e,r()):void 0},s=setInterval(t,400),o.on("dispose",function(){return clearInterval(s)})}}.call(this),function(){_cne.ns("player.modules"),_cne.player.modules.sparrow=function(e){if(e.config.player.isScriptEmbed){this.baseUrl="//capture.condenastdigital.com/track?_o="+e.config.environment.sparrow_origin;var t=function(t,n,i){var r,s,o;s={_ts:(new Date).toISOString(),_c:n,_t:t,app:"playerservice"},s._v="undefined"!=typeof i.value?i.value:1,r=_cne.$.param(s),r+="&"+_cne.$.param(i),o=this.baseUrl+"&"+r,_cne.util.beacon(o,{ssl:e.config.environment.ssl})};e.on("cne:videoad:fetch",function(){var n=e.config.video.title,i=e.videoViews;t("Ad Call Made","Video Ad",{title:n,videoViews:i})}),e.on("cne:ad:ad-rendered",function(n){var i=e.config.video.title,r=e.videoViews;t("Ad Rendered","Video Ad",{title:i,videoViews:r,adId:n})}),e.on("cne:videoad:fetchincomplete",function(n){var i=e.config.video.title,r=e.videoViews;t("Ad Fetch Incomplete","Video Ad",{title:i,videoViews:r,adId:n})}),e.on("cne:ad:start",function(n){var i=e.config.video.title,r=e.videoViews;t("Ad Start","Video Ad",{title:i,videoViews:r,adId:n})}),e.on("cne:ad:quartile-1",function(n){var i=e.config.video.title,r=e.videoViews;t("Ad 1st Quartile","Video Ad",{title:i,videoViews:r,adId:n})}),e.on("cne:ad:quartile-2",function(n){var i=e.config.video.title,r=e.videoViews;t("Ad 2nd Quartile","Video Ad",{title:i,videoViews:r,adId:n})}),e.on("cne:ad:quartile-3",function(n){var i=e.config.video.title,r=e.videoViews;t("Ad 3rd Quartile","Video Ad",{title:i,videoViews:r,adId:n})}),e.on("cne:videoad:end",function(n){var i=e.config.video.title,r=e.videoViews;t("Ad Complete","Video Ad",{title:i,videoViews:r,adId:n.adId})}),e.on("cne:videoad:fetchsuccess",function(n){var i=e.config.video.title,r=e.videoViews;t("Ad Response Received","Video Ad",{title:i,videoViews:r,adId:n})}),e.on("cne:preroll:nopreroll",function(){var n=e.config.video.title,i=e.videoViews;t("No Preroll","Video Ad",{title:n,videoViews:i})}),e.on("cne:videoad:emptyresponse",function(){var n=e.config.video.title,i=e.videoViews;t("Empty Ad Response","Video Ad",{title:n,videoViews:i})}),e.on("cne:videoad:invalidvast/vpaid",function(n){var i=e.config.video.title,r=e.videoViews;t("Invalid VAST/Vpaid","Video Ad",{title:i,videoViews:r,adId:n})}),e.on("cne:videoad:fetchexited",function(n){var i;i="adBlock"===n?"Ad Blocked":"Ad Call Error";var r=e.config.video.title,s=e.videoViews;t(i,"Video Ad",{title:r,videoViews:s})}),e.on("cne:video:start",function(n){var i=e.videoViews;t("Content Start","Video View",{title:n,videoViews:i})}),e.on("cne:quartile-1",function(n){var i=e.videoViews;t("25% Quartile","Video View",{title:n,videoViews:i})}),e.on("cne:quartile-2",function(n){var i=e.videoViews;t("50% Quartile","Video View",{title:n,videoViews:i})}),e.on("cne:quartile-3",function(n){var i=e.videoViews;t("75% Quartile","Video View",{title:n,videoViews:i})}),e.on("cne:video:end",function(n){var i=e.videoViews;t("Content End","Video View",{title:n,videoViews:i})}),e.on("cne:playerchrome:skip",function(e){t("Skip Video","Player Chrome Event",{title:e})}),e.on("cne:playerchrome:qualitychange",function(e){t("Quality Change","Player Chrome Event",{title:e})}),e.on("cne:playerchrome:fullscreen",function(e){t("Full Screen","Player Chrome Event",{title:e})}),e.on("cne:playerchrome:sharepanel",function(e){t("Share Panel","Player Chrome Event",{title:e})})}}}(),function(){_cne.ns("player.modules"),_cne.player.modules.subscribe=function(e){if(e.config.player.enable_in_video_subscribe&&!e.isPhone()&&!vjs.USER_AGENT.match(/MSIE (8|9)/)){var t=function(){return _cne.util.CookieHelper.read("cne_invideo_subscribe")};if(!(t()||_cne.$(e.player.el()).width()<500)){var n=10,i=!1,r=e.config.player.subscribe_annotation_path,s=function(){if(!e.isPlayingAd()){if(t())return _cne.$(".vjs-info-bar").removeClass("cne-hidden"),void 0;if(!e.isFullscreen()){var s=e.player.currentTime(),a=.25*e.duration(),c=a+n;s>a&&c>=s&&!i?(e.annotationLoader.load(r),i=!0,_cne.$(".vjs-info-bar").addClass("cne-hidden")):s>c&&i&&o()}}},o=function(){t()||(e.trigger("cne:reset-subscribe"),i=!1)};e.player.on("timeupdate",s),e.on("cne:video:start",o)}}}}(),function(){_cne.ns("player.modules"),_cne.player.modules.tech_information=function(e){var t;return t=e.player,t.getTech=function(){return this.tech},t.getTechName=function(){return this.techName}}}.call(this),function(){_cne.ns("player.modules"),_cne.player.modules.view_counter=function(e){var t,n;return t="cnecount",n="cnefirstdate",e.incrementCount=function(){var e,n;return e=_cne.util.CookieHelper.read(t),n=null==e?0:parseInt(e),n+=1,_cne.util.CookieHelper.create(t,n)},e.getPlayCount=function(){var e;return e=_cne.util.CookieHelper.read(t),null==e&&(e=1),parseInt(e)},e.getFirstPlayDate=function(){var e;return e=_cne.util.CookieHelper.read(n),null==e&&(e=(new Date).toDateString(),_cne.util.CookieHelper.create(n,e)),e}}}.call(this),function(){_cne.ns("player.modules"),_cne.player.modules.vpaid=function(e){var t,n,i,r,s;return r=e.player,s=null,n=function(e){var t;return r.creativeParams=e.creative.parameters_raw,t=e.creative.assets[0].src,t=_cne.util.convertUrlToSsl(t),r.src({src:t,type:"vpaid/flash"})},i=function(e){return r.loadTech("Html5vpaid"),r.ready(function(){return this.getTech().startVpaid(e)})},t=function(){return e.isPlayingAd()?(r.removeClass("cne-vpaid"),r.removeClass("cne-hide-timer"),r.off("cne:vpaid:click"),e.playVideoSource(),e.posterFrameClicked||r.autoplay()?e.onVideoBegin():(e.showPosterFrame(),r.bigPlayButton.show(),r.one("play",e.onVideoBegin))):r.trigger("waiting")},r.on("cne:vpaid:load",function(){return this.player_.options_.muted?this.player_.muted(!0):this.volume(this.cache_.volume),this.trigger("canplay"),e.eventLog.log("Timing",{time_type:"vpaid_load_time",time:s.getTimeElapsed(),ad_domain:e.currentAd.getDomain()})}),r.on("cne:vpaid:start",function(){return e.comscore.playVideoAdvertisement(),e.trigger("cne:videoad:start",e.currentAd),e.trigger("cne:vpaidad:start",e.currentAd),e.trigger("cne:ad:start",e.currentAd.adId),this.addClass("cne-videoad"),this.addClass("cne-vpaid"),e.renderCompanions(e.currentAd),e.beganPlayback=!0,e.eventLog.log("Timing",{time_type:"vpaid_start_time",time:s.getTimeElapsed(),ad_domain:e.currentAd.getDomain()}),e.eventLog.flush()}),r.on("cne:vpaid:end",function(){return t()}),r.on("cne:vpaid:error",function(){return t()}),r.on("cne:vpaid:click",function(){return _cne.util.beacon(e.currentAd.clickThrough),_cne.util.beacon(e.currentAd.eventCallbacks.clickTracking)}),e.renderVpaidAd=function(t){var r;return this.currentAd=t,s=new _cne.Timer,r=t.creative.assets[0].type,null!=t.creative.parameters.hideTimer&&this.player.addClass("cne-hide-timer"),"application/x-shockwave-flash"===r||"video/x-flv"===r?(n(t),e.trigger("cne:preroll:vpaidrendered:flash")):(i(t),e.trigger("cne:preroll:vpaidrendered:js"))}}}.call(this),function(){_cne.ns("player"),_cne.player.Omniture=_cne.util.Class.extend({init:function(e,t,n){var i,r;if("undefined"==typeof _cne.s){var s=document.createElement("script");s.setAttribute("type","text/javascript"),s.setAttribute("src",n.config.environment.omniture_library_path),(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(s)}this.suite_id=e.suite_id,this.ssid=t,this.player=n,i=this.ssid.split("."),3===i.length&&i.push("conde"),this.eVar59part1=i.join("_"),r=[5,7,8,9,38,59,62,63,64,65,66,67,75,110],r=this.setParentEVars(r),this.sharedLinkTrackVars=",pev3",this.sharedLinkTrackVars+=",list2",this.sharedLinkTrackVars+=",eVar2";for(var o=0;o<r.length;o++)this.sharedLinkTrackVars+=",prop"+r[o]+",eVar"+r[o]},_fire:function(e,t,n,i){var r=_cne.s;r.un=n.suite_id,r.oun=n.suite_id,r.fun=n.suite_id,r.account=n.suite_id,r.trackingServer=n.server,r.trackingServerSecure=n.secure_server,r.eVar67=e.cne_produced?"CNE":"Brand",r.prop67="D=v67",r.eVar30=this.eVar30,r.prop30="D=v30",r.eVar38=this.player.getPlayCount(),r.prop38="D=v38",r.eVar39=this.eVar39,r.prop39="D=v39",r.eVar59=this.eVar59part1+"_"+i.toLowerCase(),r.prop59="D=v59",r.eVar65=e.brand,r.prop65="D=v65",r.eVar66=t.slug,r.prop66="D=v66",r.eVar5=this.eVar5,r.prop5="D=v5",r.pev3="video",r.eVar62=e.premiere_date,r.prop62="D=v62",r.eVar63=this.player.videoViews,r.prop63="D=v63",r.eVar110=this.player.getFirstPlayDate(),r.prop110="D=v110",r.eVar64=window.location.href,r.prop64="D=v64",r.eVar2=r.pageName=window.location.href.split("?")[0];var s=e.id;s+=e.season_title?"|"+(e.series_title+"_"+e.season_title).replace("|","-"):"|null_null",s+="|"+e.duration,e.title&&(s+="|"+e.title.replace("|","-")),r.eVar75=s,r.prop75="D=v75",r.eVar7=e.cne_categories&&e.cne_categories.join("|"),r.prop7="D=v7",r.eVar8=e.categories&&e.categories.join("|"),r.prop8="D=v8",r.eVar9=e.series_categories&&e.series_categories.join("|"),r.prop9="D=v9",r.list2=e.tags&&e.tags.join("|"),r.tl(!0,"o","video player"),r.clearVars()},firePlayerLoaded:function(e,t,n,i){var r=this;if("undefined"==typeof _cne.s)setTimeout(function(){r.firePlayerLoaded(e,t,n,i)},100);else{var s=_cne.s;s.linkTrackVars=this.sharedLinkTrackVars,s.linkTrackEvents="event88",s.events="event88",this._fire(e,t,n,i)}},fireVideoStart:function(e,t,n,i){var r=this;if("undefined"==typeof _cne.s)setTimeout(function(){r.fireVideoStart(e,t,n,i)},100);else{var s=_cne.s;s.linkTrackVars="pe,events"+this.sharedLinkTrackVars,s.linkTrackEvents="event72,event79",s.pe="m_s";var o=e.duration.toFixed(2);s.events="event72,event79="+o,this._fire(e,t,n,i)}},_fireQuartile:function(e,t,n,i,r,s){var o=_cne.s;o.linkTrackVars="pe,events,products"+this.sharedLinkTrackVars,o.linkTrackEvents=s+",event78,event81",o.pe="m_i";var a=(.25*e.duration).toFixed(2);o.events=s+",event78,event81",o.products=";;;;event81="+a,this._fire(e,t,n,r)},fireVideoQ1:function(e,t,n,i,r){var s=this;"undefined"==typeof _cne.s?setTimeout(function(){s.fireVideoQ1(e,t,n,i,r)},100):this._fireQuartile(e,t,n,i,r,"event80")},fireVideoQ2:function(e,t,n,i,r){var s=this;"undefined"==typeof _cne.s?setTimeout(function(){s.fireVideoQ2(e,t,n,i,r)},100):this._fireQuartile(e,t,n,i,r,"event73")},fireVideoQ3:function(e,t,n,i,r){var s=this;"undefined"==typeof _cne.s?setTimeout(function(){s.fireVideoQ3(e,t,n,i,r)},100):this._fireQuartile(e,t,n,i,r,"event84")},fireVideoQ4:function(e,t,n,i,r){var s=this;"undefined"==typeof _cne.s?setTimeout(function(){s.fireVideoQ4(e,t,n,i,r)},100):this._fireQuartile(e,t,n,i,r,"event74")},fireVideoPlayback:function(e,t,n,i){var r=this;if("undefined"==typeof _cne.s)setTimeout(function(){r.fireVideoPlayback(e,t,n,i)},100);else{var s=_cne.s;s.linkTrackVars="pe,events"+this.sharedLinkTrackVars,s.linkTrackEvents="event75",s.pe="m_i",s.events="event75",this._fire(e,t,n,i)}},fireFullScreen:function(e,t,n,i){var r=this;if("undefined"==typeof _cne.s)setTimeout(function(){r.fireFullScreen(e,t,n,i)},100);else{var s=_cne.s;s.linkTrackVars="pe,events"+this.sharedLinkTrackVars,s.linkTrackEvents="event77",s.pe="m_i",s.events="event77",this._fire(e,t,n,i)}},fireSocialShare:function(e,t,n,i,r){var s=this;if("undefined"==typeof _cne.s)setTimeout(function(){s.fireSocialShare(e,t,n,i,r)},100);else{var o=_cne.s;o.linkTrackVars="eVar37,pe,events"+this.sharedLinkTrackVars,o.linkTrackEvents="event76",o.eVar37=i,o.pe="m_i",o.events="event76",this._fire(e,t,n,r)}},fireAdFetch:function(e,t,n,i){var r=this;if("undefined"==typeof _cne.s)setTimeout(function(){r.fireAdFetch(e,t,n,i)},100);else{var s=_cne.s;s.linkTrackVars=this.sharedLinkTrackVars,s.linkTrackEvents="event87",s.events="event87",this._fire(e,t,n,i)}},fireAdBlock:function(e,t,n,i){var r=this;if("undefined"==typeof _cne.s)setTimeout(function(){r.fireAdBlock(e,t,n,i)},100);else{var s=_cne.s;s.linkTrackVars="eVar54"+this.sharedLinkTrackVars,s.linkTrackEvents="event48",s.evar54="videoAdBlock",s.events="event48",this._fire(e,t,n,i)}},fireAdStart:function(e,t,n,i,r){var s=this;if("undefined"==typeof _cne.s)setTimeout(function(){s.fireAdStart(e,t,n,i,r)},100);else{var o=_cne.s;o.linkTrackVars="eVar69"+this.sharedLinkTrackVars,o.linkTrackEvents="event86",o.eVar69=i,o.events="event86",this._fire(e,t,n,r)}},parseDomainHost:function(e,t){var n,i,r;return e=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],e=e.replace(/^www\./,""),e=e.split(":")[0],"domain"==t&&(r=e.split("."),n=_cne.util.url.extractDomain(e),i=r.indexOf(n),e=r.slice(i),e=e.join(".")),e},setParentEVars:function(e){var t,n;return this.player.config.player.isScriptEmbed?(n=window.top.s,t=""!=window.top.parent.document.referrer?window.top.parent.document.referrer:""):t=""!=document.referrer?document.referrer:"","undefined"!=typeof n?(this.eVar5="undefined"!=typeof n.eVar5?""!=n.eVar5?n.eVar5:"video":"video",this.eVar39="undefined"!=typeof n.eVar39?""!=n.eVar39?n.eVar39:this.parseDomainHost(t,"domain"):this.parseDomainHost(t,"domain"),this.eVar30="undefined"!=typeof n.eVar30?""!=n.eVar30?n.eVar30:this.parseDomainHost(t,"subdomain"):this.parseDomainHost(t,"subdomain")):(this.eVar5="video",this.eVar30=this.parseDomainHost(t,"subdomain"),this.eVar39=this.parseDomainHost(t,"domain")),""!=this.eVar30&&e.push(30),""!=this.eVar39&&e.push(39),e}})}(),function(){_cne.ns("player"),_cne.player.PageVisibility=_cne.util.Class.extend({init:function(e){var t,n;"undefined"!=typeof document.hidden?(t="hidden",n="visibilitychange"):"undefined"!=typeof document.mozHidden?(t="mozHidden",n="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(t="msHidden",n="msvisibilitychange"):"undefined"!=typeof document.webkitHidden?(t="webkitHidden",n="webkitvisibilitychange"):n="visibilitychange",this.config={hidden:t,isMobile:e.player.isMobile()},_cne.$.extend(this.config,e);
var i=this;_cne.$(document).on(n,function(){var e=i.config.player;i.config.isMobile&&e.isPlayingAd()&&document[i.config.hidden]&&e.comscore.stop()})}})}(),function(){_cne.ns("player"),_cne.player.PanelLoader=_cne.util.Class.extend({init:function(e){this.player=e,this.playerEl=_cne.$(this.player.player.el()),this.overlayWindow=this.playerEl.children(".cne-overlay-window"),this.overlayContent=this.overlayWindow.children(".cne-content");var t=this;this.overlayContent.on("click","div.js-close-panel",function(e){e.preventDefault(),t.hideOverlayWindow()}),this.overlayContent.on("click","div.js-load-panel",function(e){e.preventDefault();var n=_cne.$(this).data("panel-url");t.load(n)}),this.playerWasPaused=void 0},load:function(e,t){t=_cne.$.extend({target:this.player.config.divs.target},t),_cne.$.ajax({url:e,data:t,dataType:"script"})},loadCallback:function(e,t){this.playerEl.addClass("cne-overlay"),this.overlayWindow.removeClass("cne-hidden"),this.overlayContent.html(e),t&&t(this.overlayContent),"undefined"==typeof this.playerWasPaused&&(this.playerWasPaused=this.player.player.paused(),this.playerWasPaused||this.player.pause())},hideOverlayWindow:function(){this.playerEl.removeClass("cne-overlay"),this.overlayWindow.addClass("cne-hidden"),this.overlayContent.removeClass("is-embed is-url"),this.playerWasPaused||this.player.play(),this.playerWasPaused=void 0}})}(),function(){_cne.ns("player"),_cne.player.Player=_cne.util.Class.extend({init:function(e,t,n,i,r){var s=this;this.initTimer=new _cne.Timer,this.analytics=new _cne.util.cneAnalytics.getInstance,this.analytics.registerTracker(new _cne.util.GoogleCneAnalyticsTracker("ps",n.google_analytics)),this.playerReady=!1,this.playerKey=_cne.util.guid(),this.firedComplete=!1,this.beganPlayback=!1,this.videoViews=1,this.isFirstVideo=!0,this.adSetupComplete=!1,this.clickedPowerSaver=!1,this.posterFrameClicked=!1,this.currentSourceIndex=0,this.config={video:t,environment:n,player:i,divs:e,playlist:r},this.config.player.player_error_monitoring||this.analytics.registerTracker(new _cne.util.MetricsTracker("ps",n.metrics_base_url+"/metrics/",n.ssl)),this.isMobile()&&(this.config.player.inViewportAutoplay=!1,this.config.player.autoplay=!1,this.config.player.muted=!1),"modal"==i.player_type?(this.config.player.autoplay=!1,this.initModalHtml()):this.initHtml();var o=this.config.environment.settings_path;this.settings=new _cne.player.SettingsProvider(o),this.initVideoJs(),_cne.$.each(_cne.player.modules,function(){this(s)}),n.defer_video_play?_cne.playVideo&&_cne.playVideo(this):this.completeSetup()},completeSetup:function(){var e=this;this.adRenderer=new _cne.player.AdRenderer({player:this,companionDivId:this.config.divs.companion}),this.auditor=new _cne.player.Auditor(this);var t=this.config.player.fw_profile_ids.without_flash,n=!1;swfobject.hasFlashPlayerVersion("10")&&(t=this.config.player.fw_profile_ids.with_flash,n=!0);var i={fwBaseUrl:this.config.environment.freewheel.base_url,fetchComplete:function(t){e.onAdsFetched(t)},ssid:this.config.player.ssid,fwNetworkId:this.config.player.fw_network_id,ssl:this.config.environment.ssl,ads_disabled:this.config.player.ads_disabled,hasCompanion:this.config.player.has_companion,companion_dimensions:this.config.player.companion_dimensions,hasBrandedCanvas:this.config.player.has_branded_canvas,branded_canvas_profile:this.config.environment.freewheel.branded_canvas_profile,hasTakeover:this.config.player.has_takeover,takeover_profile:this.config.environment.freewheel.takeover_profile,profile_id:t,player:this,playerKey:this.playerKey,adKeyValues:this.config.player.adKeyValues,allowFlashCreatives:n};this.adFetcher=new _cne.player.AdFetcher(i),this.adFetcher.setVideo(this.config.video),this.etfEventTracker=new _cne.player.EtfEventTracker(this.config.environment.etf_base_url),this.adQueue=new _cne.player.AdQueue(function(t){e.renderAdSlot(t)}),this.player.on("timeupdate",function(){e.onPlayerTimeUpdate()}),this.player.on("ended",function(){e.onVideoEnded()}),this.player.on("cne:next",function(t){e.onNext(t)}),this.panelLoader=new _cne.player.PanelLoader(this),this.config.player.enable_in_video_subscribe&&(vjs.USER_AGENT.match(/MSIE (8|9)/)||(this.annotationLoader=new _cne.player.AnnotationLoader(this))),this.player.on("error",function(){e.recoverFromPlaybackError()}),this.player.on("play",function(){e.onPlay()}),this.player.on("pause",function(){e.onPause()}),this.player.on("cne:qualitychange",function(){e.onQualityChange()}),this.player.on("fullscreenchange",function(){e.onFullscreenChange()}),this.player.on("volumechange",function(){e.onVolumeChange()}),this.player.on("cne:info-panel:show",function(){e.onInfo()}),this.player.on("cne:share",function(){e.onShare()}),this.player.on("cne:scenebutton",function(){e.onSceneButton()}),this.player.on("cne:fullscreen",function(){e.onFullscreen()}),this.player.on("cne:replay",function(){e.onReplay()}),this.config.player.player_error_monitoring&&(this.LogSession=new _cne.player.LogSession({env:this.config.environment.etf_environment,ssid:this.config.player.ssid,sourceUrl:this.config.environment.source_url?this.config.environment.source_url:window.location.href,videoId:this.config.video.id,noParamsUrl:this.config.environment.source_url?this.config.environment.source_url.split("?")[0]:window.location.href.split("?")[0],sourceReferrer:this.config.environment.use_source_referrer?this.config.environment.source_referrer:document.referrer},this),this.on("cne:log",function(t){e.LogSession.addLogEvent(t)}),this.on("cne:video:change",function(t){e.LogSession.resetSession(t)}));var r=function(){"undefined"==typeof e.config.adRequestStatus||e.config.adRequestStatus.eventFired||e.config.adRequestStatus.requestResolved||(e.player.trigger("cne:videoad:fetchincomplete"),e.config.adRequestStatus.eventFired=!0),e.config.player.player_error_monitoring&&e.LogSession.sendPayload()};_cne.$(window).on("beforeunload",r),_cne.$(window).on("unload",r);var s=window[this.config.player.onReady];s&&s(this),this.analytics.send("beacon",{metricName:"player_load_time",value:this.initTimer.getTimeElapsed()}),this.analytics.send("timing",{timingCategory:"Player",timingVar:"Load Time",timingValue:this.initTimer.getTimeElapsed()}),this.playbackMetric("player_load"),this.eventLog.log("Timing",{time_type:"player_load",time:this.initTimer.getTimeElapsed()}),this.trigger("cne:video:setupcomplete"),this.comscore=this.buildComscoreTag(),this.pageVisibility=new _cne.player.PageVisibility({player:this}),this.currentAd=null,this.auditor.record("fetching-ads"),this.player.trigger("waiting"),this.incrementCount(),this.adFetcher.fetchAds()},bindPlayBtnHover:function(e,t,n){var i,r,s;s=_cne.$(".video-js"),r=e.find("span"),i=this.getPlayBtnColors(t,n),s.on("mouseenter.colorizePlayBtn",function(){e.animate({backgroundColor:i.hover.background,borderColor:i.hover.stroke},100),r.animate({borderLeftColor:i.hover.foreground},100)}),s.on("mouseleave.colorizePlayBtn",function(){e.animate({backgroundColor:i.default.background,borderColor:i.default.stroke},75),r.animate({borderLeftColor:i.default.foreground},75)})},dispose:function(){this.player.dispose()},isDeviceLessThanIE10:function(){return/IE [89]/.test(navigator.userAgent)?!0:!1},isDeviceIPhone:function(){return navigator.userAgent.match(/iPhone/i)?!0:!1},getBlankVideoSource:function(){return"http://dp8hsntg6do36.cloudfront.net/000_blank/blank.mp4"},getPlayBtnColor:function(e,t,n){var i;return n="undefined"!=typeof n?n:"046EFE",t="undefined"!=typeof t?t:0,i=this.validatePlayBtnColor(e,n),"rgba("+_cne.util.color.getRgbFromHex(i)+","+t+")"},getPlayBtnColors:function(e,t){return{"default":{background:this.getPlayBtnColor(e.bg_color,.8),foreground:this.getPlayBtnColor(e.fg_color,1,"FFFFFF"),stroke:this.getPlayBtnColor(t.color,1)},hover:{background:this.getPlayBtnColor(e.bg_color_hover,1),foreground:this.getPlayBtnColor(e.fg_color_hover,1,"FFFFFF"),stroke:this.getPlayBtnColor(t.color_hover,1)}}},getVideoClasses:function(){var e=["video-js","vjs-default-skin","cne-skin-2"],t=this.config.player,n=t.ssid.split(".").pop(),i=this.config.video.scene_url;return t.enableShare||e.push("cne-no-share"),t.enableInfoPanel||e.push("cne-no-info-bar"),("share"!==n&&!t.show_thescene_logo||0==i.length)&&e.push("cne-no-scene"),e.join(" ")},setFlashCORSProxy:function(){_cne.$("body").append(_cne.$('<div id="corsproxy"></div>')),swfobject.embedSWF(this.config.environment.cors_proxy_swf_url,"corsproxy","1","1","9.0.0",!1,{},{allowScriptAccess:"always"})},setPlayBtnDefaults:function(e,t,n){var i;i=e.children("span"),e.css({backgroundColor:this.getPlayBtnColor(t.bg_color,.8),borderColor:this.getPlayBtnColor(n.color,1),borderWidth:this.validatePlayBtnStroke(n.width)}),i.css({borderLeftColor:this.getPlayBtnColor(t.fg_color,1,"FFFFFF")})},stylizeBigPlayBtn:function(e){var t,n;t=this.config.player.play_btn_colors,n=this.config.player.play_btn_stroke,this.setPlayBtnDefaults(e,t,n),e.is(".vjs-hidden")||this.bindPlayBtnHover(e,t,n)},validatePlayBtnColor:function(e,t){return null!=e&&_cne.util.color.isHexColorValid(e)?e:t},validatePlayBtnStroke:function(e){return"undefined"!=typeof e&&parseInt(e)<=5?e+"px":0},initModalHtml:function(){var e=document.createElement("video");e.setAttribute("id",this.playerKey),e.setAttribute("data-setup","{}"),this.isDeviceIPhone()&&e.setAttribute("src",this.getBlankVideoSource()),document.getElementById(this.config.divs.target).appendChild(e),e.setAttribute("class",this.getVideoClasses()),this.isDeviceLessThanIE10()&&this.setFlashCORSProxy()},initHtml:function(){this.targetDiv=_cne.$("#"+this.config.divs.target);var e=this.targetDiv.height(),t=this.targetDiv.width(),n=250,i=141,r=""===this.config.divs.companion&&this.config.player.has_companion;0===e?e=Math.round(t*(9/16)):e-=r?75:0,e=Math.max(e,i),t=Math.max(t,n);var s=document.createElement("video");if(!this.config.player.autoplay){var o=this.config.playlist.poster_frame||this.config.video.poster_frame;s.setAttribute("poster",o)}if(s.setAttribute("id",this.playerKey),s.setAttribute("width",t),s.setAttribute("height",e),s.setAttribute("data-setup","{}"),this.isDeviceIPhone()&&s.setAttribute("src",this.getBlankVideoSource()),document.getElementById(this.config.divs.target).appendChild(s),s.setAttribute("class",this.getVideoClasses()),r){this.config.divs.companion=_cne.util.guid();var a=document.createElement("div");a.setAttribute("id",this.config.divs.companion),a.setAttribute("class","cne-auto-companion"),document.getElementById(this.config.divs.target).appendChild(a)}this.isDeviceLessThanIE10()&&this.setFlashCORSProxy()},initVideoJs:function(){var e=this,t=this.settings.get("quality")||this.config.player.default_quality,n=parseInt(this.config.player.muted),i=parseFloat(this.settings.get("volume"))||.75;this.config.vjs={autoplay:this.config.player.autoplay,controls:this.config.player.show_controls,loop:this.config.player.continuous_loop,muted:1==n,preload:this.config.player.preload,quality:t,techOrder:["flashVpaid","html5vpaid","flash"],html5vpaid:{placeholderVideoUrl:"http://dp8hsntg6do36.cloudfront.net/000_blank/blank.mp4",isMobile:this.isMobile(),environment:{LR_ENVIRONMENT:"flash,html5",LR_AUTOPLAY:this.config.player.autoplay?1:0,LR_TITLE:encodeURIComponent(this.config.video.title),LR_VIDEO_ID:this.config.video.id}},flashvpaid:{vjsPlayer:'_cne.players["'+this.config.divs.target+'"].player',swfUrl:this.config.environment.vpaid_swf_url},children:{videoAdCountdown:{},overlayAd:{},brandedBug:{},overlayWindowControl:{},skipAdButton:{},infoBar:this.config.player.enableInfoPanel?{}:!1,errorOverlay:{},loadingSpinner:!1,cneLoadingSpinner:!this.isIphone(),cneAnnotations:!0,controlBar:{children:{playToggle:{},liveDisplay:!1,progressControl:{children:{seekBar:!1,cneSeekBar:!0,scrubberThumb:!(vjs.IS_IOS||vjs.IS_ANDROID||vjs.USER_AGENT.match(/iemobile/i)||vjs.USER_AGENT.match(/MSIE 8/))}},currentTimeDisplay:!1,remainingTimeDisplay:!0,durationDisplay:!1,cneSceneButton:!!this.config.video.scene_url.length&&("share"===this.config.player.ssid.split(".").pop()||this.config.player.show_thescene_logo),cneFullscreen:!0,fullscreenToggle:!1,qualityToggle:{},shareControl:this.config.player.enableShare?{}:!1,replayControl:{},muteToggle:!1,volumeControl:!1,cneControlBackground:!0,CneNextMenuButton:e.config.video.next_video?!0:!1,verticalVolumeMenuButton:!0}}},nativeControlsForTouch:this.isIphone(),plugins:{quartileTracking:!0,overlayAds:!0,scrubberThumbPlugin:!0}},this.player=window.videojs(this.playerKey,this.config.vjs),this.player.tech&&this.player.tech.features&&this.player.tech.features.volumeControl===!1&&this.player.addClass("cne-no-volume"),this.player.ready(function(){if(e.playerReady=!0,null!=e.config.playlist.id){var t=_cne.$(".cne-video-title")[0];t&&(t.style.display="none")}this.title(e.config.video.title),e.config.player.autoplay&&this.bigPlayButton.hide(),this.volume(i),e.isPhone()&&this.addClass("cne-phone"),e.isSafari()&&(this.bigPlayButton.on("click",function(){e.forcePlay()}),this.posterImage.on("click",function(){e.forcePlay()})),e.stylizeBigPlayBtn(_cne.$(".vjs-big-play-button"))})},showPosterFrame:function(){var e=this,t=_cne.$(this.player.el()).children("video"),n=_cne.$(this.player.el()).children(".vjs-poster"),i=_cne.$(this.player.el()).children(".vjs-big-play-button");this.player.brandedBug.addClass("cne-no-controls");var r=this.config.playlist.poster_frame||this.config.video.poster_frame;t.attr("poster","").delay(500).attr("poster",r),n.css("background-image","url("+r+")"),i.one("tap click",function(t){_cne.$(e.player.el_).find("video")[0].play(t),e.trigger("cne:video:posterframeclicked"),e.posterFrameClicked=!0,n.off("tap click")}),n.one("tap click",function(t){_cne.$(e.player.el_).find("video")[0].play(t),e.trigger("cne:video:posterframeclicked"),e.posterFrameClicked=!0,i.off("tap click")})},onAdsFetched:function(e){var t=this;t.LogSession&&t.LogSession.setAdResponse(e);var n="fetched-ads";this.adResponse=e,this.adSlots=e.adSlots,_cne.$.each(e.adSlots,function(e){n+="-"+e}),this.auditor.record(n),this.player.ready(function(){t.setupAds()})},killOnAdsBlocked:function(e,t){var n=document.getElementById(this.config.divs.target),i=n.firstElementChild.className,r=e||"Uh oh! You're seeing this blue screen because we can't show you an ad.",s=t||"If you have ad-blocking software enabled, please pause it and refreshthis page (ads are what allow us to bring you high quality videos for free).",o="<div class='"+i+"'><div class='cne-error-overlay'><div class='cne-error-text'><div class='cne-error-title'>"+r+"</div><p class='cne-error-message'>"+s+"</p></div></div></div>";n.innerHTML=o,this.player.ready=function(){}},setupAds:function(){var e,t,n;if(e=this,n=this.config.environment.ssl,this.adQueue.clear(),this.adSlots.overlay&&this.adQueue.addAdSlot(this.adSlots.overlay),this.player.one("play",function(){"undefined"!=typeof e.adSlots.preroll&&("undefined"!=typeof e.adSlots.preroll.ads&&e.adSlots.preroll.ads.length>0&&(e.trigger("cne:videoad:playbackstart"),e.adFetcher.errored===!1&&(t=e.config.video.legacy_comscore_beacon_url,t=e.setComscoreUrlC5Param(t,"ad"),_cne.util.beacon(t,{ssl:n}))),_cne.util.beacon(e.adSlots.preroll.slotImpressionUrl,{ssl:e.config.environment.ssl}))}),this.config.player.autoplay||this.showPosterFrame(),this.hasAdInSlot("preroll")){var i=this.adSlots.preroll.gotoNextAd(),r=vjs.formatTime(i.creative.duration),s='<span class="cne-time">'+r+"</span>";_cne.$(".cne-videoad-countdown")[0].innerHTML="Advertisement "+s,this.trigger("cne:ad:ad-rendered",i.adId),i.isVpaid()?(this.renderVpaidAd(i),this.trigger("cne:preroll:vpaidrendered")):(this.renderPreroll(i),this.trigger("cne:preroll:prerollrendered"))}else this.playVideoSource(),this.trigger("cne:preroll:nopreroll"),this.config.player.autoplay?this.onVideoBegin():this.player.one("play",function(){e.onVideoBegin()});this.adSetupComplete=!0,this.eventLog.flush()},duration:function(){return navigator.userAgent.match(/IEmobile/i)?this.player.tech.duration():this.player.duration()},renderAdSlot:function(e){_cne.util.beacon(e.slotImpressionUrl,{ssl:this.config.environment.ssl}),e.ads&&e.ads.length>0&&this.adRenderer.renderAd(e.ads[0])},renderCompanions:function(e){if(this.config.player.has_companion&&!(e.companions.length<1)){this.sendAnalyticsEvent("Companion","Ad Viewed",{nonInteraction:"true","Ad-Format":"Freewheel","Ad-Id":e.adId,"Ad-Creative-Id":e.creative.creativeId});var t=this;_cne.$.each(e.companions,function(){t.adRenderer.renderAd(this)}),this.trigger("cne:companion_rendered")}},clickBrandedCanvas:function(e){this.pause(),window.open(e)},onPlayerTimeUpdate:function(){var e=this.player.currentTime();this.isPlayingAd()||this.adQueue.updateTime(e)},onVideoBegin:function(){var e,t,n;e=this,n=this.config.environment.ssl,_cne.util.BrowserDetectionHelper.detectSafari5()&&_cne.$(".vjs-control-bar .vjs-play-control").css("visibility","visible"),"function"==typeof window._cne.turnOffCanvas&&window._cne.turnOffCanvas(),"Flash"===this.player.getTechName()&&this.player.trigger("play"),this.playbackMetric("player_video_play"),"undefined"!=typeof this.adResponse.videoViewCallbackUrls&&_cne.$.each(this.adResponse.videoViewCallbackUrls,function(e,t){_cne.util.beacon(t,{ssl:n})}),t=e.config.video.legacy_comscore_beacon_url,t=this.setComscoreUrlC5Param(t,"content"),_cne.util.beacon(t,{ssl:n}),this.config.video.etf_site_code&&this.etfEventTracker.fireEvent({environment:this.config.environment.etf_environment,siteCode:this.config.video.etf_site_code,eventCode:"most_viewed",contentId:this.config.video.id,contentType:"CneVideo",fullUrl:this.config.video.url,contentTitle:this.config.video.title,imgUrl:this.config.video.etf_poster_frame,ssl:n}),this.firedComplete=!1,this.analytics.send("beacon",{metricName:"videos/view/"+this.config.video.brand,value:this.config.video.id}),setTimeout(function(){e.sendAnalyticsEvent("Video","Begin",{nonInteraction:"true","Next-Video-Id":e.getNextVideo().id})},5e3),this.updateNextVideo(),this.trigger("cne:video:start",this.config.video.title)},onContentVideoEnd:function(){this.trigger("cne:video:end",this.config.video.title),this.player.bigPlayButton.hide(),this.player.hideBug(),delete this.comscore;var e=_cne.$("video")[0];this.config.player.autoplayNext?this.load(this.getNextVideo().id):(e.webkitDisplayingFullscreen&&this.isIos()&&e.webkitExitFullscreen(),this.showPosterFrame(),_cne.$(this.player.el()).children(".vjs-poster").show(),this.player.bigPlayButton.show())},onVideoEnded:function(){if(this.isPlayingAd()){var e=this.currentAd;this.comscore.stop(),this.trigger("cne:videoad:end",e),"preroll"===e.slotName?this.trigger("cne:preroll:end",e):"postroll"===e.slotName&&this.onContentVideoEnd()}else this.adSlots.postroll&&this.adSlots.postroll.ads.length>0?(this.renderPostroll(this.adSlots.postroll.ads[0]),this.trigger("cne:postroll:postrollrendered")):this.onContentVideoEnd()},onVolumeChange:function(){var e=this.player.muted();this.player.options_.muted=e,this.settings.set("muted",e?"1":"0");var t=this.player.volume();this.settings.set("volume",t)},onPlay:function(){if(!this.isPlayingAd()&&!this.player.seeking()){"undefined"==typeof this.comscore&&(this.comscore=this.buildComscoreTag());var e={ns_st_ci:this.config.video.id,c3:this.config.video.comscore_config.c3,c4:this.config.video.comscore_config.c4||"*null",c6:this.config.video.comscore_config.c6||"*null",c8:this.config.video.comscore_config.c8};this.comscore.playVideoContentPart(e)}this.beganPlayback=!0,this.player.bigPlayButton.hide(),this.player.posterImage.hide()},onPause:function(){"undefined"==typeof this.comscore||this.isPlayingAd()||this.player.seeking()||this.comscore.stop()},onQualityChange:function(){this.trigger("cne:playerchrome:qualitychange",this.config.video.title),this.settings.set("quality",this.player.quality());var e="HIGH"===this.player.quality()?"on":"off";_cne.$(".cne-hd-notification").length>0&&_cne.$(".cne-hd-notification").remove(),_cne.$(this.player.el()).append('<div class="cne-hd-notification cne-hd-'+e+'"><span>HD is '+e+"</span></div>"),_cne.$(".cne-hd-notification").show().delay(1e3).fadeOut("slow",function(){_cne.$(this).remove()})},onFullscreenChange:function(){this.trigger("cne:playerchrome:fullscreen",this.config.video.title),_cne.$("div.vjs-fullscreen-control").toggleClass("cne-full"),_cne.$("div.cne-info-panel-overlay").toggleClass("cne-full")},onNext:function(){this.trigger("cne:playerchrome:skip",this.config.video.title);var e=this.getNextVideo();this.pause(),this.load(e.id)},getNextVideo:function(){return this.config.video.next_video},setNextVideo:function(e){this.config.video.next_video=e,this.updateNextVideo()},updateNextVideo:function(){var e=this.getNextVideo();this.player.controlBar.CneNextMenuButton.setNextVideo(e)},onInfo:function(){this.panelLoader.load(this.config.video.info_panel_path)},onShare:function(){this.trigger("cne:playerchrome:sharepanel",this.config.video.title),this.panelLoader.load(this.config.video.share_panel_path)},onReplay:function(){this.comscore=this.buildComscoreTag(),this.playVideoSource(),this.onVideoBegin()},onSceneButton:function(){var e=this.config.video.scene_url+"?source=player_scene_logo";this.sendAnalyticsEvent("Scene Logo - Player","click",{eventLabel:this.config.video.title+" ("+this.config.video.brand+")"}),this.pause(),window.open(e,"_blank")},onFullscreen:function(){this.player.isFullscreen()?this.player.exitFullscreen():this.player.requestFullscreen()},playVideoSource:function(){var e=this,t=this.config.video.sources[this.currentSourceIndex];this.currentAd=null,this.player.removeClass("cne-videoad"),this.player.setSourceList(t);for(var n=[],i=0;i<t.length;i++)t[i].quality.toLowerCase()===this.player.quality().toLowerCase()&&n.push(t[i]);this.auditor.record("play-video"),this.auditor.record(n[0].src),this.player.src(n).ready(function(){this.volume(this.player().cache_.volume),this.title(e.config.video.title),e.config.player.show_bug&&this.bug(e.config.video.brand_image,e.config.video.url),this.setScrubberThumbSrc(e.config.video.thumb_encode),e.beganPlayback&&setTimeout(function(){var t=navigator.userAgent;t.match(/Macintosh.*Safari/)&&!t.match(/Chrome/)?(e.player.getTech().el().load(),e.play()):e.play()},0)})},recoverFromPlaybackError:function(){var e,t=this.isPlayingAd(),n=this.player.currentSrc(),i=this.player.error()?this.player.error().code:"";switch(i){case 1:e="player_video_error_aborted";break;case 2:e="player_video_error_network";break;case 3:e="player_video_error_decode";break;case 4:e="player_video_error_src_not_supported";break;default:e="player_video_error",i=0}this.playbackMetric(e),t?(this.trigger("cne:log",{type:"error",logEvent:{name:"ad_playback_error",message:{errorThrown:e},errorCode:203}}),this.cleanupVideoAd(),this.playVideoSource(),this.onVideoBegin()):(this.currentSourceIndex++,this.config.video.sources.length>this.currentSourceIndex?(this.trigger("cne:log",{type:"error",logEvent:{name:"video_source_error",message:{errorThrown:e,playerSrc:n},errorCode:i+100}}),this.playVideoSource()):(this.trigger("cne:log",{type:"error",logEvent:{name:"video_source_fatal_error",message:{errorThrown:e,playerSrc:n},errorCode:i+100}}),this.player.trigger("cne:error-overlay:show")))},setAdKeyValues:function(e){this.config.player.adKeyValues=e,this.adFetcher.setAdKeyValues(e)},setComscoreUrlC5Param:function(e,t){return e+="ad"==t?"&c5=09":"&c5=02"},load:function(e){"undefined"!=typeof this.comscore&&(this.comscore.stop(),delete this.comscore),this.videoViews+=1,this.isFirstVideo=!1,this.adSetupComplete=!1,this.auditor.record("load"),this.player.trigger("waiting"),this.player.trigger("cne:error-overlay:hide");var t=this.config.environment.video_load_path;t+="?videoId="+e,t+="&playerId="+this.config.player.id,t+="&target="+this.config.divs.target,null!=this.config.playlist.id&&(t+="&playlistId="+this.config.playlist.id),this.config.player.enable_in_video_subscribe&&(vjs.USER_AGENT.match(/MSIE (8|9)/)||this.annotationLoader.destroyAnnotations()),_cne.$.ajax({url:t,dataType:"jsonp"})},loadCallback:function(e){var t=e.video,n=e.environment;if(this.trigger("cne:video:change",t),this.isPlayingAd()&&this.currentAd.isVpaid()&&this.player.tech.vpaid)try{this.player.tech.vpaid.stopAd()}catch(i){}this.currentSourceIndex=0,this.config.video=t,this.config.environment=n,this.player.trigger("cne:overlay-ad:hide"),this.adFetcher.setVideo(this.config.video),this.player.options().html5vpaid.environment.LR_TITLE=encodeURIComponent(t.title),this.player.options().html5vpaid.environment.LR_VIDEO_ID=t.id,this.comscore=this.buildComscoreTag(),this.player.trigger("waiting"),this.incrementCount(),this.adFetcher.fetchAds()},play:function(){this.player.play()},currentTime:function(e){return arguments.length<1?Math.floor(1e3*this.player.currentTime()):(this.player.currentTime(e/1e3+1),void 0)},isBuffering:function(){var e=this.player.tech;if("object"!=typeof e)return!0;var t=e.el_;if("object"!=typeof t)return!0;var n=t.networkState;return"number"!=typeof n?!0:2===n},pause:function(){this.player.pause()},getCuePoints:function(){return this.config.video.cue_points},currentVideo:function(){return this.config.video},playbackMetric:function(e){this.analytics.send("beacon",{metricName:e})},isFullscreen:function(){return this.player.isFullscreen()},isPlayingAd:function(){return null!==this.currentAd},isPlaying:function(){return!this.player.paused()},hasAdInSlot:function(e){var t=this.adSlots[e];return null===t||"undefined"==typeof t?!1:t.ads.length>0},feedbackInfo:function(){var e={began_playback:this.beganPlayback,is_playing:this.isPlaying(),is_playing_ad:this.isPlayingAd(),player_is_ready:this.playerReady,current_time:this.currentTime(),is_muted:this.player.muted()};return null!==this.currentAd&&(e.ad_id=this.currentAd.adId,e.creative_id=this.currentAd.creative.creativeId,e.is_vpaid=this.currentAd.isVpaid()),e},forcePlay:function(){var e=this;setTimeout(function(){e.isPlaying()||e.load(e.config.video.id)},250)},buildComscoreTag:function(){return new ns_.StreamingTag({customerC2:this.config.video.comscore_config.c2+""})},isMobile:function(){return navigator.userAgent.match(/android|ipad|iphone|iemobile/i)},isPhone:function(){return navigator.userAgent.match(/android|iphone|iemobile/i)},isIos:function(){return navigator.userAgent.match(/ipad|iphone/i)},isIphone:function(){return/iPhone/.test(navigator.userAgent)},isAndroid:function(){return navigator.userAgent.match(/android/i)},isChrome:function(){return navigator.userAgent.match(/Chrome/)},isSafari:function(){return this.isChrome()?!1:navigator.userAgent.match(/Macintosh.*Safari/)},on:function(e,t){_cne.$(this).on(e,function(e,n){t(n)})},trigger:function(e,t){_cne.$(this).trigger(e,t)}})}(),function(){_cne.playlist_bar={currentPlaylistId:null,currentVideoId:null,scrollCount:null,scrollPx:null,load:function(e,t){var n;if("true"===_cne.has_rail)return this.scrollPx=0,this.currentVideoId=e,this.currentPlaylistId=t,n=_cne.players.myplayer.config.environment.base_url,n+="/playlist_bar.js?video_id="+this.currentVideoId,null!==this.currentPlaylistId&&(n+="&playlist_id="+this.currentPlaylistId),_cne.$(window).trigger("cne:rail_started"),_cne.$.ajax({url:n,dataType:"script"})},fixArrows:function(){var e;return e=_cne.$(".cne-playlist-video-list").width()-_cne.$(".cne-playlist-body__videos").width(),_cne.$(".cne-playlist-body__arrow").removeClass("disabled"),this.scrollPx<=0&&_cne.$("#left-arrow").addClass("disabled"),this.scrollPx>=e?_cne.$("#right-arrow").addClass("disabled"):void 0},autoScroll:function(e){var t,n,i;return n=this.getScrollDistance(),i=n+_cne.$(".cne-playlist-body__videos").width(),t=_cne.$(".cne-playlist-video").outerWidth(),n>e*t?this.scrollPx=e*t:(e+1)*t>i&&(this.scrollPx=e*t),this.setScrollBarPosition()},scrollBar:function(e){var t;return t=e*this.scrollCount*_cne.$(".cne-playlist-video").outerWidth(),this.scrollPx+=t,this.setScrollBarPosition()},getScrollDistance:function(){var e;return _cne.$(".cne-playlist-body__videos").hasClass("cne-playlist-mobile")?_cne.$(".cne-playlist-body__videos").scrollLeft():(e=_cne.$(".cne-playlist-video-list").css("left"),-parseInt(e))},setScrollDistance:function(){var e;return _cne.$(".cne-playlist-body__videos").hasClass("cne-playlist-mobile")?_cne.$(".cne-playlist-body__videos").animate({scrollLeft:this.scrollPx},750):(e=-this.scrollPx+"px",_cne.$(".cne-playlist-video-list").css("left",e))},setScrollBarPosition:function(){return this.fixScrollPixel(),this.setScrollDistance(),this.fixArrows()},leftScroll:function(){return _cne.$("#left-arrow").hasClass("disabled")?void 0:this.scrollBar(-1)},rightScroll:function(){return _cne.$("#right-arrow").hasClass("disabled")?void 0:this.scrollBar(1)},refresh:function(){var e,t;return this.video_selector="#myrail .cne-playlist-video",_cne.$(this.video_selector+".cne-selected").removeClass("cne-selected"),t=_cne.$(this.video_selector+" a[data-video-id='"+this.currentVideoId+"']"),t.parents(this.video_selector).addClass("cne-selected"),e=this.getSelectedIndex(),_cne.$("#cne-current-playlist-index").text(1+e),this.autoScroll(e)},getSelectedIndex:function(){var e;return this.video_selector="#myrail .cne-playlist-video",e=_cne.$(this.video_selector+".cne-selected a").data("rail-index")},fixScrollPixel:function(){var e;return e=_cne.$(".cne-playlist-video-list").width()-_cne.$(".cne-playlist-body__videos").width(),this.scrollPx<0&&(this.scrollPx=0),this.scrollPx>e&&(this.scrollPx=e),this.fixBarWidth()},fixBarWidth:function(){var e,t,n,i,r,s;return s=_cne.$(".cne-playlist-body__videos"),t=_cne.$(".cne-playlist-video-list"),t.width()>s.width()?(t.css("width","100%"),t.css("margin-left","0"),t.css("margin-right","0"),void 0):(n=_cne.$(".cne-playlist-video__image").outerWidth(),e=_cne.$(".cne-playlist-video ").outerWidth()-_cne.$(".cne-playlist-video ").width(),r=n+e,r*=_cne.playlist_bar_videos.length,i=s.width()-r,this.scrollPx=0,t.css("width",r),t.css("margin-left",i/2),t.css("margin-right",i/2))},updateVideoId:function(){var e,t;return t=_cne.players.myplayer.config.video.id,this.video_selector="#myrail .cne-playlist-video",e=_cne.$(this.video_selector+" a[data-video-id='"+t+"']"),this.currentVideoId=t},updateScrollCount:function(){var e;return e=_cne.$(".cne-playlist-body__videos").width()/_cne.$(".cne-playlist-video").outerWidth(),this.scrollCount=Math.floor(e)}}}.call(this),function(){_cne.ns("player"),_cne.player.SettingsProvider=_cne.util.Class.extend({init:function(){this.keyPrefix="cneplayer"},set:function(e,t){_cne.util.CookieHelper.create(this.keyPrefix+e,t,100)},get:function(e){return _cne.util.CookieHelper.read(this.keyPrefix+e)}})}(),function(){_cne.ns("player"),_cne.player.VastParser=function(){function e(e){this.player=e}return e.prototype.fetchAds=function(e,t){var n,i,r,s,o;return n=this,this.timedOut=!1,this.player.sendAnalyticsEvent("VAST","Call Made",{url:e}),/IE [89]/.test(navigator.userAgent)?(o=(new Date).getTime(),(r=function(){var i,s;return"undefined"!=typeof SWFHttpRequest&&null!==SWFHttpRequest&&null!=SWFHttpRequest.engine?(s=setTimeout(t,2e3),i=new SWFHttpRequest,i.onreadystatechange=function(){return 4===this.readyState?(clearTimeout(s),200===this.status?t(n.parseVastXml(_cne.$.parseXML(this.responseText))):t()):void 0},i.open("GET",e),i.send()):(new Date).getTime()-o<2e3?setTimeout(r,100):void 0})()):"withCredentials"in new XMLHttpRequest?(i=0,(s=function(n){return function(r){return _cne.$.ajax({url:e,dataType:"xml",context:n,timeout:2e3,error:function(n,r){return"timeout"===r?(this.timedOut=!0,this.player.sendAnalyticsEvent("VAST","Timed Out",{url:e}),t()):1>i?(i+=1,s(!1)):(this.player.sendAnalyticsEvent("VAST","Fetch Error",{url:e}),t())},success:function(e){var n;if(!this.timedOut)return n=this.parseVastXml(e),t(n)},xhrFields:{withCredentials:r}})}}(this))(!0)):t()},e.prototype.parseVastXml=function(e){var t,n,i,r,s,o,a,c,l,u,d,p,f,h,v,g,m,y,_,b,w,A,C;for(a=new _cne.player.Ad({eventCallbacks:{},creative:{assets:[]},companions:[]}),o=_cne.$(e),t=o.find("Ad").first(),i=t.find("InLine").first(),d=!0,0===i.length&&(i=t.find("Wrapper").first(),d=!1),a.isInLine=d,a.eventCallbacks.defaultImpression=[],i.find("Impression").each(function(){return a.eventCallbacks.defaultImpression.push(_cne.$(this).text())}),n=i.find("Creative").first().find("Linear").first(),d||(a.vastAdTagUri=t.find("VASTAdTagURI").first().text()),d&&(r=n.find("MediaFile"),r.each(function(){var e,t;return e=_cne.$(this),t=e.attr("type"),"video/x-mp4"===t&&(t="video/mp4"),a.creative.assets.push({type:t,src:_cne.$.trim(e.text())})})),a.creative.parameters={},A=n.find("AdParameters").text(),a.creative.parameters_raw=A,C=A.split("&"),u=0,v=C.length;v>u;u++)w=C[u],w.length>0&&(a.creative.parameters[w.split("=")[0]]=decodeURIComponent(w.split("=")[1]));if(s=n.find("Tracking"),s.each(function(){var e;
return e=_cne.$(this),"start"===e.attr("event")&&e.attr("event","defaultImpression"),"midpoint"===e.attr("event")&&e.attr("event","midPoint"),a.eventCallbacks[e.attr("event")]||(a.eventCallbacks[e.attr("event")]=[]),a.eventCallbacks[e.attr("event")].push(e.text())}),a.eventCallbacks.clickTracking=[n.find("ClickTracking").first().text()],a.clickThrough=n.find("ClickThrough").first().text(),l=[],d){for(i.find("Companion[width=300][height=60]").each(function(){var e,t,n,i;if(e=_cne.$(this),e.find("HTMLResource").length>0)t="DISPLAY",n=e.find("HTMLResource").first().text();else if(e.find("StaticResource").length>0)t="application/x-shockwave-flash"===e.find("StaticResource").first().attr("creativeType")?"FLASH_URL":"IMAGE_URL",n=e.find("StaticResource").first().text();else{if(!(e.find("IFrameResource").length>0))return;t="IFRAME",n=e.find("IFrameResource").first().text()}return i=[e.find("Tracking[event=creativeView]").first().text()],""===i[0]&&(i=[]),l.push({type:t,width:e.attr("width"),height:e.attr("height"),creative:{assets:[{content:n}]},eventCallbacks:{defaultImpression:i},clickThrough:e.find("CompanionClickThrough").first().text()})}),p=0,g=l.length;g>p;p++)c=l[p],"IMAGE_URL"===c.type&&(a.companions=[c]);if(0===a.companions.length)for(f=0,m=l.length;m>f;f++)c=l[f],"FLASH_URL"===c.type&&(a.companions=[c]);if(0===a.companions.length)for(h=0,y=l.length;y>h;h++)c=l[h],"IFRAME"===c.type&&(a.companions=[c]);if(0===a.companions.length)for(b=0,_=l.length;_>b;b++)c=l[b],"DISPLAY"===c.type&&(a.companions=[c])}return a},e}()}.call(this),function(){vjs.BrandedBug=vjs.Component.extend({init:function(e,t){return vjs.Component.call(this,e,t),e.on("bugchanged",vjs.bind(this,this.updateBug)),this.on("click",this.onClick),e.on("controlsvisible",vjs.bind(this,this.pushUp)),e.on("controlshidden",vjs.bind(this,this.pushDown))},createEl:function(){return vjs.createEl("img",{className:"cne-branded-bug cne-hidden"})},updateBug:function(){var e;return e=this.player_.bug().bugUrl,this.el_.setAttribute("src",e),this.removeClass("cne-hidden")},onClick:function(){var e;return e=this.player_.bug().linkUrl,window.open(e,"_blank")},pushDown:function(){return this.addClass("cne-no-controls")},pushUp:function(){return this.removeClass("cne-no-controls")}}),vjs.Player.prototype.bug=function(e,t){return e&&(this.cache_.bug={bugUrl:e,linkUrl:t},this.trigger("bugchanged")),this.cache_.bug},vjs.Player.prototype.hideBug=function(){return this.brandedBug.addClass("cne-hidden")}}.call(this),function(e){var t=e.vjs;t.CneAnnotations=t.Component.extend({init:function(){t.Component.apply(this,arguments)},createEl:function(){var e=["cne-video-annotations","js-annotation-container"];return t.createEl("div",{className:e.join(" ")})}})}(window),function(){vjs.CneControlBackground=vjs.Button.extend()}(),vjs.CneControlBackground.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"cne-control-bar-background"});return e},function(){vjs.ErrorOverlay=vjs.Component.extend({init:function(e,t){return vjs.Component.call(this,e,t),e.on("cne:error-overlay:show",vjs.bind(this,this.show)),e.on("cne:error-overlay:hide",vjs.bind(this,this.hide))},show:function(){return vjs.Component.prototype.show.call(this),this.player_.exitFullscreen(),this.removeClass("cne-hidden"),$(this.el_).css("display","table")},hide:function(){return vjs.Component.prototype.hide.call(this),this.addClass("cne-hidden")},createEl:function(){var e;return e=vjs.createEl("div",{className:"cne-error-overlay cne-hidden"}),e.innerHTML="<div class='cne-error-text'> <div class='cne-error-title'> WHOOPS! We're sorry, something went wrong. </div> <p class='cne-error-message'>Please refresh your browser to try again.</p> </div>",e}})}.call(this),function(){vjs.CneFullscreen=vjs.Button.extend({buttonText:"Fullscreen",buildCSSClass:function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},onClick:function(){this.trigger("cne:fullscreen")}})}(),function(){vjs.CneLoadingSpinner=vjs.LoadingSpinner.extend({init:function(){return vjs.LoadingSpinner.apply(this,arguments),this.bgPosition=0},createEl:function(){var e;return e=vjs.Component.prototype.createEl.call(this,"div",{className:"cne-loading-spinner"}),this.$el=_cne.$(e),e},show:function(){return vjs.Component.prototype.show.call(this),null==this.animationHandle?this.animationHandle=setInterval(vjs.bind(this,this._spin),80):void 0},hide:function(){return vjs.Component.prototype.hide.call(this),null!=this.animationHandle&&clearInterval(this.animationHandle),this.animationHandle=null},_spin:function(){return this.bgPosition-=32,this.bgPosition<-352&&(this.bgPosition=0),this.$el.css("background-position-x",this.bgPosition+"px")}})}.call(this),vjs.CneNextMenuButton=vjs.MenuButton.extend({buttonText:"Next Video",buildCSSClass:function(){return"cne-next-control "+vjs.Button.prototype.buildCSSClass.call(this)},onClick:function(){this.player_.trigger("cne:next")},createItems:function(){return thumb=new vjs.CneNextVideoThumb(this.player_,{}),[thumb]}}),vjs.CneNextVideoThumb=vjs.Button.extend({onClick:function(){this.player_.trigger("cne:next")}}),vjs.CneNextVideoThumb.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"cne-next-video-thumb"});return this.next_video_image=vjs.createEl("img",{className:"cne-next-video-image"}),this.next_video_title=vjs.createEl("div",{className:"cne-next-video-title"}),e.appendChild(this.next_video_image),e.appendChild(this.next_video_title),e},vjs.CneNextMenuButton.prototype.setNextVideo=function(e){_cne.$(this.el_).find(".cne-next-video-image").attr("src",e.thumb_path),_cne.$(this.el_).find(".cne-next-video-title").text(e.title)},function(){vjs.Player.prototype.title=function(e){return e&&(this.cache_.title=e,this.trigger("titlechanged")),this.cache_.title},vjs.Player.prototype.setSourceList=function(e){return this.cache_.sourceList=e}}.call(this),function(){vjs.CneSceneButton=vjs.Button.extend({buttonText:"The Scene",buildCSSClass:function(){return"js-scene-button cne-scene-control cne-player--scene "+vjs.Button.prototype.buildCSSClass.call(this)},onClick:function(){this.trigger("cne:scenebutton")}})}(),function(){videojs.CneSeekBar=videojs.SeekBar.extend({})}(),videojs.CneSeekBar.prototype.onMouseDown=function(e){_cne.$(this.player_.el_).hasClass("cne-videoad")||videojs.SeekBar.prototype.onMouseDown.call(this,e)},function(){videojs.FlashVpaid=videojs.MediaTechController.extend({features:{volumeControl:!0,fullscreenResize:!1,progressEvents:!1,timeupdateEvents:!1},init:function(e,t,n){videojs.MediaTechController.call(this,e,t,n),this._duration=0,this.adLoaded=!1,this.playButtonClicked=!1,this.swfUrl=t.swfUrl,t.source&&this.src(t.source.src),this.triggerReady()},vpaidCallback:function(e,t){this["on"+e](t)},dispose:function(){videojs.MediaTechController.prototype.dispose.call(this);var e=_cne.$("#cne-vpaid-swf-"+this.player_.el_.id);e.length&&e.css("visibility","hidden")},src:function(e){this.adLoaded=!1,this.player_.cache_.src=e;var t={adManagerUrl:encodeURIComponent(e),callback:this.options_.vjsPlayer+".tech.vpaidCallback",debug:"true",creativeParams:encodeURIComponent(this.player_.creativeParams)},n={bgcolor:"#000000",allowScriptAccess:"always",allowFullScreen:"true",wmode:"transparent"},i="cne-vpaid-swf-"+this.player_.el_.id,r=_cne.$("#"+i);0!==r.length&&(r.removeAttr("id data type height width").empty().css({position:"absolute",height:0,width:0}),this.player_.options_.autoplay=!0);var s=_cne.$('<div id="cne-vpaid-swf-'+this.player_.el_.id+'"></div>');s.appendTo(this.player_.el_),swfobject.embedSWF(this.swfUrl,i,"100%","100%",10,!1,t,n),this.vpaid=_cne.$(this.player_.el_).children("#"+i)[0],this.vpaid&&_cne.$(this.vpaid).css({height:"100%",width:"100%"}),this.resetTimeCounter(),videojs.IS_FIREFOX&&this.ready(function(){videojs.on(this.vpaid,"mousemove",videojs.bind(this,function(){this.player().trigger({type:"mousemove",bubbles:!1})}))})},currentTime:function(){return this.adLoaded&&this.vpaid?this.duration()-this.remainingTime():0},setCurrentTime:function(){},duration:function(){return this._duration},remainingTime:function(){if(!this.adLoaded||!this.vpaid)return 0;if("function"!=typeof this.vpaid.adRemainingTime)return 0;var e=this.vpaid.adRemainingTime();return"undefined"==typeof _cne.players.myplayer||_cne.players.myplayer.clickedPowerSaver||this.checkForStalledAd(e),e},resetTimeCounter:function(){this.vpaid.lastTime=-1,this.vpaid.sameCount=0},checkForStalledAd:function(e){e==this.vpaid.lastTime?(this.vpaid.sameCount+=1,this.vpaid.sameCount>100&&(_cne.players.myplayer.clickedPowerSaver=!0,console.warn("Stalled Ad Skipped"),this.onAdError("Skip Ad: Safari Power Saver Disabled"))):this.vpaid.sameCount>0&&(this.vpaid.sameCount=0),this.vpaid.lastTime=e},buffered:function(){return vjs.createTimeRange(0,this.duration())},muted:function(){return 0==this.volume()},setMuted:function(e){this.vpaid&&(e?this.setVolume(0):this.setVolume(this.player_.cache_.volume))},volume:function(){return this.adLoaded&&this.vpaid?this.vpaid.adVolume():1},setVolume:function(e){this.adLoaded&&this.vpaid&&(this.vpaid.setAdVolume(e),this.player_.trigger("volumechange"))},play:function(){return this.adLoaded&&this.vpaid.startAd?(this.beganPlayback?this.vpaid.resumeAd():this.vpaid.startAd(),this.isPlaying||(this.player_.trigger("play"),this.isPlaying=!0),void 0):(this.playButtonClicked=!0,void 0)},paused:function(){return!this.isPlaying},pause:function(){this.adLoaded&&this.vpaid.pauseAd()},currentSrc:function(){return this.player_.cache_.src},onAdLoaded:function(){this.adLoaded=!0,this.beganPlayback=!1,(this.player_.options_.autoplay||this.playButtonClicked)&&this.play(),this.player_.duration(this.remainingTime()),this.player_.trigger("cne:vpaid:load")},onAdStarted:function(){var e=this,t=function(){var n=e.remainingTime();n>0?(e._duration=n,e.player_.cache_.duration=n):setTimeout(t,250)};t(),this.player_.trigger("play"),this.player_.trigger("playing"),this.player_.trigger("cne:vpaid:start"),this.isPlaying=!0,this.beganPlayback=!0},onAdPaused:function(){this.player_.trigger("pause"),this.isPlaying=!1},onAdStopped:function(){this.player_.trigger("ended"),this.player_.trigger("cne:vpaid:end")},onAdError:function(e){e.match(/No ads available/)&&this.player_.trigger("cne:vpaid:no-ads"),this.player_.trigger("cne:vpaid:error")},onAdClickThru:function(){this.player_.trigger("cne:vpaid:click")}}),videojs.FlashVpaid.isSupported=function(){return videojs.Flash.isSupported()},videojs.FlashVpaid.canPlaySource=function(e){return"vpaid/flash"===e.type}}(),function(){videojs.Html5vpaid=videojs.Html5.extend({init:function(e,t,n){videojs.Html5.call(this,e,t,n),this.environmentVars=t.environment||{},this.placeholderVideoUrl=t.placeholderVideoUrl,this.isMobile=t.isMobile||!1,this.isVpaidPaused=!0,this.ad=null},startVpaid:function(e){var t=this;this.ad=e;var n=e.creative.assets[0].src;n=_cne.util.convertUrlToSsl(n),this.vpaidUrl=n,this.player_.cache_.src=this.vpaidUrl,this.isPlayingVpaid=!0,this.adLoaded=!1,this.isMobile&&(this.el_.src=this.placeholderVideoUrl),this.iframe=document.createElement("iframe"),this.iframe.style.display="none",this.iframe.onload=function(){t.onFrameLoad(t.vpaidUrl)},"function"!=typeof this.iframe.onload&&(this.iframe.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&t.onFrameLoad(t.vpaidUrl)}),document.body.appendChild(this.iframe)},onFrameLoad:function(e){var t=this;try{iframeWindow=this.iframe.contentWindow,iframeDocument=iframeWindow.document}catch(n){iframeDocument=this.iframe.document,iframeWindow=iframeDocument.parentWindow}this.iframeDocument=iframeDocument,this.iframeWindow=iframeWindow,vpaidLoader=this.iframeDocument.createElement("script"),vpaidLoader.src=e,vpaidLoader.readyState?vpaidLoader.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&t.onApiLoad()}:vpaidLoader.onload=function(){t.onApiLoad()},this.iframeDocument.body.appendChild(vpaidLoader)},onApiLoad:function(){"function"==typeof this.iframeWindow.getVPAIDAd&&(this.vpaid=this.iframeWindow.getVPAIDAd(),this.vpaid.handshakeVersion("2.0"),this.onVpaidLoad())},onVpaidLoad:function(){var e=this,t=this.player().el(),n=this.el();environmentVars={slot:t,videoSlot:n,videoSlotCanAutoPlay:!0},environmentVars=videojs.obj.merge(environmentVars,this.environmentVars),this.vpaid.subscribe(function(){e.onVpaidAdLoaded()},"AdLoaded"),this.vpaid.subscribe(function(){e.onVpaidAdVideoStart()},"AdVideoStart"),this.vpaid.subscribe(function(){e.onVpaidAdStopped()},"AdStopped"),this.vpaid.subscribe(function(){e.onVpaidAdClickThru()},"AdClickThru"),this.vpaid.subscribe(function(){e.onVpaidAdError()},"AdError"),this.vpaid.subscribe(function(t){t.match(/No ads available/)&&e.player_.trigger("cne:vpaid:no-ads")},"AdLog"),this.vpaid.initAd(t.offsetWidth,t.offsetHeight,"normal",600,this.ad.creative.parameters,environmentVars)},onVpaidAdLoaded:function(){var e=this;this.adLoaded=!0,this.beganPlayback=!1,(this.player().autoplay()||this.userInitiatedPlayback)&&(this.vpaid.startAd(),this.player().trigger("play"),this.beganPlayback=!0),this.isMobile&&this.player().one("play",function(){e.vpaid.startAd()}),this.player().trigger("cne:vpaid:load")},onVpaidAdVideoStart:function(){this.player().duration(this.duration()),this.player().trigger("cne:vpaid:start"),this.player().trigger("playing"),this.beganPlayback=!0,this.isVpaidPaused=!1},onVpaidAdStopped:function(){_cne.$("#sauron_stage").remove(),this.player_.trigger("cne:vpaid:end"),this.isPlayingVpaid=!1},onVpaidAdError:function(){this.player().trigger("cne:vpaid:error"),this.isPlayingVpaid=!1},onVpaidAdClickThru:function(){this.player().trigger("cne:vpaid:click")},src:function(e){this.isPlayingVpaid=!1,videojs.Html5.prototype.src.call(this,e)},enterFullScreen:function(){var e=_cne.$("video")[0];"webkitDisplayingFullscreen"in e&&this.one("webkitbeginfullscreen",vjs.bind(this,function(){this.player_.isFullscreen(!0),this.one("webkitendfullscreen",vjs.bind(this,function(){this.player_.isFullscreen(!1),this.player_.trigger("fullscreenchange")})),this.player_.trigger("fullscreenchange")})),videojs.Html5.prototype.enterFullScreen.call(this)},play:function(){if(this.isPlayingVpaid){if(this.userInitiatedPlayback=!0,!this.adLoaded)return;this.beganPlayback?this.vpaid.resumeAd():(videojs.Html5.prototype.play.call(this),this.vpaid.startAd()),this.isVpaidPaused&&(this.isVpaidPaused=!1,this.player().trigger("play"))}else videojs.Html5.prototype.play.call(this)},pause:function(){this.isPlayingVpaid?(this.vpaid.pauseAd(),this.isVpaidPaused=!0,this.player().trigger("pause")):videojs.Html5.prototype.pause.call(this)},paused:function(){return this.isPlayingVpaid?this.isVpaidPaused:videojs.Html5.prototype.paused.call(this)},onClick:function(e){this.isPlayingVpaid||videojs.Html5.prototype.onClick.call(this,e)},volume:function(){return this.isPlayingVpaid?this.adLoaded?this.vpaid.getAdVolume():0:videojs.Html5.prototype.volume.call(this)},setVolume:function(e){if(this.isPlayingVpaid){if(!this.adLoaded)return;this.vpaid.setAdVolume(e),this.player().trigger("volumechange")}else videojs.Html5.prototype.setVolume.call(this,e)},muted:function(){return this.isPlayingVpaid?this.adLoaded?0===this.vpaid.getAdVolume():!1:videojs.Html5.prototype.muted.call(this)},setMuted:function(e){if(this.isPlayingVpaid){if(!this.adLoaded)return;e?(this.cachedVolume=this.vpaid.getAdVolume(),this.vpaid.setAdVolume(0)):this.vpaid.setAdVolume(this.cachedVolume)}videojs.Html5.prototype.setMuted.call(this,e)},duration:function(){return this.isPlayingVpaid&&this.adLoaded?this.vpaid.getAdDuration():videojs.Html5.prototype.duration.call(this)},remainingTime:function(){return this.vpaid.getAdRemainingTime()<0?this.duration():this.isPlayingVpaid&&this.adLoaded?this.vpaid.getAdRemainingTime():videojs.Html5.prototype.remainingTime.call(this)},currentTime:function(){return this.isPlayingVpaid&&this.adLoaded?this.duration()-this.remainingTime():videojs.Html5.prototype.currentTime.call(this)}}),videojs.Html5vpaid.isSupported=function(){return!0},videojs.Html5vpaid.canPlaySource=function(e){return"vpaid"===e.type?!0:videojs.Html5.canPlaySource(e)}}(),function(){vjs.InfoBar=vjs.Component.extend({init:function(e,t){return vjs.Component.call(this,e,t),e.one("play",vjs.bind(this,function(){return this.player_.on("controlsvisible",vjs.bind(this,this.show)),this.player_.on("controlshidden",vjs.bind(this,this.hide))}))},options_:{loadEvent:"play",children:{infoButton:{},titleLabel:{}}},createEl:function(){return vjs.createEl("div",{className:"vjs-info-bar"})},lockShowing:function(){return this.el_.style.opacity="1"}}),vjs.TitleLabel=vjs.Component.extend({init:function(e,t){return vjs.Component.call(this,e,t),e.on("titlechanged",vjs.bind(this,this.updateTitle))},createEl:function(){return vjs.createEl("div",{className:"cne-video-title cne-hidden"})},updateTitle:function(){return this.el_.innerHTML=this.player_.title(),this.removeClass("cne-hidden")}}),vjs.InfoButton=vjs.Button.extend({buildCSSClass:function(){return"cne-info-button "+vjs.Button.prototype.buildCSSClass.call(this)},onClick:function(){return this.player_.trigger("cne:info-panel:show")}})}.call(this),function(){vjs.OverlayAd=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),e.on("controlsvisible",vjs.bind(this,this.pushUp)),e.on("controlshidden",vjs.bind(this,this.pushDown)),e.on("cne:overlay-ad:show",vjs.bind(this,this.showOverlay)),e.on("cne:overlay-ad:hide",vjs.bind(this,this.hideOverlay)),e.on("cne:overlay-ad:show",vjs.bind(this,this.updateOverlay))},options_:{children:{overlayAdCloser:{},overlayAdImage:{},overlayAdIframe:{}}},createEl:function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"cne-overlay-ad cne-hidden"})},pushDown:function(){this.addClass("cne-no-controls")},pushUp:function(){this.removeClass("cne-no-controls")},showOverlay:function(){this.removeClass("cne-hidden")},hideOverlay:function(){this.addClass("cne-hidden")},updateOverlay:function(){var e=this.player_.overlay(),t=e.creative.assets[0];if("text/html"==t.type)this.overlayAdImage.hide(),this.overlayAdIframe.updateContent(t.content);else{this.overlayAdIframe.hide();var n=e.creative.assets[0].src;n=_cne.util.convertUrlToSsl(n),this.overlayAdImage.el_.setAttribute("src",n)}}}),vjs.OverlayAdImage=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.on("click",this.onClick)},createEl:function(){return vjs.createEl("img",{className:"cne-ad-image"})},onClick:function(){var e=this.player_.overlay();window.open(e.clickThrough,"_blank")}}),vjs.OverlayAdIframe=vjs.Component.extend({createEl:function(){return vjs.createEl("iframe",{src:"about:blank",className:"cne-overlay--iframe"})},updateContent:function(e){this.el_.contentWindow.document.open("text/html","replace"),this.el_.contentWindow.document.write(e),this.el_.contentWindow.document.close()}}),vjs.OverlayAdCloser=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.on("click",this.onClick)},createEl:function(){return vjs.createEl("div",{className:"cne-close",innerHTML:'<div class="cne-close-button"></div>'})},onClick:function(){this.player_.trigger("cne:overlay-ad:hide")}}),vjs.plugin("overlayAds",function(){this.overlay=function(e){return e instanceof Object&&(this.cache_.overlayAd=e,this.paused()?this.one("play",this.renderOverlay):this.renderOverlay()),this.cache_.overlayAd},this.renderOverlay=function(){var e=this.overlay();this.trigger("cne:overlay-ad:show");var t=this,n=e.duration||15;setTimeout(function(){t.trigger("cne:overlay-ad:hide")},1e3*n)}})}(),function(){vjs.OverlayWindowControl=vjs.Component.extend({init:function(e,t){return vjs.Component.call(this,e,t),e.on("cne:overlay-window:show",vjs.bind(this,this.showOverlayWindow))},options_:{children:{overlayWindowBackdrop:{}}},createEl:function(){return vjs.createEl("div",{className:"cne-overlay-window cne-hidden",innerHTML:'<div class="cne-content"></div>'})},showOverlayWindow:function(){return this.removeClass("cne-hidden")}}),vjs.OverlayWindowBackdrop=vjs.Component.extend({createEl:function(){return vjs.createEl("div",{className:"cne-backdrop"})}}),vjs.Player.prototype.overlayWindow=function(e){var t;return e instanceof Object&&(this.cache_.overlayWindow=e,t=!this.paused(),t&&(this.pause(),this.one("closeoverlaywindow",this.play)),this.trigger("cne:overlay-window:show")),this.cache_.overlayWindow}}.call(this),function(){vjs.QualityToggle=vjs.Button.extend({buildCSSClass:function(){var e;return e=this.isHighQuality()?"cne-hd-on ":"","cne-quality-control "+e+vjs.Button.prototype.buildCSSClass.call(this)},onClick:function(){return this.player_.quality(this.isHighQuality()?"LOW":"HIGH"),this.isHighQuality()?this.addClass("cne-hd-on"):this.removeClass("cne-hd-on"),this.player_.trigger("cne:qualitychange"),this.player_.trigger("cne:error-overlay:hide")},isHighQuality:function(){return"HIGH"===this.player_.quality()}}),vjs.Player.prototype.quality=function(e){var t,n,i,r,s;if(void 0!==e&&e!==this.quality()){for(this.cache_.quality=e,this.cache_.qualityReseekTime=this.currentTime(),this.cache_.qualityWasPlaying=!this.paused(),r=this.cache_.sourceList,s=[],t=0,n=r.length;n>t;t++)i=r[t],i.quality.toLowerCase()===this.quality().toLowerCase()&&s.push(i);this.pause(),this.src(s),this.one("loadedmetadata",function(){return this.cache_.qualityWasPlaying&&this.play(),this.currentTime(this.cache_.qualityReseekTime)})}return this.cache_.quality||this.options_.quality||"LOW"}}.call(this),function(e){var t=function(t){var n,i,r,s={sendUnsentQuartilesOnComplete:!0};t=e.obj.merge(s,t);var o=this,a=function(){n=0,i=[0,0,0],r=[!1,!1,!1]};a();var c=function(){var e=o.duration();if(1/0==e&&(e=o.player_.duration()),0/0!==e&&e>0){var t=e/4;i=[t,2*t,3*t]}},l=function(e){switch(r[e]=!0,e){case 0:o.trigger("cne:quartile-1");break;case 1:o.trigger("cne:quartile-2");break;case 2:o.trigger("cne:quartile-3")}};o.on("loadeddata",function(){a()}),o.on("timeupdate",function(){var e=this.duration();if(e&&0/0!=e&&!this.scrubbing){if(0==i[0]||1/0==i[0]||1/0==e)return c(),void 0;for(var t=0;3>t;t++)!r[t]&&n<=i[t]&&this.currentTime()>i[t]&&l(t);n=this.currentTime()}}),o.on("ended",function(){if(t.sendUnsentQuartilesOnComplete)for(var e=0;3>e;e++)r[e]||l(e)})};e.plugin("quartileTracking",t)}(window.videojs),function(){vjs.ReplayControl=vjs.Button.extend({buttonText:"Replay",buildCSSClass:function(){return"cne-replay-control "+vjs.Button.prototype.buildCSSClass.call(this)},onClick:function(){return this.player_.trigger("cne:replay")}})}.call(this),function(){vjs.ScrubberThumb=vjs.Component.extend({init:function(e,t){var n,i;return n=vjs.IS_IOS||vjs.IS_ANDROID||vjs.USER_AGENT.match(/iemobile/i),i=vjs.USER_AGENT.match(/MSIE 8/),this.disabled=n||i,vjs.Component.call(this,e,t)},createEl:function(){var e,t;return t=this,this.disabled?void 0:(e=vjs.Component.prototype.createEl.call(this,"div",{className:"cne-hidden cne-scrubber-thumb",innerHTML:'<video></video><div class="time-remaining"></div>'}),this.videoEl=e.getElementsByTagName("video")[0],this.videoEl.addEventListener("error",function(){return t.disabled=!0,t.hide()}),e)},updatePosition:function(e,t){var n,i,r,s;if(!this.disabled&&!isNaN(this.videoEl.duration))return n=vjs.findPosition(t).left,this.el_.style.top=0-this.el_.clientHeight+"px",this.el_.style.left=e-n-this.el_.clientWidth/2+"px",r=(e-n)/t.clientWidth,i=r*this.videoEl.duration,this.videoEl.currentTime=Math.min(i+1.5,this.videoEl.duration),s=this.el_.getElementsByClassName("time-remaining")[0],s.innerHTML=vjs.formatTime(i)},setVideoSrc:function(e){var t;return t=this.el_.getElementsByTagName("video")[0],t.setAttribute("src",e)},show:function(){return this.disabled?void 0:this.removeClass("cne-hidden")},hide:function(){return this.addClass("cne-hidden")}}),function(e){var t,n;return n=function(){var e,n,i;return e=this,i=e.controlBar.progressControl.cneSeekBar,n=e.controlBar.progressControl.scrubberThumb,null==n||n.disabled||t(e,i,n),e.setScrubberThumbSrc=function(e){return null==n||n.disabled?void 0:n.setVideoSrc(e)}},t=function(e,t,n){return t.on("mouseover",function(i){return e.scrubbing?void 0:(n.show(),n.updatePosition(i.pageX,t.el_))}),t.on("mouseout",function(){return n.hide()}),t.on("mousedown",function(){return n.hide()}),t.on("mouseup",function(e){return n.show(),n.updatePosition(e.pageX,t.el_)}),t.on("mousemove",function(i){return e.scrubbing?void 0:n.updatePosition(i.pageX,t.el_)})},e.plugin("scrubberThumbPlugin",n)}(window.videojs)}.call(this),function(){vjs.ShareControl=vjs.Button.extend({buttonText:"Share",buildCSSClass:function(){return"js-share-control cne-share-control cne-player--share "+vjs.Button.prototype.buildCSSClass.call(this)},onClick:function(){return this.player_.trigger("cne:share")}})}.call(this),function(){vjs.SkipAdButton=vjs.Component.extend({init:function(e,t){return vjs.Component.call(this,e,t),this.duration=5,e.on("timeupdate",vjs.bind(this,this.updateContent))},createEl:function(){return vjs.createEl("div",{className:"cne-skip-ad-button cne-hidden",innerHTML:"I am a skip button."})},onClick:function(){return this.duration-this.player_.currentTime()<=0?(this.skippable=!1,this.player().trigger("cne:preroll:skip")):void 0},show:function(){return this.removeClass("cne-hidden"),this.isHidden=!1},hide:function(){return this.addClass("cne-hidden"),this.isHidden=!0},updateContent:function(){var e,t;if(!this.isHidden)return t=this.duration-this.player_.currentTime(),t>0?(this.skippable=!1,this.removeClass("cne-skippable"),this.el_.innerHTML="Skip in "+vjs.formatTime(Math.ceil(t)).substring(1)):(e=this,e.skippable?void 0:(e.skippable=!0,e.el_.innerHTML='Skip&nbsp;Ad&nbsp;<div class="cne-skip-arrow" />',e.addClass("cne-skippable"),e.on("click",e.onClick)))}})}.call(this),function(){vjs.VerticalVolumeBar=vjs.VolumeBar.extend({onClick:function(e){this.player_.muted()&&this.player_.muted(!1),vjs.VolumeBar.prototype.onClick.call(this,e)},onMouseDown:function(e){this.player_.muted()&&this.player_.muted(!1),vjs.VolumeBar.prototype.onMouseDown.call(this,e)}})}(),videojs.VerticalVolumeBar.prototype.update=function(){if(this.el_){var e,t=this.getPercent(),n=this.handle,i=this.bar;if(isNaN(t)&&(t=0),e=t,n){var r=this.el_,s=r.offsetHeight,o=n.el().offsetHeight,a=o?o/s:0,c=1-a,l=t*c;e=l+a/2,n.el().style.bottom=vjs.round(100*l,2)+1+"%"}i.el().style.height=vjs.round(100*e,2)+"%"}},videojs.VerticalVolumeBar.prototype.calculateDistance=function(e){var t,n,i,r,s,o,a,c,l;if(t=this.el_,n=vjs.findPosition(t),s=t.offsetWidth,o=t.offsetHeight,a=this.handle,this.options_.vertical){if(r=n.top,l=e.changedTouches?e.changedTouches[0].pageY:e.pageY,a){var u=a.el().offsetHeight;r+=u/2,o-=u}return Math.max(0,Math.min(1,(r-l+o)/o))}if(i=n.left,c=e.changedTouches?e.changedTouches[0].pageX:e.pageX,a){var d=a.el().offsetWidth;i+=d/2,s-=d}return Math.max(0,Math.min(1,(c-i)/s))},function(){videojs.VolumeMenuButton.prototype.createMenu=function(){var e=new vjs.Menu(this.player_,{contentElType:"div"}),t=new vjs.VerticalVolumeBar(this.player_,vjs.obj.merge({vertical:!0},this.options_.volumeBar));return e.addChild(t),e},videojs.VerticalVolumeMenuButton=videojs.VolumeMenuButton.extend({})}(),function(){vjs.VideoAdCountdown=vjs.Component.extend({init:function(e,t){return vjs.Component.call(this,e,t),e.on("timeupdate",vjs.bind(this,this.updateContent))},createEl:function(){return vjs.createEl("div",{className:"cne-videoad-countdown"})},updateContent:function(){var e,t;return this.player_.duration()?(t=vjs.formatTime(this.player_.remainingTime()),e="<span class='cne-time'>"+t+"</span>",this.el_.innerHTML="Advertisement "+e):this.el_.innerHTML=""}})}.call(this);