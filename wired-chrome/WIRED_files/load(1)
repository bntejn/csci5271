/* file: jquery-sonar :  : /cn/runtime/wired-wp/wordpress/wp-content/mu-plugins/cn-wordpress/helpers/lazy-load/jquery.sonar.min.js */(function(e,h,l,c){e.fn.sonar=function(o,n){if(typeof o==="boolean"){n=o;o=c}return e.sonar(this[0],o,n)};var f=l.body,a="scrollin",m="scrollout",b=function(r,n,t){if(r){f||(f=l.body);var s=r,u=0,v=f.offsetHeight,o=h.innerHeight||l.documentElement.clientHeight||f.clientHeight||0,q=l.documentElement.scrollTop||h.pageYOffset||f.scrollTop||0,p=r.offsetHeight||0;if(!r.sonarElemTop||r.sonarBodyHeight!==v){if(s.offsetParent){do{u+=s.offsetTop}while(s=s.offsetParent)}r.sonarElemTop=u;r.sonarBodyHeight=v}n=n===c?0:n;return(!(r.sonarElemTop+(t?0:p)<q-n)&&!(r.sonarElemTop+(t?p:0)>q+o+n))}},d={},j=0,i=function(){setTimeout(function(){var s,o,t,q,p,r,n;for(t in d){o=d[t];for(r=0,n=o.length;r<n;r++){q=o[r];s=q.elem;p=b(s,q.px,q.full);if(t===m?!p:p){if(!q.tr){if(s[t]){e(s).trigger(t);q.tr=1}else{o.splice(r,1);r--;n--}}}else{q.tr=0}}}},25)},k=function(n,o){n[o]=0},g=function(r,p){var t=p.px,q=p.full,s=p.evt,o=b(r,t,q),n=0;r[s]=1;if(s===m?!o:o){setTimeout(function(){e(r).trigger(s===m?m:a)},0);n=1}d[s].push({elem:r,px:t,full:q,tr:n});if(!j){e(h).bind("scroll",i);j=1}};e.sonar=b;d[a]=[];e.event.special[a]={add:function(n){var p=n.data||{},o=this;if(!o[a]){g(this,{px:p.distance,full:p.full,evt:a})}},remove:function(n){k(this,a)}};d[m]=[];e.event.special[m]={add:function(n){var p=n.data||{},o=this;if(!o[m]){g(o,{px:p.distance,full:p.full,evt:m})}},remove:function(n){k(this,m)}}})(jQuery,window,document);/* end file: jquery-sonar*/
/* file: wpcom-lazy-load-images :  : /cn/runtime/wired-wp/wordpress/wp-content/mu-plugins/cn-wordpress/helpers/lazy-load/lazy-load.js */(function($) {
    lazy_load_init();
    $( 'body' ).bind( 'post-load', lazy_load_init ); // Work with WP.com infinite scroll

    function lazy_load_init() {
        $( 'img[data-lazy-src]' ).bind( 'scrollin', { distance: 250 }, function() {
            lazy_load_image( this );
        });

        // We need to force load gallery images in Jetpack Carousel and give up lazy-loading otherwise images don't show up correctly
        $( '[data-carousel-extra]' ).each( function() {
            $( this ).find( 'img[data-lazy-src]' ).each( function() {
                lazy_load_image( this );
            } );
        } );
    }
})(jQuery);

function lazy_load_image( img ) {
    var $img = jQuery( img ),
        src = $img.attr( 'data-lazy-src' );

    $img.unbind( 'scrollin' ) // remove event binding
        .hide()
        .removeAttr( 'data-lazy-src' )
        .attr( 'data-lazy-loaded', 'true' );

    img.src = src;
    $img.fadeIn();
    //CN.debug.info('Lazy Loaded: ' + img.src );
}/* end file: wpcom-lazy-load-images*/
/* file: outbrain :  : http://widgets.outbrain.com/outbrain.js */window.OBR = window.OBR||{};(function(OBR){window.OB_releaseVer="01000215";window.OBR=window.OBR||{};OBR.l=OBR.l||[];OBR.Da=OBR.Da||{};window.OBR$=function(d){return document.getElementById(d)};OBR.d=OBR.d||function(){var d={},a={B:function(){return d},j:function(a){d.ba=a;d.Sa=[];d.startTime=(new Date).getTime()},startTime:function(){return d.startTime},log:function(a){var e=((new Date).getTime()-d.startTime)/1E3;1E3>d.Sa.length&&d.Sa.push(e+" >"+a)},printLog:function(){if(d.ba.c.di)window.console.log(d.Sa.join("\n"));else{var a=d.ba.b.Oa();a&&(a.innerHTML=d.Sa.join("<br>"),a.style.display="block")}return d.Sa.join("\n")}};a.j(OBR);return a}();OBR.printLog=OBR.d.printLog;OBR.I=function(){this.F=[]};OBR.I.prototype.add=function(d,a){var c;"string"===typeof d&&"function"===typeof a&&(c={},c.name=d,c.jh=a,this.F.push(c))};OBR.I.prototype.ff=function(d){var a,c;OBR.d.log("remove event :"+d);a=0;for(c=this.F.length;a<c;a+=1)if(this.F[a]&&this.F[a].name&&this.F[a].name===d)try{this.F.splice(a,1)}catch(e){OBR.d.log("rm evnt err: "+e)}};
OBR.I.prototype.o=function(d,a,c){var e,b,f,g;a=a||[];c=!!c;OBR.d.log("event fire:"+d);e=0;for(b=this.F.length;e<b;e+=1)if(f=this.F&&this.F[e]?this.F[e].name:"",g=this.F&&this.F[e]?this.F[e].jh:null,f===d&&g)try{g.apply(this,a)}catch(h){OBR.d.log("fire event *"+d+"* error: "+h)}!0===c&&this.ff(d)};OBR.I.prototype.ka=function(){this.F=[]};OBR.b=OBR.b||function(){var d={},a={},c=document,e=OBR,b=null;a.B=function(){d.ba=e;return d};a.j=function(a){e=a};a.wa=function(){return function(){}};a.Mh=function(){var a=window.jQuery;return void 0!==a?!(/1\.(0|1|2|3|4)\.(0|1)/.test(a.fn.jquery)||/^1\.1/.test(a.fn.jquery)||/^1\.2/.test(a.fn.jquery)||/^1\.3/.test(a.fn.jquery)):!1};a.G=function(a){return null===a||isNaN(a)?null:e.m("outbrain_widget_"+a)};a.Oa=function(){return e.m("ob_holder")};a.sc=function(){if(!e.m(e.c.yb)){var f=e.b.createElement("iframe",
e.c.yb),b=f.style;b.display="none";b.width="1px";b.height="1px";f.src="about:blank";(b=a.Oa())||(b=a.Ma());e.b.P(f,b)}};a.Ma=function(){if(c.body)return c.body;var a;a=e.b.H("","","body",!0);return 0>=a.length?c.lastChild:a[0]};a.createElement=function(a,b,e,d){var l;a=c.createElement(a);"string"===typeof b&&a.setAttribute("id",b);"string"===typeof e&&(a.style.cssText=e);for(l in d)d.hasOwnProperty(l)&&a.setAttribute(l,d[l]);return a};a.L=function(a){if(e.c.ud===e.c.jd)try{c.createStyleSheet().cssText=
a}catch(b){OBR.d.log(b)}else{var h=c.createElement("style"),d=c.body?"string"===typeof c.body.style.WebkitAppearance:!1;h.type="text/css";c.getElementsByTagName("head")[0].appendChild(h);h[d?"innerText":"innerHTML"]=a}};a.K=function(a,b,h){var d=c.createElement("script");d.type=e.c.wi;d.src=a;d.charset="UTF-8";d.async=!!b;d.defer=!1;h&&e.b.q(d,"load",function(a){var f=a.target;f&&setTimeout(function(){f.parentNode.removeChild(f)},3E3)});return d};a.vk=function(a,b){var c=e.b.createElement("link",
a);c.setAttribute("rel","stylesheet");c.setAttribute("type",e.c.Og);b&&c.setAttribute("href",b);return c};a.tg=function(a){var b=e.m("ob_iframe");b&&(b.src=a)};a.Xe=function(){var a;a=isNaN(a)?1E5:a;return Math.floor(Math.random()*a)};a.pj=function(a,b,c){return a.replace(b,c)};a.Ek=function(){var f;if(f=OBR.m("objsonpp"))if(a.li())a.Ca(f.parentNode)&&f.parentNode.removeChild(f);else return OBR.m("objsonpp");f=c.createElement("iframe");f.id="objsonpp";f.vj&&(f.vj="seamless");(f.frameElement||f).style.cssText=
"width: 0; height: 0; border: 0";f.src="";c.body.appendChild(f);return f};a.Q=function(a){var b,h;h=c.getElementsByTagName("head");try{h&&0<h.length?h[0].insertBefore(a,h[0].firstChild):(b=c.getElementsByTagName("script"),b[0].insertBefore(a,b[0].firstChild))}catch(d){e.d.log("Err insertToHead:"+d)}};a.Dk=function(a){a=a||OBR;return"function"!==typeof a.I?(OBR.d.log("namespace.EventManager not function"),null):new a.I};a.J=function(a){return encodeURIComponent(a)};a.Ca=function(a){return null!==a};
a.qi=function(b){var g,c=!1;if(a.xc(b))return!1;g=b.ie().recMode||"";b=b.ie().dynamicWidgetLayout||"";g=e.c.tj[g]||"";"2"===g&&"1"===(e.c.uj[b]||"")&&(c=!0);c||"1"!==g&&"3"!==g||(c=!0);return c};a.xc=function(a){return void 0===a||null===a};a.ui=function(b){return a.xc(b)||""===b};a.getElementsByClassName=function(b,g){g||(g=document);return g.getElementsByClassName?g.getElementsByClassName(b):a.H("class",b,"*",!0,!0,g)};a.H=function(b,g,e,d,l,m){var n,p,r;n=[];e=e||"*";d=!!d;l=a.ui(l)?!0:!1;e=m?
m.getElementsByTagName(e):c.getElementsByTagName(e);m=0;for(p=e.length;m<p;m+=1)r="class"===b?e[m].className:e[m].getAttribute(b),null!==r&&(!1===l&&(r=r.toLowerCase(),g=g.toLowerCase()),(r=""===b?!0:d?-1<r.indexOf(g):r===g)&&n.push(e[m]));return n};a.Eb=function(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)};a.q=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,function(){c.call(a)}):a.addEventListener&&a.addEventListener(b,c,!1)};a.P=function(a,
b){try{b.appendChild(a)}catch(c){e.d.log("Fail insert into Dom:"+c)}};a.ab=function(b){b=e.m(b);!a.xc(b)&&a.Ca(b.parentNode)&&b.parentNode.removeChild(b)};a.insertBefore=function(a,b){return b.parentNode.insertBefore(a,b)};a.isArray=function(a){return a instanceof Array?!0:"[object Array]"===Object.prototype.toString.call(a)};a.gb=function(a,b){var c=/htt(p|ps)?:\/\/127\.0\.0\.1(:\d\d\d\d)?/i;return/^htt(p|ps)?:\/\/([\w\-]*|[\w\-]*\.[\w\-]*)\.outbrain\.com(:\d\d\d\d)?/i.test(a)||c.test(a)?a:b};a.$j=
function(a){a=a.replace(/^(\s*)/g,"");var b=c.createElement("div");b.innerHTML=a;return b.childNodes};a.tb=function(a,b){return a?a.getAttribute(b):null};a.ra=function(a,b,c){a&&a.setAttribute(b,c)};a.S=function(a,b){var c=RegExp("[ '\"|]"+b+"[ '\"|]");a&&!c.test("|"+a.className+"|")&&(a.className+=" "+b)};a.Fa=function(a,b){a&&typeof b===e.c.Zj&&(a.classList?a.classList.remove(b):a.className=a.className.replace(RegExp("(^|\\b)"+b+"(\\b|$)","gi")," "))};a.T=function(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,
"\\]");var c,e;try{return c=RegExp("[\\?&]"+a+"=([^&#]*)","i"),e=c.exec(decodeURIComponent(window.location.href.replace(/\+/g," "))),null===e?b:e[1]}catch(d){return b}};a.Cg=function(a){"string"===typeof a&&0<a.indexOf("#")&&(a=a.substr(0,a.lastIndexOf("#")));return a};a.Bd=function(a){var b=e.c.aa+"/strip_default.png";a.src!==b&&(a.alt="",a.title="",a.src=b)};a.Xg=function(){var a=null,b,e,d=null;if("string"===typeof window.OB_MP_feed)a=window.OB_MP_feed;else if((b=c.getElementsByTagName("head"))&&
0<b.length)for(e=b[0].getElementsByTagName("link"),b=0;b<e.length;b+=1)if(d=e[b],null!==d.type&&("application/rss+xml"===d.type||"application/atom+xml"===d.type)&&null!==d.href&&""!==d.href){a=d.href;break}return a};a.D=function(a,b){var c=null;a.currentStyle?c=a.currentStyle[b]:window.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b));return c};a.zj=function(){var b=a.Oa(),c,d;a.Ca(b)&&(c=e.b.createElement("span","ob_a"),a.insertBefore(c,b),c.innerHTML=".",d=
a.D(c,"color"),a.ab("ob_a"),c=e.b.createElement("a","ob_a"),c.setAttribute("href","void(0)"),c.innerHTML=".",a.insertBefore(c,b),b=a.D(c,"color"),a.ab("ob_a"),d="rgb(0, 0, 0)"===d||"#000000"===d?"#555":d,a.L(".ob-tcolor{color:"+d+"} .ob-lcolor{color:"+b+"} .ob-bgtcolor{background-color:"+d+"} .item-link-container:hover .ob-tcolor{border-color:"+d+"} "+(document.addEventListener?"":".odb_li:hover .ob-zapping-icon,.odb_div:hover .ob-zapping-icon,.item-container:hover .ob-zapping-icon,.ob-dynamic-rec-container:hover .ob-zapping-icon,.odb_li:hover .ob-textual-zapping-icon,.odb_div:hover .ob-textual-zapping-icon,.item-container:hover .ob-textual-zapping-icon,.ob-dynamic-rec-container:hover .ob-textual-zapping-icon{display:none !important;}")))};
a.ee=function(b){var c=a.be("property","og:url","meta","content");null===c&&(c=a.be("rel","canonical","link","href"));null!==c||b||(c=window.location.href);null===c&&(c="");return c};a.be=function(b,c,e,d){var l=null;b=a.H(b,c,e,!1);null!==b&&0<b.length&&(l=b[0].getAttribute(d));return l};a.ug=function(b){var c,d,k;k=e.l[b];b=k.g("tracking",!1);c=k.g("comScoreEnabled",!0);d=e.c.Cd;!1===b&&(!0===c&&!1===d&&!k.ke())&&(a.sc(),c=k.r("pid",""),b=e.m(e.c.yb))&&(b.src=e.c.aa+"/"+e.c.Cb+"3rd/comScore/comScore.htm#pid="+
c,e.c.Cd=!0)};a.Jh=function(){var b=a.wb(8);"string"===typeof window.name&&(""===window.name||-1<window.name.indexOf("frame"))?(window.name=b,b=window.name):"string"===typeof window.name&&""!==window.name&&(b=window.name);return b=e.b.J(b.substring(0,9))};a.wb=function(a){var b,c;b=[];a="number"===typeof a?a:8;for(c=0;c<a;c+=1)b.push("0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".charAt(Math.floor(61*Math.random())));return b.join("")};a.Fd=function(a){for(var b="",c=0;c<a.length;c++)b=
b.concat(a[c]?"1":"0");return parseInt(b,2)};a.uc=function(b){var c=b.getElementsByTagName("a")[0];if(null===b.offsetParent||0===b.offsetHeight||0===b.offsetWidth||0===b.clientHeight||0===b.clientWidth||"none"===a.D(b,"display")||"hidden"===a.D(b,"visibility"))return!1;var e=parseInt(a.D(b,"padding-top"),10)+parseInt(a.D(b,"padding-bottom"),10);return 0===b.clientHeight-e||c&&"none"===a.D(c,"display")?!1:!0};a.nc=function(a){for(var b in e.Da)if(e.Da.hasOwnProperty(b)&&e.Da[b].k===a)return e.Da[b];
return null};a.Jk=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0};a.Aa=function(a,b){return"function"!==typeof a?null:void 0===b?a():a(b)};a.li=function(){return"Microsoft Internet Explorer"===navigator.appName};a.Pg=function(a,b){return a*b};a.Zd=function(a){if(!a||""===a)return[];a=a.replace("","").replace("http://","").replace("https://","").replace("www.","").replace("www2.","").split("/");a.pop();return 0<a.length?a:[]};a.rh=function(b,c){var e=a.Zd(b),d=[],l="";if(c>=e.length)l=
e.join(".");else{d[0]=e[0];for(l=1;l<=c;l+=1)d[l]=e[l];l=d.join(".")}return l};a.zh=function(){return"http"+("https:"===c.location.protocol?"s":"")};a.yh=function(){var b,e;b=c.getElementById("widgetVersionSync");null===b&&(b=a.createElement("iframe","widgetVersionSync"),e=a.createElement("div",null,"display:none; height:0px; width:0px; border:none;"),e.appendChild(b),a.Ma().appendChild(e));return b};a.lk=function(b){var c;c=window.OB_releaseVer;isNaN(c)||(isNaN(b)||c>=b)||(b=a.zh()+"://widgets.outbrain.com/external/sync/outbrainjs.html?needToBeVer="+
b.toString(),c=a.yh(),c.src=b)};a.fg=function(b){b=b.g("widgetVersionSync",1);isNaN(b)||""===b||(b=parseInt(b,10)||1,a.lk(b))};d.pc=function(){if(b)return b;var a;try{var c=window.localStorage;c.setItem("OBtst","");c.removeItem("OBtst");a=c}catch(e){a={Hb:{},setItem:function(a,b){this.Hb[a]=b},removeItem:function(a){this.Hb[a]=void 0},getItem:function(a){return"undefined"!==typeof this.Hb[a]?this.Hb[a]:null}}}return b=a};a.Mj=function(a){d.pc().setItem("OB-USER-TOKEN",a)};a.je=function(){var a=d.pc().getItem("OB-USER-TOKEN");
return a?a:null};a.Qg=function(){d.pc().removeItem("OB-USER-TOKEN")};a.j(OBR);return a}();OBR.sa=function(d,a,c,e,b,f,g,h,k){var l,m;l=this;m=0;k="function"===typeof k?k:OBR.b.Pg;l.start=function(){var n;m+=1;OBR.b.Aa(d,m)?OBR.b.Aa(a,m):(n=OBR.b.Aa(h,m))?OBR.b.Aa(e,m):(n=m===f&&1E3!==f)?OBR.b.Aa(e,m):(OBR.b.Aa(c,m),n=g?k(m,b):b,setTimeout(function(){l.start()},n))};l.start()};OBR.Jd=OBR.Jd||{fi:function(){return"complete"===document.readyState}};
OBR.ic=function(){var d={},a=[];d.add=function(c){a.push(c)};d.remove=function(c){a.splice(c,1)};d.top=function(){return 0<a.length?a.shift():null};d.ki=function(){return 0>=a.length};d.Bk=function(){return a};d.Ag=function(){a=[]};return d};
OBR.Ja=function(){function d(e,b){a.eb="resolve"===e?function(a){a&&a(b)}:function(a,c){c&&c(b)};a.Ha=a.lj=function(){throw Error("Promise already completed.");};for(var d,g=0;d=c[g++];)d[e]&&d[e](b);delete c}var a={},c=[];a.eb=function(a,b){c.push({resolve:a,reject:b})};a.Ha=function(a){d("resolve",a)};a.lj=function(a){d("reject",a)};return a};OBR.c=OBR.c||function(){var d={},a={},c=OBR,e;a.Sf="opera";a.jd="msie";a.Qf="firefox";a.Of="chrome";a.Uf="safari";a.Rf="mozilla";a.tk="boolean";a.Zj="string";a.Nk="object";a.ek="undefined";a.Mk="number";a.yb="ob_iframe";a.ue=!0;a.Ve=0;a.Kb="outbrain_widget_";a.wi="text/javascript";a.Og="text/css";a.xk=document;a.Ce=void 0!==document.createElement("script").async;a.Mf=c.b.Jh();a.ej=document.referrer;a.dj=c.b.J(document.referrer);a.zi=document.location.href;a.Lk=c.b.J(a.zi);a.nb=!1;a.Vc="";a.ac=navigator.userAgent.toLowerCase();
a.Si=navigator.platform.toLowerCase();e=a.ac;a.ud=/opera/.test(e)?a.Sf:/msie/.test(e)?a.jd:/firefox/.test(e)?a.Qf:/chrome/.test(e)?a.Of:/safari/.test(e)?a.Uf:a.Rf;a.vc=!!/(iphone|ipod|symbian|android|windows ce|blackberry|palm|ipad)/.test(e);a.ye="Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent);a.ze=a.ac.match(/msie 8/)||a.ac.match(/msie 7/);a.Zi=window.OB_platformType||null;a.zb="number"===typeof a.Zi;
a.pf=null;a.Qd=null;a.Yj=function(){a.zb&&(a.pf&&a.Qd)&&(a.pf(),a.Qd())};a.hb="string"===typeof window.OB_releaseVer?window.OB_releaseVer:"0";a.Hi=!0===window.OB_disable_odbl;e=("https:"===document.location.protocol?"https":"http")+"://";a.rg="/blogutils/ExcludeRec.action?bocr=";a.Ok="html";a.Qh=c.b.gb(c.b.T("wiodb",e+"hpr.outbrain.com"),e+"hpr.outbrain.com");a.Ec=c.b.gb(c.b.T("wiodb",e+"odb.outbrain.com"),e+"odb.outbrain.com");a.ei="true"===c.b.T("widebug","false");a.sg=e+"storage.outbrain.com/";
a.aa=c.b.gb(c.b.T("wihost",e+"widgets.outbrain.com"),e+"widgets.outbrain.com");a.Ti=c.b.gb(c.b.T("wiout",e+"outbrain.com"),e+"outbrain.com");a.Od=c.b.T("wixp",null);a.Te=e+"log.outbrain.com/";a.Cb="nanoWidget/";a.Wi=a.zb?"NANOWDGTLT13":"NANOWDGT01";a.Ei=a.aa+"/"+a.Cb+a.hb+(a.zb?"/moduleLT":"/module");a.Me=a.aa+"/"+a.Cb+"3rd";a.di="object"===typeof window.console;a.Ef=c.b.Cg(c.b.Xg());a.Df=null===a.Ef?"":c.b.J(a.Ef);a.Cd=!1;a.Ii="true"===c.b.T("obdraft",!1)?"&obDraft=true":"";a.Vf=!1!==c.b.T("obAbtest",
!1)?"&obAbtest="+c.b.T("obAbtest",""):"";a.Ig="true"===c.b.T("obCrDraft","false")?"&crDraft=true":"";a.Ab=0;a.Ua=null;a.of="data-obscrollable";a.tj={touch_strip:"1",odb_dynamic:"2","odb_dynamic_touch-strip":"3"};a.uj={"touch-strip":"1"};a.ck=!!window.OB_testMode;a.ok={KALTURA:"kaltura",BRIGHTCOVE:"brightcove"};a.B=function(){d.ba=c;return d};return a}();OBR.e=OBR.e||function(){var d={},a,c={};d.j=function(c,b){a=c;d.cj(b)};d.f={Pb:"POPUPDESCRIPTION",od:"STATISTICS",mb:"WHATIS",Mb:"FLYTHROUGH",$b:"VIDEOPLUGIN",Zb:"VIDEO",Qb:"POSCUL",Ub:"SCROLL",Vb:"SCROLLEXTERNAL",Rb:"RECINIFRAME",nd:"REGISTER",Sb:"REFRESHWIDGET",Wb:"SKYLANDER",jb:"LOADMORE",nk:"DYNAMICTEXTTRUNCATION",Xb:"TOPBOX",Nb:"PAGER",Ob:"PAGEREXTERNAL",Yb:"USERZAPPING"};d.Tf=function(a,b){var c={wk:a,url:b,version:-1,state:0,cc:null,Dd:this,rd:null,zg:function(){if(2===c.state)c.He();else if(0===
c.state){var a=OBR.b.K(c.url,!0);c.state=1;OBR.b.Q(a)}},He:function(){c.state=2;"function"===typeof c.cc&&c.cc.call(c.Dd,c.rd)}};return c};d.cj=function(c){function b(b){return a.c.Ei+"/"+b}function f(a,b){c[a]||(c[a]=new d.Tf(a,b))}f(d.f.Pb,b("popupDescription.js"));f(d.f.od,b("statistics.js"));f(d.f.mb,b("whatis.js"));f(d.f.Yb,b("userZapping.js"));f(d.f.Mb,b("flyThrough.js"));f(d.f.$b,b("videoPlugin.js"));f(d.f.Zb,b("video.js"));f(d.f.Qb,b("positionCalculation.js"));f(d.f.Rb,b("recInIframe.js"));
f(d.f.nd,b("registration.js"));f(d.f.Sb,b("refreshWidget.js"));f(d.f.Wb,b("skyLander.js"));f(d.f.Xb,b("topBox.js"));f(d.f.jb,b("loadMore.js"));f(d.f.Ub,b("scroll.js"));f(d.f.Vb,a.c.Me+"/scroll/scrollExternal.js");f(d.f.Nb,b("pager.js"));f(d.f.Ob,a.c.Me+"/pager/pagerExternal.js")};d.vh=function(a){return c[a]};d.v=function(a,b,c,g){if(a=d.vh(a))a.cc=b||OBR.b.wa(),a.Dd=c,a.rd=g,a.zg()};d.Ck=function(a){return c[a].state};d.w=function(e){"-1"!==a.c.hb&&c[e].He()};d.j(OBR,c);return d}();OBR.j=OBR.j||void 0;OBR.m=function(d){return document.getElementById(d)};OBR.X=OBR.X||function(){var d={},a={},c,e;a.j=function(a){c=a=a||OBR;d.Ya=new c.I;e=!1};a.B=function(){return d};d.ai=function(){var a,e;a=c.b.createElement("iframe","ob_ping");a.setAttribute("id","ob_ping");a.style.border="0px";a.style.width="0px";a.style.height="0px";a.setAttribute("src",c.c.Ec+"/utils/ping.html?r="+c.b.Xe());c.b.q(a,"load",function(){c.d.log("ping returned");c.c.Ve=2;d.Ya.o("success");c.X.hf()});e=c.b.Oa();null!==e&&(c.d.log("ping inserted"),c.b.P(a,e))};d.Yi=function(){c.d.log("ping Wait");
new c.sa(function(){return 2===c.c.Ve},function(){},c.b.wa(),function(){d.Ya.o("fail");c.X.hf()},50,200,!1)};a.hf=function(){c.b.ab("ob_ping")};a.Pi=function(a){d.Ya.add("success",a)};a.Oi=function(a){d.Ya.add("fail",a)};a.oi=function(){return e};a.xf=function(){e=!0};a.Xi=function(){d.ai();d.Yi()};a.C=function(){d.Ya.ka()};a.j(OBR);return a}();OBR.Ba=OBR.Ba||function(){var d,a={},c={},e;a.j=function(a){d=a=a||OBR;e=new d.I};a.B=function(){return c};c.ec=function(a){var c,g;c=0;for(g=a.length;c<g;c+=1)d.b.ra(a[c],"data-ob-mark","true"),d.b.ra(a[c],"data-browser",d.c.ud),d.b.ra(a[c],"data-os",d.c.Si),e.o("find",[a[c]])};c.Wd=function(){return d.b.H("class","OUTBRAIN","div",!0)};c.qh=function(a){var c,e=[],h=[];for(c=0;c<a.length;c++){var k=a[c];if("string"===typeof k.containerId)if(d.m(k.containerId)){var l=d.m(k.containerId);OBR.ia.Kg(k,
l);h.push(l)}else e.push(a[c])}window.OB_elements=e;return h};c.xh=function(){var a=[];"object"===typeof window.OB_elements&&0<window.OB_elements.length&&(a=window.OB_elements);return a};c.wh=function(){var a=[],e=c.Wd(),g,h;g=0;for(h=e.length;g<h;g+=1){var k=d.b.tb(e[g],"data-ob-mark");null!==k&&"true"===k||!e[g]||a.push(e[g])}g=c.xh();if(0<g.length)for(d.d.log("Array of elements found!"),e=c.qh(g),g=0,h=e.length;g<h;g+=1)a.push(e[g]);return a};a.rk=function(a){c.Sd(a)};c.Sd=function(a){if(void 0===
a){var f=!1;d.d.log("searching for containers");new d.sa(function(){return f},d.b.wa(),function(){f=d.Jd.fi();var a=c.wh();f&&d.d.log("checking:("+f+")");0<a.length&&c.ec(a)},e.o("stopSearch"),50,1E3,!1)}else 0<(a.length||0)&&c.ec(a)};a.Ik=function(){return 0<c.Wd().length};a.Mi=function(a){e.add("find",a)};a.Qk=function(a){e.add("stopSearch",a)};a.Rd=function(){c.Sd()};a.dh=function(a){var e=[],g,h;g=0;for(h=d.l.length;g<h;g+=1){var k=d.b.G(g);null!==k&&("string"===typeof a&&d.b.ra(k,"data-src",
a),d.b.ra(k,"data-ob-mark","false"),e.push(k))}0<e.length&&(d.l=[],c.ec(e))};a.C=function(){e.ka();d.l=[]};a.j(OBR);return a}();OBR.A=OBR.A||function(){var d={},a={},c;a.j=function(a){c=a=a||OBR;d.Hc=new c.ic;d.Va=new c.I;d.Pa=!1};d.lh=function(a){var b,f,g=a.O(),h=c.b.pj;b=a.Ih();var k=c.b.je(),l=c.s.fa(),l="&winW="+l.width+"&winH="+l.height,m=""!==c.c.Vc&&0!==g?"&t="+c.c.Vc:"",n=!0===c.c.ck||!0===a.ke(),p=a.le()?"&videoId="+a.le():"",r=a.ge()?"&playerSrcId="+a.ge():"",q=a.Vd()?"&api_user_id="+a.Vd():"",t=c.c.Od?"&xp="+c.b.J(c.c.Od):"",u=c.c.ei?"&wrDebug=true":"",s=a.ce()?a.ce():c.c.Wi;b=b&&"hp"===b?c.c.Qh+"/utils/get?url=$LNK$SRC$VDOID$PLYSRCID&settings=$SET&recs=$REC&widgetJSId=$WID&key=$KEY&idx=$IDX&version=$VER&ref=$REF&apv=$APV&sig=$SIG&format=$FRT&rand=$RND$LSD$DRFT$ABTEST$XP$TOKEN$WINDOWSIZE$TST$USRID$CRDRFT$WRDBG":
c.c.Ec+"/utils/get?url=$LNK$SRC$VDOID$PLYSRCID&settings=$SET&recs=$REC&widgetJSId=$WID&key=$KEY&idx=$IDX&version=$VER&ref=$REF&apv=$APV&sig=$SIG&format=$FRT&rand=$RND$LSD$DRFT$ABTEST$XP$TOKEN$WINDOWSIZE$TST$USRID$CRDRFT$WRDBG";f=a.lc();b=h(b+(""!==f&&null!==f?"&fbk="+f:""),"$LNK",c.b.J(a.ma()));b=h(b,"$SRC",d.Eh(a));b=h(b,"$IDX",g);b=h(b,"$SET",!0);b=h(b,"$REC",!0);b=h(b,"$KEY",s);b=h(b,"$WID",a.u());b=h(b,"$VER",c.c.hb);b=h(b,"$REF",c.c.dj);b=h(b,"$SIG",c.c.Mf);b=h(b,"$APV",c.c.nb);b=h(b,"$FRT",
a.sh());b=h(b,"$RND",c.b.Xe());b=h(b,"$DRFT",c.c.Ii);b=h(b,"$ABTEST",c.c.Vf);b=h(b,"$CRDRFT",c.c.Ig);b=h(b,"$XP",t);b=h(b,"$LSD",k?"&lsd="+c.b.J(k):"");b=h(b,"$TOKEN",m);b=h(b,"$WINDOWSIZE",l);b=h(b,"$TST",n?"&testMode=true":"");b=h(b,"$USRID",q);b=h(b,"$VDOID",p);b=h(b,"$PLYSRCID",r);return b=h(b,"$WRDBG",u)};d.Eh=function(a){var b="&srcUrl=";a=a.Fh();return b=null!==a&&"string"===typeof a&&0<a.length?b+c.b.J(a):0<c.c.Df.length?b+c.c.Df:""};d.Uh=function(a,b){var f=b.k,g=b.u(),h=c.b.K(a,!0);c.b.q(h,
"error",function(){d.Va.o("onOdbFail_"+f+"_"+g,[b],!0)});c.b.Q(h);d.Va.o("onOdbFire_"+f+"_"+g,[b],!0);c.d.log("fire this src "+a)};d.Ij=function(a){c.c.Ce&&setTimeout(function(){d.gf(a.k,a.u())},1E4)};d.gf=function(a,b){c.b.ab("ob_odbCall_"+a+b)};a.o=function(){if(!0!==d.Pa&&!0===c.X.oi()){d.Pa=!0;var a=d.Hc.top(),b;a?(c.d.log("fire odb for "+a.ma()),b=d.lh(a),d.Uh(b,a),d.Ij(a)):d.Pa=!1}};a.Se=function(a,b){d.Va.add("onOdbFire_"+a.k+"_"+a.u(),b)};a.Re=function(a,b){d.Va.add("onOdbFail_"+a.k+"_"+a.u(),
b)};a.Zc=function(a,b){d.Pa=!1;d.gf(a,b)};a.yj=function(a){!0===a&&(OBR.c.nb=a)};a.Oj=function(a){a&&(c.c.Vc=a)};a.Th=function(){c.c.nb=!1};a.Jc=function(e){d.Hc.add(e);c.d.log("register odb for "+e.ma());a.o()};a.lg=function(c){a.Zc(c.k,c.u());a.o()};a.C=function(){d.Hc.Ag();d.Va.ka();d.Pa=!1};a.B=function(){d.ba=c;return d};a.j(OBR);return a}();OBR.h=OBR.h||function(){function d(){c.d.log("ping fail")}function a(){c.d.log("ping success");c.X.xf();c.A.o()}var c,e={},b={},f;e.Bb="manualDataReady";e.Je="manualEditorialDataReady";e.zc="manualClickReady";e.j=function(a){c=a=a||OBR;f=new c.I};e.B=function(){return b};e.Rk=function(a){f.add("onHtmlReturn",a)};e.ij=function(a){f.add("noRecs",a)};b.Ka=function(a){c.d.log("rec "+a+" was rendered");var d=c.l[a];d.ha(!0);0===a&&c.b.zj();b.vd(d);c.b.fg(d);c.display.Yh(d);b.Vi(d)};b.Vi=function(a){(0===
a.g("recMode","").indexOf("odb_dynamic_top-box-")||"odb_dynamic"===a.g("recMode","")&&0<=a.g("dynamicWidgetLayout","").indexOf("top-box"))&&OBR.e.v(OBR.e.f.Nb,function(a){OBR.Xa.Cc(a)},this,a)};b.Fk=function(a){return Math.floor(Math.random()*a)+1};b.vd=function(a){a.g("globalWidgetStatistics",!0)&&c.ua&&c.ua.cg(a)};b.kk=function(a){c.d.log("widget was found");a=c.Lb.bg(a);0===a.k&&b.mg();!0===a.gi()?c.d.log("Dynamic loader - stop odb!"):c.A.Jc(a)};e.Oe=function(a,b){var d="NA",f=a&&a.response?a.response:
null,m;m=c.b.nc(b);m.Qa()||(f&&(f.request&&f.request.widgetJsId)&&(d=f.request.widgetJsId),c.A.Zc(b,d),m&&(f&&f.documents)&&(m.ha(!0),m.te()?e.rb(e.Je,b,m.u(),a):e.rb(e.Bb,b,m.u(),a.response.documents)),c.A.o())};e.rb=function(a,b,c,d){f.o(a+b+c,[d,b],!0)};e.ef=function(a,b,c,d){f.add(a+b+c,d)};e.Ac=function(a,b){if(null!==a){var d=0,d=a.permalink,f=a.widgetId,m=c.ia.Ng(a);(a.videoId||d&&"string"===typeof d)&&(f&&"string"===typeof f)&&(c.d.log("manual Odb call"),d=e.Ci(a),m.idx=d,m.isManualWidget=
!0,m=c.Lb.Gd(m),m.Ej(),c.Da[d]=m,m.ji()&&c.la.ig(m),e.ef(e.Bb,d,m.u(),b),c.X.xf(),c.A.Jc(m))}};e.Ci=function(a){var b=0,d=c.c;if(a.videoId)return 0;a=a.permalink;null===d.Ua&&(d.Ua=0<c.l.length?c.l[0].ma():null);d.Ua===a?(0===d.Ab&&(d.Ab=100),b=d.Ab+1):d.Ua=a;return d.Ab=b};e.Ta=function(a,d){var e=OBR.m(c.c.yb);c.b.Ca(e)&&c.b.Ca(e.parentNode)&&e.parentNode.removeChild(e);c.b.sc();"function"===typeof d&&f.add(b.zc,d);if(null!==a&&(e=a.link)&&"string"===typeof e){c.d.log("manual Click");if(null!==
e.match(/http:\/\/.+outbrain.com/i))c.b.tg(e+"&noRedirect=true");else throw"Wrong redirect link: "+e;f.o(b.zc);f.ff(b.zc)}};b.Be=function(a){return a.g("stopRater",!1)};b.mg=function(){c.c.Hi||c.c.Ce?(c.d.log("async - no ping"),a()):c.X.Xi()};e.Fc=function(a,d){var k,l;OBR.d.log("HTML returned");d=b.Ne(d);(k=c.l[d])?(0>=k.Ch(a)&&f.o("noRecs",[k]),k.Qa()||(k.setData(a),c.A.Oj(k.r("t",null)),c.c.vc="mobile"===k.r("readerPlatform","desktop"),l=k.u(),f.o("odbRtn_"+l,[k]),f.o("odbRtn_"+d,[k]),f.o("onHtmlReturn",
[k]),b.Be(k)||k.wc()||b.vi(k.mc())?b.vd(k):(c.A.yj(k.g("apv",!1)),e.pi(k)?e.Ga(d):e.Lh(k),b.wg(k))),e.fh(k)):c.d.log("odbHtmlReturned : Widget not found")};b.Ne=function(a){return 1E3>a?a:a%1E3};b.vi=function(a){var b=!1;null!==a.match(/(<\/?met|<\/?scr)/i)&&(b=!0,c.d.log("SECURITY"));return b};e.fh=function(a){b.Be(a)||(c.A.Zc(a.k,a.u()),c.A.o())};b.wg=function(a){!c.c.vc&&a.ti()&&a.ri()?c.e.v(c.e.f.Wb,function(a){c.Bf.j(a)},this,a):a.si()&&c.e.v(c.e.f.Xb,function(a){c.fb.j(a)},this,a)};e.pi=function(a){var b=
!0;if(a.Ee()||a.we()||a.n&&a.n.reason&&a.n.reason===OBR.la.ta.md)b=!1;return b};e.Lh=function(a){var b=a.k;a.Ee()?c.e.v(c.e.f.$b,function(){c.Jb.Lg(b)},this):a.we()&&c.display.Wh(a)};e.Ga=function(a){c.display.Ga(c.l[a]);c.d.log("HTML - Render");e.$i(a)};e.$i=function(a){c.b.ug(a);c.Ld.Kh(a)};e.$e=function(a,b){c.b.S(b,"ob_clicked");var d=c.b.tb(b,"data-redirect");null!==d&&(b.href=d);return!0};e.Ea=function(a){b.Bg();c.Ba.dh(a);return!0};e.C=function(){f.ka()};e.lf=function(){c.Ba.Mi(b.kk);c.display.Wa(b.Ka);
c.X.Pi(a);c.X.Oi(d);c.c.zb?c.c.Yj():c.Ba.Rd()};e.qg=function(a,b,d){if(window.confirm("Removing this recommendation will remove it permanently for this section and will refresh the recommendations.\n Are you sure you want to remove this recommendation?")){var e="https://my.outbrain.com/manage/",e=!1===d?e+("add-zapped-document?publisherId="+b+"&docUrl="+c.b.J(a)):e+("add-rule?publisherId="+b+"&ruleValue="+c.b.J(a)+"&ruleType="+d);a=c.b.K(e,!0);c.b.Q(a)}};e.pg=function(a){window.confirm("Removing this recommendation will remove it permanently for this section and will refresh the recommendations.\n Are you sure you want to remove this recommendation?")&&
(a=c.b.K(c.c.Ec+c.c.rg+a+"&index=1&templateIndex=1&sig="+c.c.Mf,!0),c.b.Q(a))};e.rj=function(a){a&&(a.ob_exclude_resp&&"number"===typeof a.ob_exclude_resp.code&&1!==a.ob_exclude_resp.code)&&e.Ea()};e.hj=function(a,b){if(b&&"function"===typeof b){var d="odbRtn_"+a;f.add(d,b);var e=c.ia.ne(a);e&&e.re()&&f.o(d,[e])}};e.gj=function(a,b){if(b&&"function"===typeof b){var d="odbRtn_"+a;f.add(d,b);var e=c.ia.me(a);e&&e.re()&&f.o(d,[e])}};e.nh=function(a){return(a=c.ia.ne(a))?a.r("tcr",-1):null};e.Gb=function(){c.Ba.Rd()};
e.ka=function(){c.display.C();c.A.C();c.X.C();this.C();c.Ba.C();c.ua.C();c.la&&c.la.C();c.fb&&c.fb.C();c.c.nb=!1};e.mj=function(){this.ka();this.lf()};b.Bg=function(){c.A.Th();c.ua.C()};e.cf=function(a,d){a=b.Ne(a);var e=c.l[a];e.fj(d);OBR.Ea&&OBR.Ea.Sc(e);c.A.Jc(e)};e.Di=function(a,b,c,d){b&&a&&(e.Ta({link:b},null),f.o("videoClick_"+a,[{videoUrl:c,videoId:d}]))};e.Ni=function(a,b){f.add("videoClick_"+a,b)};e.j(OBR);return e}();OBR.display=OBR.display||function(){var d,a={},c;a.j=function(a){d=a=a||OBR;c=new d.I};a.pe=function(c,b){var f=d.b.$j(c),g=d.b.G(b.k);g&&(f&&0<f.length)&&(0<b.oc()?a.Zg(g,f[0],b.k):a.sf(f[0],g,b.k),d.d.log("element inserted"))};a.Zg=function(c,b,f){function g(){a.Oh(c).eb(function(c){a.Hj(c,b,f).eb(function(b){a.Yg(b)})})}var h=new d.Ja;h.eb(function(){a.$g(c).eb(g)});h.Ha()};a.$g=function(a){var b=new d.Ja,c=1,g=setInterval(function(){0.1>=c?(clearInterval(g),b.Ha(a)):(a.style.opacity=c,d.c.ze?
c=0:(a.style.filter="alpha(opacity="+100*c+")",c-=0.1*c))},10);return b};a.Oh=function(a){var b=new d.Ja;a.style.opacity=0;setTimeout(function(){b.Ha(a)},0);return b};a.Hj=function(c,b,f){var g=new d.Ja;a.sf(b,c,f);setTimeout(function(){g.Ha(c)},0);return g};a.sf=function(a,b,f){b.innerHTML="";d.b.P(a,b);c.o("afterRender",[f])};a.Yg=function(a){var b=new d.Ja,c=0.1,g=setInterval(function(){1<=c?(clearInterval(g),a.removeAttribute("style"),b.Ha(a)):(a.style.opacity=c,d.c.ze?c=1:(a.style.filter="alpha(opacity="+
100*c+")",c+=1.6*c))},50)};a.Pk=function(a){c.add("beforeRender",a)};a.Wa=function(a){c.add("afterRender",a)};a.Yh=function(a){d.b.qi(a)&&OBR.e.v(OBR.e.f.Ub,function(a){OBR.scroll.Cc(a)},this,a)};a.Wh=function(c){OBR.e.v(OBR.e.f.Qb,d.b.wa(),this);OBR.e.v(OBR.e.f.Mb,function(){a.ih(c)},this)};a.ih=function(c){a.pe(OBR.sb.Sh(c),c);OBR.sb.j()};a.Ga=function(c){d.d.log("HTML - render widget");a.pe(c.mc(),c);c.ha(!0)};a.C=function(){c.ka()};a.j(OBR);return a}();OBR.qd=OBR.qd||function(d){var a={},c=OBR,e={},b={},f="",g=null,h=null,k=null,l=!1,m=0,n="html",p=!1,r=4E3,q="nano",t=!1,u=!1,s=0,v=!1,w=null,x=null,y=null,z=null,A=!1,B;a.qk=0;a.pk=1E3;a.mk=2;a.k=d;a.qb="";a.n={};a.bh={slow:7E3,normal:5E3,fast:3E3,qa:5};a.setData=function(c){c&&c.response&&(c=c.response,c.request&&(b=c.request),c.settings&&(e=c.settings),c.html&&(f=c.html),p=!0);a.eg()};a.ie=function(){return e};a.g=function(a,b){var c;c=e[a];return"undefined"!==typeof c&&null!==c?c:b};a.eg=function(){a.Pj()};
a.Ch=function(a){var b={};return a&&(a.response&&a.response.request)&&(b=a.response.request,a=b.tcr)?a:-1};a.r=function(a,c){var d=b[a];return d?d:c};a.mc=function(){return f};a.Sj=function(b){a.wf(b.permalink);a.Uj(b.widgetId);a.Cj(b.dynLoad);a.Vj(b.widgetType);a.Tj(b.fbk);a.Dj(b.timeout);a.Lj(b.srcUrl);a.Nj(b.testMode);a.Fj(b.installationKey);a.xj(b.userId);a.Rj(b.videoId);a.Kj(b.playerSrcId);"boolean"===typeof b.isManualWidget&&a.Gj(b.isManualWidget)};a.u=function(){return g};a.Uj=function(a){g=
"string"===typeof a?a:"NA"};a.Ej=function(){n="japi"};a.sh=function(){return n};a.Uk=function(a){m=a};a.zk=function(){return m};a.ma=function(){return h};a.wf=function(a){h=a};a.le=function(){return y};a.Rj=function(a){y=a};a.ge=function(){return z};a.Kj=function(a){z=a};a.Nj=function(a){v="true"===a||!0===a};a.ke=function(){return v};a.Fj=function(a){w=a};a.xj=function(a){x=a};a.Vd=function(){return x};a.Lj=function(a){k=a};a.Fh=function(){return k};a.gi=function(){return l};a.Cj=function(a){l="true"===
a||!0===a};a.we=function(){return"flyThrough"===a.g("displayMode","")};a.Ee=function(){return"video"===a.g("displayMode","")};a.Kk=function(){return"recInIframe"===a.g("displayMode","")};a.wc=function(){return!0===a.g("stopRater",!1)||!0===a.g("stopWidget",!1)};a.re=function(){return p};a.ri=function(){return!0===a.g("isSkylandersInjectionEnabled",!1)};a.si=function(){return!0===a.g("isTopBoxInjectionEnabled",!1)};a.ti=function(){return!0===a.g("isUIExperimentsEnabled",!1)};a.Ih=function(){return q};
a.ce=function(){return w};a.Vj=function(a){"string"===typeof a&&(q=a.toLowerCase())};a.tf=function(){A=!0};a.Jj=function(a){B=a};a.Ae=function(){return B};a.ji=function(){return!!A};a.Tj=function(b){"string"===typeof b&&""!==b&&(a.qb=b)};a.te=function(){return""!==a.lc()};a.ii=function(){return!isNaN(parseInt(a.qb,10))};a.lc=function(){var b;b=parseInt(a.qb,10);return a.ii()&&"number"===typeof b&&0<=b&&10>b?OBR.b.rh(h,b):a.qb};a.Qa=function(){return t};a.ha=function(a){t=!!a};a.Hk=function(){return"hp"===
q};a.Ak=function(){return a.n};a.Vk=function(b){"object"===typeof b&&(a.n=b)};a.mi=function(){return u};a.ae=function(){return r};a.Dj=function(b){r=a.bh[b]||6E3};a.Gj=function(a){u=!!a};a.Pj=function(){var b=a.r("lsd",null),d=!0===a.r("oo",!1),e="string"===typeof b&&0<b.length,f=!0===a.g("isUseLocalStorageForUUID",!0);f&&!d&&e?c.b.Mj(b):f||c.b.Qg()};a.O=function(){return 0===s?a.k:1E3*s+a.k};a.fj=function(b){"string"===typeof b?(OBR.b.ra(OBR.b.G(a.k),"data-src",b),a.wf(b),s=0):s+=1;a.ha(!1)};a.oc=
function(){return s};return a};
OBR.Lb=OBR.Lb||function(){var d=OBR,a={},c=new d.I;a.Gd=function(a){a.idx=a.idx||0;var b=new d.qd(a.idx);b.Sj(a);return b};a.bg=function(e){var b,f,g;f=d.ia.Mg(e);d.b.ra(e,"data-dynLoad","");f.permalink=d.ia.yg(f.permalink);b=0===d.l.length&&d.c.Ua===f.permalink?1:d.l.length;f.idx=b;f=a.Gd(f);d.l[b]=f;0===b&&(g=d.b.createElement("div","ob_holder"),g.style.display="none",d.b.insertBefore(g,e),d.b.sc());e.id=d.c.Kb+b;c.o("onWidgetCreate",[f]);return f};a.Qi=function(a){c.add("onWidgetCreate",a)};return a}();
OBR.ia=OBR.ia||function(){var d=OBR,a={N:{widgetId:{a:"data-widget-id",t:"string"},permalink:{a:"data-src",t:"string"},srcUrl:{a:"data-ob-srcUrl",t:"string"},dynLoad:{a:"data-dynLoad",t:"boolean"},widgetType:{a:"data-widget-type",t:"string"},timeout:{a:"data-timeout",t:"string"},fbk:{a:"data-fbk",t:"string"},testMode:{a:"data-ob-test",t:"boolean"},installationKey:{a:"data-ob-installation-key",t:"string"},userId:{a:"data-ob-user-id",t:"string"},videoId:{a:"data-ob-video-id",t:"string"},playerSrcId:{a:"data-ob-player-src-id",
t:"string"}},ne:function(a){var e,b,f;if(d.l)for(b=d.l.length,e=0;e<b;e+=1)if((f=d.l[e])&&f.u()===a)return f;return null},me:function(a){return d.l[a]?d.l[a]:null},Ng:function(c){var d={},b;for(b in a.N)a.N.hasOwnProperty(b)&&typeof c[b]===a.N[b].t&&(d[b]=c[b]);return d},Mg:function(c){var e={},b;for(b in a.N)if(a.N.hasOwnProperty(b)){var f=d.b.tb(c,a.N[b].a);"true"===f||"false"===f?e[b]="true"===f:typeof f===a.N[b].t&&(e[b]=f)}return e},yg:function(a){if("string"!==typeof a||"null"===a)a=d.b.ee(!1);
else if(0===a.length||0===a.indexOf("DROP")||0===a.indexOf("INSERT"))a=d.b.ee(!0);return a},Kg:function(c,e){for(var b in a.N)a.N.hasOwnProperty(b)&&typeof c[b]===a.N[b].t&&d.b.ra(e,a.N[b].a,c[b])}};return a}();OBR.la=OBR.la||function(){var d={},a=OBR,c={},e=new a.I;d.ta={Tb:0,TIMEOUT:1,Pf:2,md:3};c.hg=function(a){a.te()&&(a.tf(),c.sd(a),OBR.A.Re(a,function(){c.uf(a)}),OBR.A.Se(a,function(){c.vf(a)}),OBR.h.gj(a.O(),c.Li))};d.ig=function(b){b.tf();c.sd(b);a.A.Re(b,function(){c.uf(b)});a.A.Se(b,function(){c.vf(b)});a.h.ef(a.h.Je,b.O(),b.u(),function(a,b){c.Ki(b,a)})};c.sd=function(a){a.n={reason:d.ta.Tb,dc:!1,Pe:!1,yd:0,zd:0}};c.uf=function(b){b&&b.n.reason===d.ta.Tb&&(a.d.log("ODB failed - using IronDome "),
b.n.reason=d.ta.Pf,c.Oc(b))};c.Li=function(b){clearTimeout(b.n.Gc);OBR.d.log("Editorial ODB returned for "+b.O());b.n.dc||(!0===b.g("ispartialrecs",!1)?(a.d.log("ODB partial - using IronDome "),b.n.reason=d.ta.md,c.Oc(b)):b.n.Pe=!0)};c.Oc=function(b){clearTimeout(b.n.Gc);if(b.wc())a.d.log("CDN canceled stop setting");else{var d=c.kh(b);c.Vh(d,b)}};c.kh=function(b){var c;c=a.c.sg;b=b.lc()+"_"+b.u()+"_"+b.k;return c+b};c.Vh=function(b,c){var d=a.b.K(b,!1);c.n.zd=(new Date).getTime();a.b.Q(d);a.d.log("Inject CDN call: "+
b)};c.vf=function(a){a.n.Gc=setTimeout(function(){c.Ji(a)},a.ae())};c.Ji=function(b){b.n.reason=d.ta.TIMEOUT;a.d.log("ODB Timeout - using IronDome ");c.Oc(b)};d.xd=function(b,d){var e;if(b&&b.response){OBR.d.log("Cdn response returned");e=a.ia.me(d);if(!e&&(e=a.b.nc(d),!e))return;e.n.yd=(new Date).getTime()-e.n.zd;a.A.lg(e);c.nj(e,b);c.Xh(e)}};c.nj=function(b,c){b.n.dc=!0;c.response&&c.response.request&&(c.response.request.req_id="");b.n.Pe||(b.mi()&&c.response.documents?a.h.rb(OBR.h.Bb,b.k,b.Xk,
c.response.documents):(b.setData(c),OBR.h.Ga(b.k)),b.ha(!0))};c.Xh=function(b){var c=a.b.J(b.ma()),d=b.g("irdfb","");""!==d&&(d+="&reason="+b.n.reason,d=d+("&url="+c)+("&at="+b.n.yd),d+="&to="+b.ae()||"",d+="&ir="+(b.n.dc?1:0),b=OBR.b.K(d,!1,!0),OBR.b.Q(b))};c.Ki=function(b,d){clearTimeout(e.n.Gc);var e=a.b.nc(b);d&&d.settings&&!0===d.settings.ispartialrecs?c.Sk(e):a.h.rb(a.h.Bb,b,e.u(),d.response.documents)};a.Lb.Qi(c.hg);d.C=function(){e.ka()};d.B=function(){return c};return d}();OBR.s=OBR.s||function(){var d={},a=OBR,c={height:0,width:0},e=300;d.Z=function(b){a=b};d.B=function(){var b={};b.ba=a;return b};d.he=function(){return new OBR.lb({})};d.yf=function(){var a,d,e;e={height:0,width:0};a=void 0!==window.innerWidth;d=void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth;a?(e.height=window.innerHeight,e.width=window.innerWidth):d?(e.height=document.documentElement.clientHeight,e.width=document.documentElement.clientWidth):
!1===a&&!1===d&&(e.height=document.getElementsByTagName("body")[0].clientHeight,e.width=document.getElementsByTagName("body")[0].clientWidth);c=e};d.fa=function(){return c};d.rf=function(){document&&document.body&&(e=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)))};d.Yd=function(){return e};d.$d=function(a){var c=
0;if(!a)return d.ga.gd;try{if(a.offsetParent)for(;;){c+=a.offsetTop;if(!a.offsetParent)break;a=a.offsetParent}else a.y&&(c+=a.y)}catch(e){return d.ga.gd}return parseInt(c,10)};d.qc=function(){return document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};d.ni=function(){return OBR.s.fa().height+10>=OBR.s.Yd()};OBR.b.q(window,"resize",function(){d.yf();d.rf()});d.yf();d.rf();return d}();
OBR.lb=OBR.lb||function(d){var a,c={ga:{pd:3,fd:5,kb:60,gd:1E4},M:{ld:0,za:1,hd:2,kd:3}};if(d)for(a in d)d.hasOwnProperty(a)&&(c.ga[a]=d[a]);c.pb=function(a){function b(a,b){return d.top-a<=g.height&&0<=d.bottom+b}var d=a.getBoundingClientRect(),g=OBR.s.fa(),h=c.ga.pd,k=c.ga.fd,l=c.ga.kb;a=a.clientHeight;var m=c.M.ld;b(0,0)?m=c.M.za:b(h+a/2,k+a/2)?m=c.M.hd:b(l,l)&&(m=c.M.kd);return m};c.uk=function(a){var b,d,g,h,k;b=a.getBoundingClientRect();d=OBR.s.$d(a);k=OBR.s.fa();g=k.height+OBR.s.qc();h=c.M.ld;
b=0<=b.top&&0<=b.left&&b.bottom<=k.height&&b.right<=k.width;a=d-c.ga.pd<=g&&d+a.clientHeight-c.ga.fd>=g;d=d-c.ga.kb<=g&&d>g;b?h=c.M.za:a?h=c.M.hd:d&&(h=c.M.kd);return h};return c};OBR.e.w(OBR.e.f.Qb);OBR.ua=OBR.ua||function(){var d={},a={},c=OBR,e,b=(new Date).getTime(),f,g;a.j=function(b){c=b;d.$a=null;d.Db=null;d.oa=!1;d.ib=[];d.Za=new c.lb({kb:0});d.Gk=!1;d.td=0;d.bc=0;d.ob=new c.ic;d.tc=!1;d.Nd=0;d.ve=!0;a.ea={Ye:0,Md:3,Jf:6,Hf:7,ci:8};e=c.c.ye?1500:300;g=d.Za.M.za;f=c.c.Te+"loggerServices/widgetGlobalEvent?"};d.start=function(){d.ve&&(d.ve=!1,OBR.d.log("Starting Statistics"),d.Sg(function(){d.Td()}),c.b.q(window,"scroll",d.Ge))};a.cg=function(b){OBR.d.log("Adding stats for: "+b.O());var e=
b.n;d.start();b.g("tracking",!1)?d.bb(b.O(),a.ea.Jf):b.wc()?d.bb(b.O(),a.ea.Hf):-1<b.g("recMode","").indexOf("top-box")?d.bb(b.O(),a.ea.Ye):(e&&e.reason&&e.reason!==c.la.ta.Tb?d.bb(b.O(),a.ea.ci):d.bb(b.O(),a.ea.Ye),d.jj(b),d.Ge())};d.Nh=function(b,d){if(d===a.ea.Hf||d===a.ea.Jf)return!1;var e=c.b.getElementsByClassName("ob-p",c.b.G(b));if(0<e.length)for(var f=0;f<e.length;f+=1)if(10<e[f].offsetHeight&&c.b.uc(e[f]))return!0;return!1};d.jj=function(a){a=a.O();d.ib[a]||(d.ib[a]=c.b.G(a))};d.bb=function(a,
b){d.tc?d.Ed(a,b):setTimeout(function(a,b){return function(){d.Ed(a,b)}}(a,b),e)};d.Ed=function(a,b){var c;c=d.Hd(a,b);d.mf(c)};a.Nc=function(){var b,c,e=d.ib,f=e.length||0;for(b=0;b<f;b+=1)void 0!==e[b]&&e[b]&&(c=d.Za.pb(e[b]),c===g&&a.cd(b));return null};a.cd=function(b){var c=d.Hd(b,a.ea.Md);d.mf(c);d.ib[b]=null};d.mf=function(a){OBR.d.log("Stats waiting list: "+a);d.ob.add(a);d.tc&&d.Td()};d.Td=function(){var a=c.b.Oa(),b;for(a||(a=c.b.Ma());!d.ob.ki();)b=d.ob.top(),b+="&ab="+d.bc+"&wl="+d.td,
b=c.b.K(b,!0,!1),c.b.P(b,a)};d.Ah=function(a,b){var e=a.r("pvId",""),f=e,g=0<e.length;0===b&&null===d.Db&&null===d.$a?f=g?d.Db=e:d.$a="irondome"+c.b.wb(24):e?d.$a&&(f=d.$a):f=d.Db?d.Db:d.$a;return f};d.xg=function(a,b,e){var f=c.l[a];"undefined"===typeof f.Ae()&&f.Jj(0<b?d.Nh(a,e):!1)};d.Hd=function(e,g){var l=c.l[e],m=d.Ah(l,e),n=l.r("org","0"),p=l.r("pad","0");d.xg(e,p,g);var r=l.Ae()?"1":"0",q=[];q.push(f);q.push("tm=");q.push((new Date).getTime()-b);q.push("&pid="+l.r("pid",-1));q.push("&sid="+
l.r("sid",-1));q.push("&wId="+l.r("wnid",-1));q.push("&wRV="+c.c.hb);q.push("&rId="+l.r("req_id",-1));q.push("&eT="+g);q.push("&idx="+l.k);q.push("&pvId="+m);q.push("&org="+n);q.push("&pad="+p);q.push("&pVis="+r);q.push("&eIdx=");g===a.ea.Md&&q.push(d.Nd++);return q.join("")};d.Sg=function(a){var b;if(!(0<d.bc)){b=c.b.createElement("div","ob_ad","width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important; border:none; padding: 0 0 0 0;");
b.className="text-ads text-ad-links ads";document.body.appendChild(b);var f=d.Wf();f.push(b);setTimeout(function(){d.Rg(f);d.tc=!0;a()},e)}};d.Wf=function(){for(var a=["abp_ob_exist","abp_ob_wl"],b=[],d=c.b.Ma(),e=0;e<a.length;e+=1)b.push(c.b.createElement("div",a[e],"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important; border:none; padding: 0 0 0 0;",{"class":a[e]})),b[e].innerHTML=".",c.b.P(b[e],d);return b};d.Rg=function(a){for(var b=
[],e=[],f=0;f<a.length;f+=2){var g=a[f]?!c.b.uc(a[f]):!1,p=a[f+1]?c.b.uc(a[f+1]):!1;e.push(g);g&&a.length>f+1&&b.push(p)}b.push(!1);for(f=0;f<a.length;f++)c.b.ab(a[f].id);d.td=c.b.Fd(b);d.bc=c.b.Fd(e)};d.Ge=function(){d.oa||(a.Nc(),setTimeout(function(){d.oa=!1},150),d.oa=!0)};a.C=function(){d.oa=!1;d.ib=[];d.ob=new c.ic;d.Nd=0;b=(new Date).getTime()};a.j(OBR);return a}();OBR.e.w(OBR.e.f.od);OBR.Ld=OBR.Ld||function(){var d={},a={},c=OBR;d.Z=function(a){c=a};a.Ai=function(c,b){var d=c.style;d.fontSize=a.D(b,"font-size");d.fontWeight=a.D(b,"font-weight");d.fontFamily=a.D(b,"font-family");d.lineHeight=a.D(b,"line-height");d.textTransform=a.D(b,"text-transform");var g=a.D(b,"padding-right").replace("px",""),h=a.D(b,"padding-left").replace("px","");d.display="block";d.visibility="hidden";d.width=b.clientWidth-h-g+"px"};a.ub=function(a){return a.innerText||a.textContent};a.Kf=function(c,b){for(var d=
a.ub(c),g=!1;0<b&&c.offsetHeight>b&&0<d.length;)d=d.substring(0,d.length-1),c.innerHTML=d,g=!0;a.oj(c,g);c.offsetHeight>b&&a.Kf(c,b)};a.indexOf=function(a,b){a.indexOf||"indexOf"in Array.prototype||(Array.prototype.indexOf=function(a,b){void 0===b&&(b=0);0>b&&(b+=this.length);0>b&&(b=0);for(var c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1});return a.indexOf(b)};a.Wg=function(c){var b=!1;-1<a.indexOf(".,-_' ".split(""),c.substring(c.length-1,c.length))&&(b=!0);return b};a.D=function(a,
b){var c="";document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]);return c};a.oj=function(c,b){if(b){var d=a.ub(c),d=0<d.lastIndexOf(" ")?d.substring(0,d.lastIndexOf(" ")):d.substring(0,d.length-3);a.Wg(d)&&(d=d.substring(0,d.length-1));c.innerHTML=d+"&hellip;"}};a.Jg=function(){var a=document.createElement("div");a.style.position=
"absolute";a.style.top="-1000px";a.style.left="-1000px";document.body.appendChild(a);return a};a.dk=function(d){function b(){for(var b=0;b<f.length;b++){var c=f[b];c.title=a.ub(c);var d=c.clientHeight,e=parseInt(a.D(c,"max-height").replace("px",""));if(!(d<e)){var d=c.cloneNode(!0),m=a.Jg();a.Ai(d,c);m.appendChild(d);a.Kf(d,e);c.innerHTML=a.ub(d);m.parentNode.removeChild(m)}}}var f=c.b.getElementsByClassName("ob-rec-text",d);0===c.b.getElementsByClassName("ob-touch-strip-layout",d).length?b():setTimeout(b,
1E3)};a.Tg=function(a){var b=!1;a=c.b.getElementsByClassName("ob-widget",a);0<a.length&&(a=a[0],a.attributes["data-dynamic-truncate"]&&"true"===a.attributes["data-dynamic-truncate"].value&&(b=!0));return b};d.Kh=function(d){(d=c.b.G(d))&&a.Tg(d)&&function(b){setTimeout(function(){a.dk(b)},500)}(d)};return d}();OBR.extern=OBR.extern||function(){var d=OBR,a={getStat:function(){},showDescription:function(a,e){d.e.v(OBR.e.f.Pb,function(){OBR.We.xi(a,e)},this)},returnedHtmlData:function(a,e){d.h.Fc(a,e)},returnedIrdData:function(a,e){d.la.xd(a,e)},returnedJsonData:function(a,e){d.h.Oe(a,e)},returnedError:function(a){OBR.d.log("Call made using extern class");d.d.log("Callback error"+a)},callRecs:function(a,e){OBR.d.log("Call made using extern class");d.h.Ac(a,e)},callClick:function(a,e){OBR.d.log("Call made using extern class");
d.h.Ta(a,e)},callWhatIs:function(a,d,b,f,g,h){OBR.e.v(OBR.e.f.mb,function(){OBR.bd.wd(a,d,b,f,g,h)},this);return!1},callUserZapping:function(a,d,b,f,g){OBR.e.v(OBR.e.f.Yb,function(){OBR.$c.ng(a,d,b,f,g)},this);return!1},zappingFormAction:function(a,d,b,f,g){OBR.$c.Nf(a,d,b,f,g);return!1},userZappingMessage:function(a){OBR.d.log(a.message)},recClicked:function(a,e){OBR.d.log("Call made using extern class");d.h.$e(a,e)},imageError:function(a){OBR.d.log("Call made using extern class");d.b.Bd(a)},showRecInIframe:function(a,
e,b,f,g){d.e.v(d.e.f.Rb,function(){d.af.Wj(a,e,b,f,g)},this)},onVideoClick:function(a,e){d.h.Ni(a,e)},manualVideoClicked:function(a,e,b,f){d.h.Di(a,e,b,f)},errorInjectionHandler:function(a){OBR.l[a].yk(a)},reloadWidget:function(){OBR.d.log("reload widget");d.h.mj()},researchWidget:function(){OBR.d.log("research widget");d.h.Gb()},cancelRecommendation:function(a){OBR.d.log("cancel recommendation with bocr "+a);d.h.pg(a)},cancelRecs:function(a,e,b){OBR.d.log("cancel recommendation by doc url "+a+" publisher id = "+
e+" isAd = "+b);d.h.qg(a,e,b)},refreshWidget:function(a){OBR.d.log("refresh widget");d.h.Ea(a)},refreshSpecificWidget:function(a,e){OBR.d.log("refresh SPECIFIC widget");"string"!==typeof e?d.e.v(d.e.f.Sb,function(){OBR.h.cf(a,e)},this):OBR.h.cf(a,e)},getCountOfRecs:function(a){return d.h.nh(a)},onOdbReturn:function(a,e){d.h.hj(a,e)},closeCard:function(){d.sb.Dg()},closeModal:function(){try{d.modal.hideModal()}catch(a){}},scrollLoad:function(){try{OBR.e.w(OBR.e.f.Vb)}catch(a){}},pagerLoad:function(){try{OBR.e.w(OBR.e.f.Ob)}catch(a){}},
callLoadMore:function(a,d){OBR.e.v(OBR.e.f.jb,function(){OBR.yc.qe(d)},this)},closeTbx:function(){OBR.fb.Eg()},video:{}};a.video.getVideoRecs=function(a,d,b,f,g,h){OBR.e.v(OBR.e.f.Zb,function(){OBR.ad.Hh(a,d,b,f,g,h)},this)};a.video.videoClicked=function(a){OBR.ad.ik(a)};return a}();window.outbrain=window.outbrain||{};window.outbrain.returnedHtmlData=function(d,a){OBR.h.Fc(d,a)};window.outbrain.returnedIrdJsonData=function(d,a){OBR.la.xd(d,a)};
window.outbrain.returnedJsonData=function(d,a){OBR.h.Oe(d,a)};window.outbrain.returnedError=function(d){OBR.d.log("Callback error"+d)};window.outbrain.callRecs=function(d,a){OBR.h.Ac(d,a)};window.outbrain.callClick=function(d,a){OBR.h.Ta(d,a)};window.outbrain.callWhatIs=function(d,a,c,e,b,f){OBR.e.v(OBR.e.f.mb,function(){OBR.bd.wd(d,a,c,e,b,f)},this)};window.outbrain.callLoadMore=function(d,a){OBR.e.v(OBR.e.f.jb,function(){OBR.yc.qe(a)},this)};window.outbrain.recClicked=function(d,a){OBR.h.$e(d,a)};
window.outbrain.imageError=function(d){OBR.b.Bd(d)};window.outbrain.closeModal=function(){try{OBR.modal.hideModal()}catch(d){}};window.outbrain_rater=window.outbrain_rater||{};window.outbrain_rater.returnedHtmlData=function(d,a){OBR.h.Fc(d,a)};window.outbrain_rater.returnedCancelOdbData=function(d){OBR.h.rj(d)};!0===OBR.c.ue&&(OBR.d.log("Widget Start!"),OBR.c.ue=!1,"boolean"===typeof window.OB_PASSIVE_MODE&&!0===window.OB_PASSIVE_MODE?OBR.d.log("passive"):OBR.h.lf());})(window.OBR);
/* end file: outbrain*/
/* file: tracking :  : /cn/runtime/wired-wp/wordpress/wp-content/themes/Phoenix/assets/js/dist/track.min.js */!function(e,t){"use strict";if(t.tracking=function(){var t=function(t,n){return COMSCORE.beacon({c1:"2",c2:"6035094",c4:document.location.href,c5:n,c8:e("title").text()})},n=function(e,t,n){if("string"!=typeof t)throw new TypeError("prop32 should be a string");return n?CN.stats.omniture.setPaginationValue(t).trackAjaxPage():CN.stats.omniture.setPaginationValue(t)},r=function(e,t){if("string"!=typeof t)throw new TypeError("contentType needs to be a string");return CN.stats.omniture.setContentType(t)},o=function(){return s.linkTrackVars="prop39,eVar3,eVar5,eVar6,eVar7,eVar10,events",s.linkTrackEvents="event12",s.events="event12",s.tl(!0,"o","Article Bottom",null),s.events="",s.eVar10="",!0},a=function(){return s.linkTrackVars="prop39,eVar3,eVar5,eVar6,eVar7,eVar10,events",s.linkTrackEvents="event11",s.events="event11",s.tl(!0,"o","Newsletter Signup",null),s.events="",s.eVar10="",!0};return{beacon:t,setPaginationValue:n,setContentType:r,sendArticleBottomEvent:o,sendNewsletterEvent:a}}(),"undefined"!=typeof CN.stats){try{jQuery(document).on("paginationValue",function(e,n,r){return t.tracking.setPaginationValue(e,n,r)})}catch(n){console.error("Failed to set listener on paginationValue because of: ",n)}try{jQuery(document).on("contentType",function(e,n){return t.tracking.setContentType(e,n)})}catch(n){console.error("Failed to set listener on setCustomProp because of: ",n)}try{jQuery(document).on("articleBottom",function(e){return t.tracking.sendArticleBottomEvent(e)})}catch(n){console.error("Failed to set listener on articleBottom because of: ",n)}try{jQuery(document).on("newsletterSubmit",function(e){return t.tracking.sendNewsletterEvent(e)})}catch(n){console.error("Failed to set listener sendNewsletterEvent because of: ",n)}}if("undefined"!=typeof COMSCORE)try{jQuery(document).on("theBeacon",function(e,n){return t.tracking.beacon(e,n)})}catch(n){console.error("We failed to alert the beacon because of: ",n)}}(jQuery,{});/* end file: tracking*/
/* file: wired :  : /cn/runtime/wired-wp/wordpress/wp-content/themes/Phoenix/assets/js/dist/app.min.js */(function($, raf, W){
"use strict";
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,n){var o,s,r,a=this;if(a.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button" data-role="none">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},a.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},e.extend(a,a.initials),a.activeBreakpoint=null,a.animType=null,a.animProp=null,a.breakpoints=[],a.breakpointSettings=[],a.cssTransitions=!1,a.hidden="hidden",a.paused=!1,a.positionProp=null,a.respondTo=null,a.shouldClick=!0,a.$slider=e(t),a.$slidesCache=null,a.transformType=null,a.transitionType=null,a.visibilityChange="visibilitychange",a.windowWidth=0,a.windowTimer=null,o=e(t).data("slick")||{},a.options=e.extend({},a.defaults,o,n),a.currentSlide=a.options.initialSlide,a.originalSettings=a.options,s=a.options.responsive||null,s&&s.length>-1){a.respondTo=a.options.respondTo||"window";for(r in s)s.hasOwnProperty(r)&&(a.breakpoints.push(s[r].breakpoint),a.breakpointSettings[s[r].breakpoint]=s[r].settings);a.breakpoints.sort(function(e,t){return a.options.mobileFirst===!0?e-t:t-e})}"undefined"!=typeof document.mozHidden?(a.hidden="mozHidden",a.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(a.hidden="msHidden",a.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(a.hidden="webkitHidden",a.visibilityChange="webkitvisibilitychange"),a.autoPlay=e.proxy(a.autoPlay,a),a.autoPlayClear=e.proxy(a.autoPlayClear,a),a.changeSlide=e.proxy(a.changeSlide,a),a.clickHandler=e.proxy(a.clickHandler,a),a.selectHandler=e.proxy(a.selectHandler,a),a.setPosition=e.proxy(a.setPosition,a),a.swipeHandler=e.proxy(a.swipeHandler,a),a.dragHandler=e.proxy(a.dragHandler,a),a.keyHandler=e.proxy(a.keyHandler,a),a.autoPlayIterator=e.proxy(a.autoPlayIterator,a),a.instanceUid=i++,a.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,a.init(),a.checkResponsive(!0)}var i=0;return t}(),t.prototype.addSlide=t.prototype.slickAdd=function(t,i,n){var o=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=o.slideCount)return!1;o.unload(),"number"==typeof i?0===i&&0===o.$slides.length?e(t).appendTo(o.$slideTrack):n?e(t).insertBefore(o.$slides.eq(i)):e(t).insertAfter(o.$slides.eq(i)):n===!0?e(t).prependTo(o.$slideTrack):e(t).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),o.$slidesCache=o.$slides,o.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var n={},o=this;o.animateHeight(),o.options.rtl===!0&&o.options.vertical===!1&&(t=-t),o.transformsEnabled===!1?o.options.vertical===!1?o.$slideTrack.animate({left:t},o.options.speed,o.options.easing,i):o.$slideTrack.animate({top:t},o.options.speed,o.options.easing,i):o.cssTransitions===!1?(o.options.rtl===!0&&(o.currentLeft=-o.currentLeft),e({animStart:o.currentLeft}).animate({animStart:t},{duration:o.options.speed,easing:o.options.easing,step:function(e){e=Math.ceil(e),o.options.vertical===!1?(n[o.animType]="translate("+e+"px, 0px)",o.$slideTrack.css(n)):(n[o.animType]="translate(0px,"+e+"px)",o.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(o.applyTransition(),t=Math.ceil(t),n[o.animType]=o.options.vertical===!1?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",o.$slideTrack.css(n),i&&setTimeout(function(){o.disableTransition(),i.call()},o.options.speed))},t.prototype.asNavFor=function(t){var i=this,n=null!==i.options.asNavFor?e(i.options.asNavFor).slick("getSlick"):null;null!==n&&n.slideHandler(t,!0)},t.prototype.applyTransition=function(e){var t=this,i={};i[t.transitionType]=t.options.fade===!1?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&e.paused!==!0&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this;e.options.infinite===!1?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(0===e.currentSlide-1&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll)},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow=e(t.options.prevArrow),t.$nextArrow=e(t.options.nextArrow),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.appendTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled"))},t.prototype.buildDots=function(){var t,i,n=this;if(n.options.dots===!0&&n.slideCount>n.options.slidesToShow){for(i='<ul class="'+n.options.dotsClass+'">',t=0;t<=n.getDotCount();t+=1)i+="<li>"+n.options.customPaging.call(this,n,t)+"</li>";i+="</ul>",n.$dots=e(i).appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),t.$slidesCache=t.$slides,t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),(t.options.centerMode===!0||t.options.swipeToSlide===!0)&&(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.options.accessibility===!0&&t.$list.prop("tabIndex",0),t.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.checkResponsive=function(t){var i,n,o,s=this,r=s.$slider.width(),a=window.innerWidth||e(window).width();if("window"===s.respondTo?o=a:"slider"===s.respondTo?o=r:"min"===s.respondTo&&(o=Math.min(a,r)),s.originalSettings.responsive&&s.originalSettings.responsive.length>-1&&null!==s.originalSettings.responsive){n=null;for(i in s.breakpoints)s.breakpoints.hasOwnProperty(i)&&(s.originalSettings.mobileFirst===!1?o<s.breakpoints[i]&&(n=s.breakpoints[i]):o>s.breakpoints[i]&&(n=s.breakpoints[i]));null!==n?null!==s.activeBreakpoint?n!==s.activeBreakpoint&&(s.activeBreakpoint=n,"unslick"===s.breakpointSettings[n]?s.unslick():(s.options=e.extend({},s.originalSettings,s.breakpointSettings[n]),t===!0&&(s.currentSlide=s.options.initialSlide),s.refresh())):(s.activeBreakpoint=n,"unslick"===s.breakpointSettings[n]?s.unslick():(s.options=e.extend({},s.originalSettings,s.breakpointSettings[n]),t===!0&&(s.currentSlide=s.options.initialSlide),s.refresh())):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,t===!0&&(s.currentSlide=s.options.initialSlide),s.refresh())}},t.prototype.changeSlide=function(t,i){var n,o,s,r=this,a=e(t.target);switch(a.is("a")&&t.preventDefault(),s=0!==r.slideCount%r.options.slidesToScroll,n=s?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,t.data.message){case"previous":o=0===n?r.options.slidesToScroll:r.options.slidesToShow-n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-o,!1,i);break;case"next":o=0===n?r.options.slidesToScroll:n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+o,!1,i);break;case"index":var l=0===t.data.index?0:t.data.index||e(t.target).parent().index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(l),!1,i);break;default:return}},t.prototype.checkNavigable=function(e){var t,i,n=this;if(t=n.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var o in t){if(e<t[o]){e=i;break}i=t[o]}return e},t.prototype.clickHandler=function(e){var t=this;t.shouldClick===!1&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(){var t=this;t.autoPlayClear(),t.touchObject={},e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&"object"!=typeof t.options.prevArrow&&t.$prevArrow.remove(),t.$nextArrow&&"object"!=typeof t.options.nextArrow&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-center slick-visible").removeAttr("data-slick-index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$list.off(".slick"),e(window).off(".slick-"+t.instanceUid),e(document).off(".slick-"+t.instanceUid),t.$slider.html(t.$slides)},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(e).css({zIndex:1e3}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(e.options.infinite===!0)n=Math.ceil(e.slideCount/e.options.slidesToScroll);else if(e.options.centerMode===!0)n=e.slideCount;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n-1},t.prototype.getLeft=function(e){var t,i,n,o=this,s=0;return o.slideOffset=0,i=o.$slides.first().outerHeight(),o.options.infinite===!0?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=-1*o.slideWidth*o.options.slidesToShow,s=-1*i*o.options.slidesToShow),0!==o.slideCount%o.options.slidesToScroll&&e+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(e>o.slideCount?(o.slideOffset=-1*(o.options.slidesToShow-(e-o.slideCount))*o.slideWidth,s=-1*(o.options.slidesToShow-(e-o.slideCount))*i):(o.slideOffset=-1*o.slideCount%o.options.slidesToScroll*o.slideWidth,s=-1*o.slideCount%o.options.slidesToScroll*i))):e+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(e+o.options.slidesToShow-o.slideCount)*o.slideWidth,s=(e+o.options.slidesToShow-o.slideCount)*i),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,s=0),o.options.centerMode===!0&&o.options.infinite===!0?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:o.options.centerMode===!0&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),t=o.options.vertical===!1?-1*e*o.slideWidth+o.slideOffset:-1*e*i+s,o.options.variableWidth===!0&&(n=o.$slideTrack.children(".slick-slide").eq(o.slideCount<=o.options.slidesToShow||o.options.infinite===!1?e:e+o.options.slidesToShow),t=n[0]?-1*n[0].offsetLeft:0,o.options.centerMode===!0&&(n=o.$slideTrack.children(".slick-slide").eq(o.options.infinite===!1?e:e+o.options.slidesToShow+1),t=n[0]?-1*n[0].offsetLeft:0,t+=(o.$list.width()-n.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){var t=this;return t.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,o=[];for(t.options.infinite===!1?(e=t.slideCount-t.options.slidesToShow+1,t.options.centerMode===!0&&(e=t.slideCount)):(i=-1*t.slideCount,n=-1*t.slideCount,e=2*t.slideCount);e>i;)o.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,n,o=this;return n=o.options.centerMode===!0?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,o.options.swipeToSlide===!0?(o.$slideTrack.find(".slick-slide").each(function(t,s){return s.offsetLeft-n+e(s).outerWidth()/2>-1*o.swipeLeft?(i=s,!1):void 0}),t=Math.abs(e(i).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){var i=this;i.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(){var t=this;e(t.$slider).hasClass("slick-initialized")||(e(t.$slider).addClass("slick-initialized"),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots()),t.$slider.trigger("init",[t])},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&e("li",t.$dots).on("mouseenter.slick",function(){t.paused=!0,t.autoPlayClear()}).on("mouseleave.slick",function(){t.paused=!1,t.autoPlay()})},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),t.options.autoplay===!0&&(e(document).on(t.visibilityChange,function(){t.visibility()}),t.options.pauseOnHover===!0&&(t.$list.on("mouseenter.slick",function(){t.paused=!0,t.autoPlayClear()}),t.$list.on("mouseleave.slick",function(){t.paused=!1,t.autoPlay()}))),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,function(){t.checkResponsive(),t.setPosition()}),e(window).on("resize.slick.slick-"+t.instanceUid,function(){e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.setPosition()},50))}),e("*[draggable!=true]",t.$slideTrack).on("dragstart",function(e){e.preventDefault()}),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),e.options.autoplay===!0&&e.autoPlay()},t.prototype.keyHandler=function(e){var t=this;37===e.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:"previous"}}):39===e.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:"next"}})},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy");t.load(function(){t.animate({opacity:1},200)}).css({opacity:0}).attr("src",i).removeAttr("data-lazy").removeClass("slick-loading")})}var i,n,o,s,r=this;r.options.centerMode===!0?r.options.infinite===!0?(o=r.currentSlide+(r.options.slidesToShow/2+1),s=o+r.options.slidesToShow+2):(o=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),s=2+(r.options.slidesToShow/2+1)+r.currentSlide):(o=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,s=o+r.options.slidesToShow,r.options.fade===!0&&(o>0&&o--,s<=r.slideCount&&s++)),i=r.$slider.find(".slick-slide").slice(o,s),t(i),r.slideCount<=r.options.slidesToShow?(n=r.$slider.find(".slick-slide"),t(n)):r.currentSlide>=r.slideCount-r.options.slidesToShow?(n=r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow),t(n)):0===r.currentSlide&&(n=r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow),t(n))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){var e=this;e.changeSlide({data:{message:"next"}})},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.paused=!1,e.autoPlay()},t.prototype.postSlide=function(e){var t=this;t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay===!0&&t.paused===!1&&t.autoPlay()},t.prototype.prev=t.prototype.slickPrev=function(){var e=this;e.changeSlide({data:{message:"previous"}})},t.prototype.progressiveLazyLoad=function(){var t,i,n=this;t=e("img[data-lazy]",n.$slider).length,t>0&&(i=e("img[data-lazy]",n.$slider).first(),i.attr("src",i.attr("data-lazy")).removeClass("slick-loading").load(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad()}).error(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad()}))},t.prototype.refresh=function(){var t=this,i=t.currentSlide;t.destroy(),e.extend(t,t.initials),t.init(),t.changeSlide({data:{message:"index",index:i}},!0)},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses(0),t.setPosition(),t.$slider.trigger("reInit",[t])},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var n=this;return"boolean"==typeof e?(t=e,e=t===!0?0:n.slideCount-1):e=t===!0?--e:e,n.slideCount<1||0>e||e>n.slideCount-1?!1:(n.unload(),i===!0?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,void n.reinit())},t.prototype.setCSS=function(e){var t,i,n=this,o={};n.options.rtl===!0&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",o[n.positionProp]=e,n.transformsEnabled===!1?n.$slideTrack.css(o):(o={},n.cssTransitions===!1?(o[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(o)):(o[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(o)))},t.prototype.setDimensions=function(){var e=this;if(e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1&&e.options.variableWidth===!1)e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length));else if(e.options.variableWidth===!0){var t=0;e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.children(".slick-slide").each(function(){t+=e.listWidth}),e.$slideTrack.width(Math.ceil(t)+1)}else e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length));var i=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.options.variableWidth===!1&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-i)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,o){t=-1*i.slideWidth*n,e(o).css(i.options.rtl===!0?{position:"relative",right:t,top:0,zIndex:800,opacity:0}:{position:"relative",left:t,top:0,zIndex:800,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:900,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(e,t,i){var n=this;n.options[e]=t,i===!0&&(n.unload(),n.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&e.options.useCSS===!0&&(e.cssTransitions=!0),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&e.animType!==!1&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&e.animType!==!1},t.prototype.setSlideClasses=function(e){var t,i,n,o,s=this;s.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),i=s.$slider.find(".slick-slide"),s.options.centerMode===!0?(t=Math.floor(s.options.slidesToShow/2),s.options.infinite===!0&&(e>=t&&e<=s.slideCount-1-t?s.$slides.slice(e-t,e+t+1).addClass("slick-active"):(n=s.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active")),0===e?i.eq(i.length-1-s.options.slidesToShow).addClass("slick-center"):e===s.slideCount-1&&i.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(e).addClass("slick-center")):e>=0&&e<=s.slideCount-s.options.slidesToShow?s.$slides.slice(e,e+s.options.slidesToShow).addClass("slick-active"):i.length<=s.options.slidesToShow?i.addClass("slick-active"):(o=s.slideCount%s.options.slidesToShow,n=s.options.infinite===!0?s.options.slidesToShow+e:e,s.options.slidesToShow==s.options.slidesToScroll&&s.slideCount-e<s.options.slidesToShow?i.slice(n-(s.options.slidesToShow-o),n+o).addClass("slick-active"):i.slice(n,n+s.options.slidesToShow).addClass("slick-active")),"ondemand"===s.options.lazyLoad&&s.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,o=this;if(o.options.fade===!0&&(o.options.centerMode=!1),o.options.infinite===!0&&o.options.fade===!1&&(i=null,o.slideCount>o.options.slidesToShow)){for(n=o.options.centerMode===!0?o.options.slidesToShow+1:o.options.slidesToShow,t=o.slideCount;t>o.slideCount-n;t-=1)i=t-1,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(t=0;n>t;t+=1)i=t,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.selectHandler=function(t){var i=this,n=parseInt(e(t.target).parents(".slick-slide").attr("data-slick-index"));return n||(n=0),i.slideCount<=i.options.slidesToShow?(i.$slider.find(".slick-slide").removeClass("slick-active"),i.$slides.eq(n).addClass("slick-active"),i.options.centerMode===!0&&(i.$slider.find(".slick-slide").removeClass("slick-center"),i.$slides.eq(n).addClass("slick-center")),void i.asNavFor(n)):void i.slideHandler(n)},t.prototype.slideHandler=function(e,t,i){var n,o,s,r,a=null,l=this;return t=t||!1,l.animating===!0&&l.options.waitForAnimate===!0||l.options.fade===!0&&l.currentSlide===e||l.slideCount<=l.options.slidesToShow?void 0:(t===!1&&l.asNavFor(e),n=e,a=l.getLeft(n),r=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?r:l.swipeLeft,l.options.infinite===!1&&l.options.centerMode===!1&&(0>e||e>l.getDotCount()*l.options.slidesToScroll)?void(l.options.fade===!1&&(n=l.currentSlide,i!==!0?l.animateSlide(r,function(){l.postSlide(n)}):l.postSlide(n))):l.options.infinite===!1&&l.options.centerMode===!0&&(0>e||e>l.slideCount-l.options.slidesToScroll)?void(l.options.fade===!1&&(n=l.currentSlide,i!==!0?l.animateSlide(r,function(){l.postSlide(n)}):l.postSlide(n))):(l.options.autoplay===!0&&clearInterval(l.autoPlayTimer),o=0>n?0!==l.slideCount%l.options.slidesToScroll?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+n:n>=l.slideCount?0!==l.slideCount%l.options.slidesToScroll?0:n-l.slideCount:n,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,o]),s=l.currentSlide,l.currentSlide=o,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),l.options.fade===!0?(i!==!0?l.fadeSlide(o,function(){l.postSlide(o)}):l.postSlide(o),void l.animateHeight()):void(i!==!0?l.animateSlide(a,function(){l.postSlide(o)}):l.postSlide(o))))},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,n,o=this;return e=o.touchObject.startX-o.touchObject.curX,t=o.touchObject.startY-o.touchObject.curY,i=Math.atan2(t,e),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?o.options.rtl===!1?"left":"right":360>=n&&n>=315?o.options.rtl===!1?"left":"right":n>=135&&225>=n?o.options.rtl===!1?"right":"left":"vertical"},t.prototype.swipeEnd=function(){var e,t=this;if(t.dragging=!1,t.shouldClick=t.touchObject.swipeLength>10?!1:!0,void 0===t.touchObject.curX)return!1;if(t.touchObject.edgeHit===!0&&t.$slider.trigger("edge",[t,t.swipeDirection()]),t.touchObject.swipeLength>=t.touchObject.minSwipe)switch(t.swipeDirection()){case"left":e=t.options.swipeToSlide?t.checkNavigable(t.currentSlide+t.getSlideCount()):t.currentSlide+t.getSlideCount(),t.slideHandler(e),t.currentDirection=0,t.touchObject={},t.$slider.trigger("swipe",[t,"left"]);break;case"right":e=t.options.swipeToSlide?t.checkNavigable(t.currentSlide-t.getSlideCount()):t.currentSlide-t.getSlideCount(),t.slideHandler(e),t.currentDirection=1,t.touchObject={},t.$slider.trigger("swipe",[t,"right"])}else t.touchObject.startX!==t.touchObject.curX&&(t.slideHandler(t.currentSlide),t.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,o,s,r=this;return s=void 0!==e.originalEvent?e.originalEvent.touches:null,!r.dragging||s&&1!==s.length?!1:(t=r.getLeft(r.currentSlide),r.touchObject.curX=void 0!==s?s[0].pageX:e.clientX,r.touchObject.curY=void 0!==s?s[0].pageY:e.clientY,r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curX-r.touchObject.startX,2))),i=r.swipeDirection(),"vertical"!==i?(void 0!==e.originalEvent&&r.touchObject.swipeLength>4&&e.preventDefault(),o=(r.options.rtl===!1?1:-1)*(r.touchObject.curX>r.touchObject.startX?1:-1),n=r.touchObject.swipeLength,r.touchObject.edgeHit=!1,r.options.infinite===!1&&(0===r.currentSlide&&"right"===i||r.currentSlide>=r.getDotCount()&&"left"===i)&&(n=r.touchObject.swipeLength*r.options.edgeFriction,r.touchObject.edgeHit=!0),r.swipeLeft=r.options.vertical===!1?t+n*o:t+n*(r.$list.height()/r.listWidth)*o,r.options.fade===!0||r.options.touchMove===!1?!1:r.animating===!0?(r.swipeLeft=null,!1):void r.setCSS(r.swipeLeft)):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(i.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&"object"!=typeof t.options.prevArrow&&t.$prevArrow.remove(),t.$nextArrow&&"object"!=typeof t.options.nextArrow&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible").css("width","")},t.prototype.unslick=function(){var e=this;e.destroy()},t.prototype.updateArrows=function(){var e,t=this;e=Math.floor(t.options.slidesToShow/2),t.options.arrows===!0&&t.options.infinite!==!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.removeClass("slick-disabled"),t.$nextArrow.removeClass("slick-disabled"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled"),t.$nextArrow.removeClass("slick-disabled")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&t.options.centerMode===!1?(t.$nextArrow.addClass("slick-disabled"),t.$prevArrow.removeClass("slick-disabled")):t.currentSlide>=t.slideCount-1&&t.options.centerMode===!0&&(t.$nextArrow.addClass("slick-disabled"),t.$prevArrow.removeClass("slick-disabled")))
},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},t.prototype.visibility=function(){var e=this;document[e.hidden]?(e.paused=!0,e.autoPlayClear()):(e.paused=!1,e.autoPlay())},e.fn.slick=function(){var e,i=this,n=arguments[0],o=Array.prototype.slice.call(arguments,1),s=i.length,r=0;for(r;s>r;r++)if("object"==typeof n||"undefined"==typeof n?i[r].slick=new t(i[r],n):e=i[r].slick[n].apply(i[r].slick,o),"undefined"!=typeof e)return e;return i},e(function(){e("[data-slick]").slick()})}),function(){function e(e){return"function"==typeof e||!1}function t(e){return e&&"object"==typeof e||!1}function i(){}function n(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}function o(e,t){for(var i=-1,n=e.length;++i<n&&!1!==t(e[i],i,e););return e}function s(e,t){for(var i=-1,n=e.length,o=-1,s=[];++i<n;){var r=e[i];t(r,i,e)&&(s[++o]=r)}return s}function r(e,t,i){i||(i=t,t={});for(var n=-1,o=i.length;++n<o;){var s=i[n];t[s]=e[s]}return t}function a(e,t,n){var o=typeof e;if("function"==o){if(o="undefined"!=typeof t){var o=i.support,s=!(o.funcNames?e.name:o.funcDecomp);if(!s){var r=Mt.call(e);o.funcNames||(s=!ft.test(r)),s||(s=vt.test(r)||P(e),ti(e,s))}o=s}e=o?g(e,t,n):e}else e=null==e?z:"object"==o?f(e):"undefined"==typeof t?m(e+""):h(e+"",t);return e}function l(e,t,i,s,a,c,d){var p;if(i&&(p=a?i(e,s,a):i(e)),"undefined"!=typeof p)return p;if(!j(e))return e;if(s=ni(e)){if(p=T(e),!t)return n(e,p)}else{var f=Pt.call(e),h=f==K;if(f!=Z&&f!=Y&&(!h||a))return bt[f]?C(e,f,t):a?e:{};if(xt(e))return a?e:{};if(p=k(h?{}:e),!t)return r(e,p,si(e))}for(c||(c=[]),d||(d=[]),a=c.length;a--;)if(c[a]==e)return d[a];return c.push(e),d.push(p),(s?o:u)(e,function(n,o){p[o]=l(n,t,i,o,e,c,d)}),p}function c(e,t){var i=e?e.length:0;if(!W(i))return u(e,t);for(var n=-1,o=x(e);++n<i&&!1!==t(o[n],n,o););return e}function d(e,t){var i=[];return c(e,function(e,n,o){t(e,n,o)&&i.push(e)}),i}function u(e,t){for(var i=si,n=-1,o=x(e),i=i(e),s=i.length;++n<s;){var r=i[n];if(!1===t(o[r],r,o))break}return e}function p(e,t,i,n,o,s){if(e===t)return 0!==e||1/e==1/t;var r=typeof e,a=typeof t;if("function"!=r&&"object"!=r&&"function"!=a&&"object"!=a||null==e||null==t)e=e!==e&&t!==t;else e:{var r=p,a=ni(e),l=ni(t),c=U,d=U;a||(c=Pt.call(e),c==Y?c=Z:c!=Z&&(a=H(e))),l||(d=Pt.call(t),d==Y?d=Z:d!=Z&&H(t));var u=c==Z&&!xt(e),l=d==Z&&!xt(t),d=c==d;if(!d||a||u)if(c=u&&jt.call(e,"__wrapped__"),l=l&&jt.call(t,"__wrapped__"),c||l)e=r(c?e.value():e,l?t.value():t,i,n,o,s);else if(d){for(o||(o=[]),s||(s=[]),c=o.length;c--;)if(o[c]==e){e=s[c]==t;break e}o.push(e),s.push(t),e=(a?y:b)(e,t,r,i,n,o,s),o.pop(),s.pop()}else e=!1;else e=w(e,t,c)}return e}function f(e){var t=si(e),i=t.length;if(1==i){var n=t[0],o=e[n];if($(o))return function(e){return null!=e&&e[n]===o&&jt.call(e,n)}}for(var s=Array(i),r=Array(i);i--;)o=e[t[i]],s[i]=o,r[i]=$(o);return function(e){e:{var i=t.length;if(null==e)e=!i;else{for(var n=-1;++n<i;)if(r[n]?s[n]!==e[t[n]]:!jt.call(e,t[n])){e=!1;break e}for(n=-1;++n<i;){var o=t[n];if(r[n])o=jt.call(e,o);else{var a=e[o],l=s[n],o=B;"undefined"==typeof o&&(o=p(l,a,void 0,!0))}if(!o){e=!1;break e}}e=!0}}return e}}function h(e,t){return $(t)?function(i){return null!=i&&i[e]===t}:function(i){return null!=i&&p(t,i[e],null,!0)}}function m(e){return function(t){return null==t?B:t[e]}}function g(e,t,i){if("function"!=typeof e)return z;if("undefined"==typeof t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,n,o){return e.call(t,i,n,o)};case 4:return function(i,n,o,s){return e.call(t,i,n,o,s)};case 5:return function(i,n,o,s,r){return e.call(t,i,n,o,s,r)}}return function(){return e.apply(t,arguments)}}function v(e){return Rt.call(e,0)}function y(e,t,i,n,o,s,r){var a=-1,l=e.length,c=t.length,d=!0;if(l!=c&&(!o||l>=c))return!1;for(;d&&++a<l;){var u=e[a],p=t[a],d=B;if(n&&(d=o?n(p,u,a):n(u,p,a)),"undefined"==typeof d)if(o)for(var f=c;f--&&(p=t[f],!(d=u&&u===p||i(u,p,n,o,s,r))););else d=u&&u===p||i(u,p,n,o,s,r)}return!!d}function w(e,t,i){switch(i){case X:case V:return+e==+t;case Q:return e.name==t.name&&e.message==t.message;case J:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case et:case tt:return e==t+""}return!1}function b(e,t,i,n,o,s,r){var a=si(e),l=a.length,c=si(t).length;if(l!=c&&!o)return!1;for(var d,c=-1;++c<l;){var u=a[c],p=jt.call(t,u);if(p){var f=e[u],h=t[u],p=B;n&&(p=o?n(h,f,u):n(f,h,u)),"undefined"==typeof p&&(p=f&&f===h||i(f,h,n,o,s,r))}if(!p)return!1;d||(d="constructor"==u)}return d||(i=e.constructor,n=t.constructor,!(i!=n&&"constructor"in e&&"constructor"in t)||"function"==typeof i&&i instanceof i&&"function"==typeof n&&n instanceof n)?!0:!1}function T(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&jt.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function k(e){return e=e.constructor,"function"==typeof e&&e instanceof e||(e=Object),new e}function C(e,t,i){var n=e.constructor;switch(t){case it:return v(e);case X:case V:return new n(+e);case nt:case ot:case st:case rt:case at:case lt:case ct:case dt:case ut:return n instanceof n&&(n=Jt[t]),t=e.buffer,new n(i?v(t):t,e.byteOffset,e.length);case J:case tt:return new n(e);case et:var o=new n(e.source,pt.exec(e));o.lastIndex=e.lastIndex}return o}function S(e,t){return e=+e,t=null==t?Qt:t,e>-1&&0==e%1&&t>e}function W(e){return"number"==typeof e&&e>-1&&0==e%1&&Qt>=e}function $(e){return e===e&&(0===e?1/e>0:!j(e))}function E(e){for(var t=R(e),n=t.length,o=n&&e.length,s=i.support,s=o&&W(o)&&(ni(e)||s.nonEnumStrings&&I(e)||s.nonEnumArgs&&M(e)),r=-1,a=[];++r<n;){var l=t[r];(s&&S(l,o)||jt.call(e,l))&&a.push(l)}return a}function x(e){if(i.support.unindexedChars&&I(e)){for(var t=-1,n=e.length,o=Object(e);++t<n;)o[t]=e.charAt(t);return o}return j(e)?e:Object(e)}function A(e,t,n){var o=ni(e)?s:d,r=i.callback||D,r=r===D?a:r;return t=r(t,n,3),o(e,t)}function L(e,t,i){return"function"==typeof t&&"undefined"==typeof i&&ni(e)?o(e,t):c(e,g(t,i,3))}function N(e,t){var i;if("function"!=typeof t){if("function"!=typeof e)throw new TypeError(G);var n=e;e=t,t=n}return function(){return 0<--e?i=t.apply(this,arguments):t=null,i}}function O(e,t,i){function n(){var i=t-(ii()-c);0>=i||i>t?(a&&clearTimeout(a),i=p,a=u=p=B,i&&(f=ii(),l=e.apply(d,r),u||a||(r=d=null))):u=setTimeout(n,i)}function o(){u&&clearTimeout(u),a=u=p=B,(m||h!==t)&&(f=ii(),l=e.apply(d,r),u||a||(r=d=null))}function s(){if(r=arguments,c=ii(),d=this,p=m&&(u||!g),!1===h)var i=g&&!u;else{a||g||(f=c);var s=h-(c-f),v=0>=s||s>h;v?(a&&(a=clearTimeout(a)),f=c,l=e.apply(d,r)):a||(a=setTimeout(o,s))}return v&&u?u=clearTimeout(u):u||t===h||(u=setTimeout(n,t)),i&&(v=!0,l=e.apply(d,r)),!v||u||a||(r=d=null),l}var r,a,l,c,d,u,p,f=0,h=!1,m=!0;if("function"!=typeof e)throw new TypeError(G);if(t=0>t?0:+t||0,!0===i)var g=!0,m=!1;else j(i)&&(g=i.leading,h="maxWait"in i&&Ut(+i.maxWait||0,t),m="trailing"in i?i.trailing:m);return s.cancel=function(){u&&clearTimeout(u),a&&clearTimeout(a),a=u=p=B},s}function M(e){return W(t(e)?e.length:B)&&Pt.call(e)==Y||!1}function j(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}function P(e){return null==e?!1:Pt.call(e)==K?It.test(Mt.call(e)):t(e)&&(xt(e)?It:ht).test(e)||!1}function I(e){return"string"==typeof e||t(e)&&Pt.call(e)==tt||!1}function H(e){return t(e)&&W(e.length)&&wt[Pt.call(e)]||!1}function R(e){if(null==e)return[];j(e)||(e=Object(e));for(var t=e.length,n=i.support,t=t&&W(t)&&(ni(e)||n.nonEnumStrings&&I(e)||n.nonEnumArgs&&M(e))&&t||0,o=e.constructor,s=-1,o=oi(o)&&o.prototype||Nt,r=o===e,a=Array(t),l=t>0,c=n.enumErrorProps&&(e===Lt||e instanceof Error),d=n.enumPrototypes&&oi(e);++s<t;)a[s]=s+"";for(var u in e)d&&"prototype"==u||c&&("message"==u||"name"==u)||l&&S(u,t)||"constructor"==u&&(r||!jt.call(e,u))||a.push(u);if(n.nonEnumShadows&&e!==Nt)for(t=e===Ot?tt:e===Lt?Q:Pt.call(e),n=Zt[t]||Zt[Z],t==Z&&(o=Nt),t=yt.length;t--;)u=yt[t],s=n[u],r&&s||(s?!jt.call(e,u):e[u]===o[u])||a.push(u);return a}function _(e){return(e="string"==typeof e?e:null==e?"":e+"")&&gt.test(e)?e.replace(mt,"\\$&"):e}function D(e,i,n){var o;return(o=n)&&(j(n)?(o=typeof i,"number"==o?(o=n.length,o=W(o)&&S(i,o)):o="string"==o&&i in n,o?(n=n[i],o=e===e?e===n:n!==n):o=!1):o=!1),o&&(i=null),t(e)?F(e):a(e,i)}function q(e){return function(){return e}}function z(e){return e}function F(e){return f(l(e,!0))}var B,G="Expected a function",Y="[object Arguments]",U="[object Array]",X="[object Boolean]",V="[object Date]",Q="[object Error]",K="[object Function]",J="[object Number]",Z="[object Object]",et="[object RegExp]",tt="[object String]",it="[object ArrayBuffer]",nt="[object Float32Array]",ot="[object Float64Array]",st="[object Int8Array]",rt="[object Int16Array]",at="[object Int32Array]",lt="[object Uint8Array]",ct="[object Uint8ClampedArray]",dt="[object Uint16Array]",ut="[object Uint32Array]",pt=/\w*$/,ft=/^\s*function[ \n\r\t]+\w/,ht=/^\[object .+?Constructor\]$/,mt=/[.*+?^${}()|[\]\/\\]/g,gt=RegExp(mt.source),vt=/\bthis\b/,yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),wt={};wt[nt]=wt[ot]=wt[st]=wt[rt]=wt[at]=wt[lt]=wt[ct]=wt[dt]=wt[ut]=!0,wt[Y]=wt[U]=wt[it]=wt[X]=wt[V]=wt[Q]=wt[K]=wt["[object Map]"]=wt[J]=wt[Z]=wt[et]=wt["[object Set]"]=wt[tt]=wt["[object WeakMap]"]=!1;var bt={};bt[Y]=bt[U]=bt[it]=bt[X]=bt[V]=bt[nt]=bt[ot]=bt[st]=bt[rt]=bt[at]=bt[J]=bt[Z]=bt[et]=bt[tt]=bt[lt]=bt[ct]=bt[dt]=bt[ut]=!0,bt[Q]=bt[K]=bt["[object Map]"]=bt["[object Set]"]=bt["[object WeakMap]"]=!1;var Tt={leading:!1,maxWait:0,trailing:!1},kt={"function":!0,object:!0},Ct=kt[typeof exports]&&exports&&!exports.nodeType&&exports,St=kt[typeof module]&&module&&!module.nodeType&&module,Wt=kt[typeof window]&&window,$t=St&&St.exports===Ct&&Ct,Et=Ct&&St&&"object"==typeof global&&global||Wt!==(this&&this.window)&&Wt||this,xt=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}(),At=Array.prototype,Lt=Error.prototype,Nt=Object.prototype,Ot=String.prototype,Mt=Function.prototype.toString,jt=Nt.hasOwnProperty,Pt=Nt.toString,It=RegExp("^"+_(Pt).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ht=P(Ht=Et.ArrayBuffer)&&Ht,Rt=P(Rt=Ht&&new Ht(0).slice)&&Rt,_t=Math.floor,Dt=Nt.propertyIsEnumerable,qt=At.splice,zt=P(zt=Et.Uint8Array)&&zt,Ft=P(Ft=Et.WeakMap)&&Ft,Bt=function(){try{var e=P(e=Et.Float64Array)&&e,t=new e(new Ht(10),0,1)&&e}catch(i){}return t}(),Gt=P(Gt=Array.isArray)&&Gt,Yt=P(Yt=Object.keys)&&Yt,Ut=Math.max,Xt=P(Xt=Date.now)&&Xt,Vt=Bt?Bt.BYTES_PER_ELEMENT:0,Qt=Math.pow(2,53)-1,Kt=Ft&&new Ft,Jt={};Jt[nt]=Et.Float32Array,Jt[ot]=Et.Float64Array,Jt[st]=Et.Int8Array,Jt[rt]=Et.Int16Array,Jt[at]=Et.Int32Array,Jt[lt]=Et.Uint8Array,Jt[ct]=Et.Uint8ClampedArray,Jt[dt]=Et.Uint16Array,Jt[ut]=Et.Uint32Array;var Zt={};Zt[U]=Zt[V]=Zt[J]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Zt[X]=Zt[tt]={constructor:!0,toString:!0,valueOf:!0},Zt[Q]=Zt[K]=Zt[et]={constructor:!0,toString:!0},Zt[Z]={constructor:!0},o(yt,function(e){for(var t in Zt)if(jt.call(Zt,t)){var i=Zt[t];i[e]=jt.call(i,e)}});var ei=i.support={};!function(){function e(){this.x=1}var t={0:1,length:1},i=[];e.prototype={valueOf:1,y:1};for(var n in new e)i.push(n);ei.argsTag=Pt.call(arguments)==Y,ei.enumErrorProps=Dt.call(Lt,"message")||Dt.call(Lt,"name"),ei.enumPrototypes=Dt.call(e,"prototype"),ei.funcDecomp=!P(Et.WinRTError)&&vt.test(function(){return this}),ei.funcNames="string"==typeof Function.name,ei.nonEnumStrings=!Dt.call("x",0),ei.nonEnumShadows=!/valueOf/.test(i),ei.spliceObjects=(qt.call(t,0,1),!t[0]),ei.unindexedChars="xx"!="x"[0]+Object("x")[0];try{ei.nonEnumArgs=!Dt.call(arguments,1)}catch(o){ei.nonEnumArgs=!0}}(0,0);var ti=Kt?function(e,t){return Kt.set(e,t),e}:z;Rt||(v=Ht&&zt?function(e){var t=e.byteLength,i=Bt?_t(t/Vt):0,n=i*Vt,o=new Ht(t);if(i){var s=new Bt(o,0,i);s.set(new Bt(e,0,i))}return t!=n&&(s=new zt(o,n),s.set(new zt(e,n))),o}:q(null));var ii=Xt||function(){return(new Date).getTime()};ei.argsTag||(M=function(e){return W(t(e)?e.length:B)&&jt.call(e,"callee")&&!Dt.call(e,"callee")||!1});var ni=Gt||function(e){return t(e)&&W(e.length)&&Pt.call(e)==U||!1},oi=e(/x/)||zt&&!e(zt)?function(e){return Pt.call(e)==K}:e,si=Yt?function(e){if(e)var t=e.constructor,n=e.length;return"function"==typeof t&&t.prototype===e||("function"==typeof e?i.support.enumPrototypes:n&&W(n))?E(e):j(e)?Yt(e):[]}:E;i.before=N,i.callback=D,i.constant=q,i.debounce=O,i.filter=A,i.forEach=L,i.keys=si,i.keysIn=R,i.matches=F,i.once=function(e){return N(e,2)},i.throttle=function(e,t,i){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError(G);return!1===i?n=!1:j(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),Tt.leading=n,Tt.maxWait=+t,Tt.trailing=o,O(e,t,Tt)},i.each=L,i.iteratee=D,i.select=A,i.escapeRegExp=_,i.identity=z,i.isArguments=M,i.isArray=ni,i.isFunction=oi,i.isNative=P,i.isObject=j,i.isString=I,i.isTypedArray=H,i.now=ii,i.VERSION="3.5.0","function"==typeof define&&"object"==typeof define.amd&&define.amd?(Et._=i,define(function(){return i})):Ct&&St?$t?(St.exports=i)._=i:Ct._=i:Et._=i}.call(this),function(){"use strict";/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */
function e(t,n){function o(e,t){return function(){return e.apply(t,arguments)}}var s;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=t,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!e.notNeeded(t)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,l=0,c=r.length;c>l;l++)a[r[l]]=o(a[r[l]],a);i&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,n){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,i.hijacked||i,n):o.call(t,e,i,n)},t.addEventListener=function(e,i,n){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,i.hijacked||(i.hijacked=function(e){e.propagationStopped||i(e)}),n):o.call(t,e,i,n)}),"function"==typeof t.onclick&&(s=t.onclick,t.addEventListener("click",function(e){s(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!t,n=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,o=n&&/OS 4_\d(_\d)?/.test(navigator.userAgent),s=n&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),r=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(n&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var i,n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,e.dispatchEvent(i)},e.prototype.determineEventType=function(e){return i&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;n&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,i;if(t=e.fastClickScrollParent,!t||!t.contains(e)){i=e;do{if(i.scrollHeight>i.offsetHeight){t=i,e.fastClickScrollParent=i;break}i=i.parentElement}while(i)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,i,s;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),i=e.targetTouches[0],n){if(s=window.getSelection(),s.rangeCount&&!s.isCollapsed)return!0;if(!o){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=i.pageX,this.touchStartY=i.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i?!0:!1},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,r,a,l,c,d=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,r=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,s&&(c=e.changedTouches[0],d=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||d,d.fastClickScrollParent=this.targetElement.fastClickScrollParent),a=d.tagName.toLowerCase(),"label"===a){if(t=this.findControl(d)){if(this.focus(d),i)return!1;d=t}}else if(this.needsFocus(d))return e.timeStamp-r>100||n&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(d),this.sendClick(d,e),n&&"select"===a||(this.targetElement=null,e.preventDefault()),!1);return n&&!o&&(l=d.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(d)||(e.preventDefault(),this.sendClick(d,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;i&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,n,o;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(r&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction?!0:"none"===e.style.touchAction?!0:!1},e.attach=function(t,i){return new e(t,i)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),!function(e){for(var t=0,i=["webkit","moz"],n=e.requestAnimationFrame,o=e.cancelAnimationFrame,s=i.length;--s>=0&&!n;)n=e[i[s]+"RequestAnimationFrame"],o=e[i[s]+"CancelAnimationFrame"];n&&o||(n=function(e){var i=+new Date,n=Math.max(t+16,i);return setTimeout(function(){e(t=n)},n-i)},o=clearTimeout),e.requestAnimationFrame=n,e.cancelAnimationFrame=o}(window),"document"in self&&!("classList"in document.createElement("_"))&&!function(e){"use strict";if("Element"in e){var t="classList",i="prototype",n=e.Element[i],o=Object,s=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array[i].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(e,t)},c=function(e){for(var t=s.call(e.getAttribute("class")||""),i=t?t.split(/\s+/):[],n=0,o=i.length;o>n;n++)this.push(i[n]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},d=c[i]=[],u=function(){return new c(this)};if(a[i]=Error[i],d.item=function(e){return this[e]||null},d.contains=function(e){return e+="",-1!==l(this,e)},d.add=function(){var e,t=arguments,i=0,n=t.length,o=!1;do e=t[i]+"",-1===l(this,e)&&(this.push(e),o=!0);while(++i<n);o&&this._updateClassName()},d.remove=function(){var e,t=arguments,i=0,n=t.length,o=!1;do{e=t[i]+"";var s=l(this,e);-1!==s&&(this.splice(s,1),o=!0)}while(++i<n);o&&this._updateClassName()},d.toggle=function(e,t){e+="";var i=this.contains(e),n=i?t!==!0&&"remove":t!==!1&&"add";return n&&this[n](e),!i},d.toString=function(){return this.join(" ")},o.defineProperty){var p={get:u,enumerable:!0,configurable:!0};try{o.defineProperty(n,t,p)}catch(f){-2146823252===f.number&&(p.enumerable=!1,o.defineProperty(n,t,p))}}else o[i].__defineGetter__&&n.__defineGetter__(t,u)}}(self),function(e){e.fn.transit=function(){return this.each(function(){var t=e(this);t.one("TransitionEnd webkitTransitionEnd transitionend oTransitionEnd",function(){t.removeClass("is-transitioning")});var i=["transition-duration","-moz-transition-duration","-webkit-transition-duration","-o-transition-duration"],n=0;e.each(i,function(e,i){n=parseFloat(t.css(i))||n}),0!==n&&(t.addClass("is-transitioning"),t[0].offsetWidth)})}}(jQuery),/*!
 * headroom.js v0.5.0 - Give your page some headroom. Hide your header until you need it
 * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/headroom.js
 * License: MIT
 */
function(e,t){"use strict";function i(e){this.callback=e,this.ticking=!1}function n(e){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var t,i,o=e||{};for(i=1;i<arguments.length;i++){var s=arguments[i]||{};for(t in s)o[t]="object"==typeof o[t]?n(o[t],s[t]):o[t]||s[t]}return o}function o(e,t){t=n(t,o.options),this.lastKnownScrollY=0,this.elem=e,this.debouncer=new i(this.update.bind(this)),this.tolerance=t.tolerance,this.classes=t.classes,this.offset=t.offset,this.initialised=!1,this.onPin=t.onPin,this.onUnpin=t.onUnpin,this.onTop=t.onTop,this.onNotTop=t.onNotTop}var s={bind:!!function(){}.bind,classList:"classList"in t.documentElement,rAF:!!(e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame)};e.requestAnimationFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,i.prototype={constructor:i,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},o.prototype={constructor:o,init:function(){return o.cutsTheMustard?(this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var t=this.classes;this.initialised=!1,e.removeEventListener("scroll",this.debouncer,!1),this.elem.classList.remove(t.unpinned,t.pinned,t.top,t.initial)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,e.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var e=this.elem.classList,i=this.classes;(e.contains(i.pinned)||!e.contains(i.unpinned))&&(e.add(i.unpinned),e.remove(i.pinned),this.onUnpin&&this.onUnpin.call(this)),W.isSm()||jQuery(t).trigger("headroomUnpinned")},pin:function(){var e=this.elem.classList,t=this.classes;e.contains(t.unpinned)&&(e.remove(t.unpinned),e.add(t.pinned),this.onPin&&this.onPin.call(this))},top:function(){var e=this.elem.classList,t=this.classes;e.contains(t.top)||(e.add(t.top),e.remove(t.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var e=this.elem.classList,t=this.classes;e.contains(t.notTop)||(e.add(t.notTop),e.remove(t.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==e.pageYOffset?e.pageYOffset:(t.documentElement||t.body.parentNode||t.body).scrollTop},getViewportHeight:function(){return e.innerHeight||t.documentElement.clientHeight||t.body.clientHeight},getDocumentHeight:function(){var e=t.body,i=t.documentElement;return Math.max(e.scrollHeight,i.scrollHeight,e.offsetHeight,i.offsetHeight,e.clientHeight,i.clientHeight)},isOutOfBounds:function(e){var t=0>e,i=e+this.getViewportHeight()>this.getDocumentHeight();return t||i},toleranceExceeded:function(e){return Math.abs(e-this.lastKnownScrollY)>=this.tolerance},shouldUnpin:function(e,t){var i=e>this.lastKnownScrollY,n=e>=this.offset;return i&&n&&t},shouldPin:function(e,t){var i=e<this.lastKnownScrollY,n=e<=this.offset;return i&&t||n},update:function(){var e=this.getScrollY(),t=this.toleranceExceeded(e);this.isOutOfBounds(e)||(e<=this.offset?this.top():this.notTop(),this.shouldUnpin(e,t)?this.unpin():this.shouldPin(e,t)&&this.pin(),this.lastKnownScrollY=e)}};var r=jQuery('[data-js="main"]').offset().top-90||300;o.options={tolerance:0,offset:r,classes:{pinned:"hr-pinned",unpinned:"hr-unpinned",top:"hr-top",notTop:"hr-not-top",initial:"headroom"}},o.cutsTheMustard="undefined"!=typeof s&&s.rAF&&s.bind&&s.classList,e.Headroom=o}(window,document),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.hoverintent=e()}}(function(){return function e(t,i,n){function o(r,a){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[r]={exports:{}};t[r][0].call(d.exports,function(e){var i=t[r][1][e];return o(i?i:e)},d,d.exports,e,t,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(e,t){!function(e){var i=function(e,t,i){var n,o,s,r,a={},l=0,c=0,d={sensitivity:7,interval:100,timeout:0},u=function(e){d=p(e||{},d)},p=function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)void 0===e[n]&&(e[n]=i[n])}return e},f=function(e,t,i){e.attachEvent?(e["e"+t+i]=i,e[t+i]=function(){e["e"+t+i](window.event)},e.attachEvent("on"+t,e[t+i])):e.addEventListener(t,i,!1)},h=function(e,t,i){e.detachEvent?(e.detachEvent("on"+t,e[t+i]),e[t+i]=null):e.removeEventListener(t,i,!1)},m=function(e){n=e.clientX,o=e.clientY},g=function(e,t,i){return c&&(c=clearTimeout(c)),l=0,t.call(e,i)},v=function(t,i,n){var o=function(e){m(e)};return c&&(c=clearTimeout(c)),n?(s=t.clientX,r=t.clientY,f(e,"mousemove",o),1!==l&&(c=setTimeout(function(){y(e,i,t)},d.interval))):(h(e,"mousemove",o),1===l&&(c=setTimeout(function(){g(e,i,t)},d.timeout))),this},y=function(e,t,i){return c&&(c=clearTimeout(c)),Math.abs(s-n)+Math.abs(r-o)<d.sensitivity?(l=1,t.call(e,i)):(s=n,r=o,void(c=setTimeout(function(){y(e,t,i)},d.interval)))};a.options=function(e){u(e)};var w=function(e){v(e,t,!0)},b=function(e){v(e,i)};return a.remove=function(){e&&(h(e,"mouseover",w),h(e,"mouseout",b))},e&&(f(e,"mouseover",w),f(e,"mouseout",b)),u(),a};e.hoverintent=i,"undefined"!=typeof t&&t.exports&&(t.exports=i)}(this)},{}]},{},[1])(1)}),function(){function e(e,t,i,n){return Math.abs(e-t)>=Math.abs(i-n)?e-t>0?"Left":"Right":i-n>0?"Up":"Down"}function t(){c=null,u.last&&(u.el.trigger("longTap"),u={})}function i(){c&&clearTimeout(c),c=null}function n(){r&&clearTimeout(r),a&&clearTimeout(a),l&&clearTimeout(l),c&&clearTimeout(c),r=a=l=c=null,u={}}function o(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function s(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}var r,a,l,c,d,u={},p=750;$(document).ready(function(){var f,h,m,g,v=0,y=0;"MSGesture"in window&&(d=new MSGesture,d.target=document.body),$(document).bind("MSGestureEnd",function(e){var t=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;t&&(u.el.trigger("swipe"),u.el.trigger("swipe"+t))}).on("touchstart MSPointerDown pointerdown",function(e){(!(g=s(e,"down"))||o(e))&&(m=g?e:e.touches[0],e.touches&&1===e.touches.length&&u.x2&&(u.x2=void 0,u.y2=void 0),f=Date.now(),h=f-(u.last||f),u.el=$("tagName"in m.target?m.target:m.target.parentNode),r&&clearTimeout(r),u.x1=m.pageX,u.y1=m.pageY,h>0&&250>=h&&(u.isDoubleTap=!0),u.last=f,c=setTimeout(t,p),d&&g&&d.addPointer(e.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){(!(g=s(e,"move"))||o(e))&&(m=g?e:e.touches[0],i(),u.x2=m.pageX,u.y2=m.pageY,v+=Math.abs(u.x1-u.x2),y+=Math.abs(u.y1-u.y2))}).on("touchend MSPointerUp pointerup",function(t){(!(g=s(t,"up"))||o(t))&&(i(),u.x2&&Math.abs(u.x1-u.x2)>30||u.y2&&Math.abs(u.y1-u.y2)>30?l=setTimeout(function(){u.el.trigger("swipe"),u.el.trigger("swipe"+e(u.x1,u.x2,u.y1,u.y2)),u={}},0):"last"in u&&(30>v&&30>y?a=setTimeout(function(){var e=$.Event("tap");e.cancelTouch=n,u.el.trigger(e),u.isDoubleTap?(u.el&&u.el.trigger("doubleTap"),u={}):r=setTimeout(function(){r=null,u.el&&u.el.trigger("singleTap"),u={}},250)},0):u={}),v=y=0)}).on("touchcancel MSPointerCancel pointercancel",n),$(window).on("scroll",n)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){$.fn[e]=function(t){return this.on(e,t)}})}(),/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;t.type="text/css",t.id="matchmediajs-test",i.parentNode.insertBefore(t,i),n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=i:t.textContent=i,"1px"===n.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */
function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var e=window.matchMedia,t=e("only all").matches,i=!1,n=0,o=[],s=function(){clearTimeout(n),n=setTimeout(function(){for(var t=0,i=o.length;i>t;t++){var n=o[t].mql,s=o[t].listeners||[],r=e(n.media).matches;if(r!==n.matches){n.matches=r;for(var a=0,l=s.length;l>a;a++)s[a].call(window,n)}}},30)};window.matchMedia=function(n){var r=e(n),a=[],l=0;return r.addListener=function(e){t&&(i||(i=!0,window.addEventListener("resize",s,!0)),0===l&&(l=o.push({mql:r,listeners:a})),a.push(e))},r.removeListener=function(e){for(var t=0,i=a.length;i>t;t++)a[t]===e&&a.splice(t,1)},r}}(),$.js=function(e){return jQuery("[data-js="+e+"]")},$.ui=function(e){return jQuery("[data-ui="+e+"]")},W.domToArray=function(e){for(var t=e.length,i=[];t--;)i[t]=e[t];return i},W.cache={},W.get=function(e,t){return"string"==typeof e?((t===!0||"undefined"==typeof this.cache[e])&&(this.cache[e]=W.js(e)),this.cache[e]):void 0},W.getAll=function(e,t){if("string"==typeof e){var i=e+"all";return(t===!0||"undefined"==typeof this.cache[i])&&(this.cache[i]=W.jsAll(e)),this.cache[i]}},W.isCurated=function(){var e=document.body.classList;return e.contains("category")||e.contains("home")||e.contains("tag")||e.contains("magazine")},W.isMob=function(){return window.matchMedia("(max-width: 660px)").matches},W.isMobPlus=function(){return window.matchMedia("(min-width: 661px)").matches},W.isSm=function(){return window.matchMedia("(max-width: 768px)").matches},W.isMed=function(){return window.matchMedia("(min-width: 769px)").matches},W.isBigPlus=function(){return window.matchMedia("(min-width: 961px)").matches},W.isHuge=function(){return window.matchMedia("(min-width: 1200px)").matches},W.js=function(e,t){return t?t.querySelector("[data-js="+e+"]"):document.querySelector("[data-js="+e+"]")},W.jsAll=function(e,t){return t?t.querySelectorAll("[data-js="+e+"]"):document.querySelectorAll("[data-js="+e+"]")},W.q=function(e,t){return t?t.querySelectorAll(e):document.querySelectorAll(e)},W.strip=function(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""},W.validateEmail=function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},W.fallback=function(){return"undefined"==typeof CN.dart||"undefined"==typeof CN.dart.getAdLog||"undefined"==typeof docCookies},W.parseSlide=function(){var e=window.location.hash;if(e.indexOf("#slide-")>-1){var t=parseInt(e.replace("#slide-",""),10);if(t===parseInt(t,10))return Math.floor((t-1)/6)+t-1}return 0},W.onAnimationEnd=function(e,t){$(e).one("webkitAnimationEnd oanimationend oAnimationEnd msAnimationEnd animationend",function(e){t(e)})},W.onTransitionEnd=function(e,t){$(e).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){t(e)})},W.fadeUpOut=function(e){e.classList.contains("fade-up-in")&&e.classList.remove("fade-up-in"),e.classList.contains("fade-up-out")||e.classList.add("fade-up-out")},W.fadeUpIn=function(e){e.classList.contains("fade-up-out")&&e.classList.remove("fade-up-out"),e.classList.contains("fade-up-in")||e.classList.add("fade-up-in")},W.trueOffset=function(e){var t=e.offset();return t.top+=parseInt(e.css("border-top-width"),10)+parseInt(e.css("margin-top"),10)+parseInt(e.css("padding-top"),10),t.left+=parseInt(e.css("border-left-width"),10)+parseInt(e.css("margin-left"),10)+parseInt(e.css("padding-left"),10),t},W.init=function(){function e(e){return e=e.replace(/#[^\/]*$/,""),e.replace(/http:\/\/[^\/]+/i,"http://www.wired.com")}function t(e){var t="";return(-1!==e.indexOf("www.wired.com/wiredinsider/")||-1!==e.indexOf("www.wired.com/brandlab/")||-1!==e.indexOf("www.wired.com/insights/"))&&(t=e.replace("www.wired.com/wiredinsider/","www.wired.com/").replace("www.wired.com/brandlab/","www.wired.com/").replace("www.wired.com/insights/","www.wired.com/")),t}function i(e){return e.replace(/\/$/,"")}function n(e){function t(e){var o=0,s=e.childNodes.length;if(3===e.nodeType)n.test(e.nodeValue)&&i.push(e);else for(o;s>o;o++)t(e.childNodes[o])}var i=[],n=/\S/;return t(e),i}function o(e,t){e.forEach(function(e){e.classList.contains("fade-up-in")?(W.fadeUpOut(e),W.onTransitionEnd(e,function(){e.classList.remove("fade-up-out")})):(e.innerHTML=t,W.fadeUpIn(e))})}var s=e(window.location.href),r=function(e){function t(){var t=(new Date).getTime();t-i>=60*e*1e3&&(window.location.reload(!0),CN.debug.info("Reloading page.."))}var i=(new Date).getTime();$(document).on("mousemove keypress",function(){i=(new Date).getTime()}),setInterval(t,1e4)},a=function(){var e,t=document.getElementsByClassName("wired-gallery")[0],i=n(t).filter(function(e){return"P"===e.parentNode.tagName}),o=/(Photo: )|(photo: )|(Photo by )|(photo by )|(Photography By )|(photography by )|(postProduction by )|(Postproduction by )+/,s=/(Illustration: )|(illustrated by )|(Illustration by:)|(illustrated by: )|(illustrated: )+/,r=i.length;if(i&&0!==i.length)for(;r--;)i[r].parentNode&&(o.test(i[r].textContent)?(e=i[r].parentNode.innerHTML.replace(o,'<span class="ui ui-credit ui-photo marg-r-sm float-l"></span>'),i[r].parentNode.innerHTML=e):s.test(i[r].textContent)&&(e=i[r].parentNode.innerHTML.replace(s,'<span class="ui ui-credit ui-photo marg-r-sm float-l"></span>'),i[r].parentNode.innerHTML=e))},l=function(){function e(t,i){return"undefined"!=typeof i.children[0]&&t.isEqualNode(i.children[0])?!0:t.isEqualNode(i)?!1:e(t.parentNode,i)}var t=W.get("content"),i=$(t).find('iframe[src^="//www.youtube.com"], iframe[src^="http://www.youtube.com"], iframe[src^="https://www.youtube.com"], iframe[src^="//player.vimeo.com"], iframe[src^="http://player.vimeo.com"], iframe[src^="https://player.vimeo.com"], iframe[src^="http://player.cnevids.com"], iframe[src^="https://player.cnevids.com"], iframe[src^="https://w.soundcloud.com"]');0!==i.size()&&$.each(i,function(i,n){var o=$(n);n.offsetParent.classList.contains("podcast")||o.wrap(0===i&&e(n,t)?'<div class="relative video-content carve-full marg-b-huge mob-marg-b-med med-marg-b-big"></div>':'<div class="relative video-content carve-full marg-t-huge marg-b-huge mob-marg-t-med mob-marg-b-med med-marg-t-big med-marg-b-big"></div>')})},c=function(e){function t(e){var t=!1;return"NOSCRIPT"===e.tagName||"STYLE"===e.tagName||8===e.nodeType||"wired-tired-text"===e.parentNode.id||"wired-tired-text"===e.parentNode.parentNode.id||"how-rate"===e.parentNode.id||"how-rate"===e.parentNode.parentNode.id||e.classList.contains("caption")||e.classList.contains("credit")||e.classList.contains("wp-caption-text")||e.parentNode.classList.contains("credit")||e.parentNode.classList.contains("wp-caption-text")||e.parentNode.classList.contains("sidebar-left")||e.parentNode.classList.contains("sidebar-right")||e.parentNode.classList.contains("alignleft")||e.parentNode.classList.contains("alignright")||e.classList.contains("visually-hidden")||r[h].textContent.trim().split(" ").length>=3&&(t=!0),t}function i(e){var t=!1;return("EM"===e.tagName||"CITE"===e.tagName||"I"===e.tagName)&&(t=!0),t}if("number"==typeof e){var o,s,r,a,l,c,d,u,p=W.get("content"),f=document.body.classList.contains("legacy-content"),h=0;if(p&&!f&&(r=n(p),o=r.length,r)){for(h;o>h;h++)if(s=r[h].parentNode,t(s)){if(i(s))return;if(s.childNodes[0]===r[h]){a=r[h];break}return}a&&(l=a.parentNode,c=a.textContent.split(" "),d=c.slice(e,c.length),c=c.slice(0,e),c=c.join(" "),d=d.join(" "),u=document.createElement("span"),u.className="lede",u.textContent=c+" ",u.setAttribute("tabindex","-1"),d.length&&(d=document.createTextNode(d)),d.length>1?(l.insertBefore(d,l.childNodes[0]),l.insertBefore(u,d),l.removeChild(l.childNodes[e-1])):(l.insertBefore(u,l.childNodes[0]),l.removeChild(l.childNodes[e-2])))}}},d=function(){if(!W.isMob()){var e=[],t=[];if(t.push(W.get("postHeader")),t.push(W.get("content")),t.forEach(function(t){var i=W.domToArray(t.getElementsByTagName("figure"));return i?i.forEach(function(t){return t.classList.contains("slide")?void 0:e.push(t)}):void 0}),0!==e.length)return 1===e.length&&$(W.get("oGallery")).find('[data-js="arrow"]').addClass("visibility-hidden"),e.length>0?e.forEach(function(e,t){var i=e.getElementsByTagName("a")[0],n=document.createElement("span"),o=e.getElementsByTagName("img")[0];o&&(o.setAttribute("data-ui","overlayOpen"),o.setAttribute("data-order",t),o.className+=" cursor-zoom"),i&&(i.setAttribute("href","javascript:;"),i.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),n.className="visually-hidden",n.textContent="Click to Open Overlay Gallery",i.appendChild(n))}):void 0}},u=function(){var e=W.domToArray(W.getAll("fallback")),t=W.get("latestNews"),i={},n="";return $(".advertisement").addClass("hide"),(t&&document.body.classList.contains("home")||document.body.classList.contains("category"))&&(t.classList.remove("squish-normal"),i=t.parentNode.children[1],n=i.className.replace("marg-b-med",""),i.className=n),W.get("leaderboard")&&(W.get("leaderboard").style.minHeight="16px"),e.forEach(function(e){return e.classList.remove("hide")})},p=function(i){function n(){return $.getJSON(l+i)}function r(){return 0!==a.length?$.getJSON(l+a):void 0}i=i?e(i):s;var a=t(i),l="http://graph.facebook.com/?ids=";return $.when(n(),r()).done(function(e,t){var n=W.domToArray(W.getAll("fbCount")),s=0,r=0,l=0;return"undefined"!=typeof e&&(s=e[0][i].shares||0),"undefined"!=typeof t&&(r=t[0][a].shares||0),l=s+r,0===l?o(n,""):o(n,l)}).fail(function(e){return console.error("Couldnt retrieve fb count cause: ",e)})},f=function(n){function r(){return $.ajax({url:u+l,dataType:"jsonp"})}function a(){return 0!==d.length?$.ajax({url:u+d,dataType:"jsonp"}):void 0}n=n?e(n):s;var l=i(n),c=t(n),d=i(c),u="http://urls.api.twitter.com/1/urls/count.json?url=";return $.when(r(),a()).done(function(e,t){var i=W.domToArray(W.getAll("twitCount")),n=0,s=0,r=0;return"undefined"!=typeof e&&(n=e[0].count||0),"undefined"!=typeof t&&(s=t[0].count||0),r=n+s,0===r?o(i,""):o(i,r)}).fail(function(e){return console.error("Couldnt retrieve twitter count cause: ",e)})},h=function(n){function r(){return $.ajax({url:f+d,dataType:"jsonp"})}function a(){return $.ajax({url:f+n,dataType:"jsonp"})}function l(){return 0!==u.length?$.ajax({url:f+u,dataType:"jsonp"}):void 0}function c(){return 0!==p.length?$.ajax({url:f+p,dataType:"jsonp"}):void 0}n=n?e(n):s;var d=i(n),u=t(n),p=i(u),f="http://api.pinterest.com/v1/urls/count.json?url=";return $.when(r(),a(),l(),c()).done(function(e,t,i,n){var s=W.domToArray(W.getAll("pintCount")),r=0,a=0,l=0,c=0,d=0;return"undefined"!=typeof e&&(r=e[0].count||0),"undefined"!=typeof t&&(a=t[0].count||0),"undefined"!=typeof i&&(l=i[0].count||0),"undefined"!=typeof n&&(c=n[0].count||0),d=r+a+l+c,0===d?o(s,""):o(s,d)}).fail(function(e){return console.error("Couldnt retrieve pinterest count cause: ",e)})},m=function(){var e,t,i=document.querySelectorAll("#latest-news .byline");for(t=0;t<i.length;t++)e=i[t].innerHTML,-1!==e.indexOf(",")&&(i[t].innerHTML=e.substring(0,e.indexOf(",")))},g=function(){for(var e,t=W.q("[data-headroom]"),i=t.length;i--;)e=new Headroom(t[i]),e.init()},v=function(){var e=W.get("stickySidebar"),t=W.get("article").offsetHeight;(1200===t||1900===t)&&(e.style.position="relative",e.style.top="0px")},y=function(){var e=W.getAll("social-unit"),t=W.getAll("cm-social-wrapper").length,i=e.length/t,n=Math.floor(Math.random()*i),o=0;for(o;t>o;o++)"undefined"!=typeof e[n+o*i]&&(e[n+o*i].style.display="block")},w=function(){return W.get("polar-fallback")?W.get("polar-fallback").classList.remove("hide"):void 0},b=function(){if(!W.isMob()){var e,t,i,n=W.get("cnePlayer"),o=W.get("playlist-videos"),s=W.get("videos-wrapper");o&&s&&n&&(e=n.offsetWidth-16,t=9*e/16,i=n.getElementsByClassName("row")[0].offsetHeight,o.style.height=i+t+16-32+"px")}},T=function(){var e,t,i,n=W.get("video-social-media-wrapper"),o=W.get("cnePlayer"),s=W.get("videos-wrapper");W.isMed&&s&&o&&(e=n.getElementsByTagName("span")[0].offsetWidth,t=o.offsetWidth,i=t-e+7+"px",n.style.paddingLeft=i,n.classList.remove("visibility-hidden"))};return{removeCommaLatestNews:_.once(m),addCreditIconsIfMissing:_.once(a),addVideoWrapper:_.once(l),articleHeight:_.once(v),fallback:_.once(u),fbCount:p,twitCount:f,pintCount:h,polarFallback:w,header:_.once(g),oGallery:_.once(d),lede:_.once(c),exposeRandomSocialBox:_.once(y),refresher:_.once(r),videoPlaylistHeightFix:_.debounce(b,50),calcVidSocMediaPadding:_.debounce(T,50)}}(),W.smart=function(){var e=function(e){function t(t){var i=document.createDocumentFragment(),n=t.slice(0,5);return n.forEach(function(e,t){var n=document.createElement("li"),o=document.createElement("a"),s=document.createElement("img"),r=document.createElement("span"),a=document.createElement("h5"),l=document.createElement("div"),c=document.createElement("hr");n.setAttribute("height","108"),n.className="story-"+t,t>2&&(n.className+=" squish-hide",c.className+=" squish-hide"),o.setAttribute("href",e.link),o.className="clearfix pad",s.setAttribute("height","75"),s.setAttribute("width","75"),s.setAttribute("aria-hidden","true"),s.setAttribute("role","presentation"),s.className="thumb col mob-col-6 med-col-6 big-col-6",e.featured_image&&e.featured_image.attachment_meta&&s.setAttribute("src",e.featured_image.attachment_meta.sizes.thumbnail.url),l.className="col mob-col-12 med-col-12 big-col-12",r.className="byline marg-b-micro",r.appendChild(document.createTextNode(e.author.name)),a.className="title exchange-sm",a.appendChild(document.createTextNode($.parseHTML(e.title)[0].nodeValue)),n.appendChild(o),o.appendChild(s),o.appendChild(l),l.appendChild(r),l.appendChild(a),c.className="story-"+t,i.appendChild(n),i.appendChild(c)}),e.appendChild(i)}if("object"==typeof e){var i="http://"+location.host+"/wp-json/wp/v2/posts/";return $.getJSON(i,t)}};return{rec:e}}(),W.recirc=function(){var e=function(e,t,i){function n(t){t=t.slice(0,5);var i,n=document.createDocumentFragment();t.forEach(function(e,t){var o,s=document.createElement("li"),r=document.createElement("a"),a=document.createElement("img"),l=document.createElement("div"),c=document.createElement("hr"),d=document.createElement("span"),u=document.createElement("h5");s.setAttribute("height","107"),t>2&&(s.className="squish-hide"),r.setAttribute("href",e.url),r.className="clearfix pad",a.setAttribute("src",e.thumbnail.url.slice(0,-11)+"75x75.jpg"),a.setAttribute("height","75"),a.setAttribute("width","75"),a.setAttribute("aria-hidden","true"),a.setAttribute("role","presentation"),a.className="thumb col mob-col-6 med-col-6 big-col-6",l.className="col mob-col-12 med-col-12 big-col-12",d.className="byline marg-b-micro",d.appendChild(document.createTextNode(e.author)),u.className="title line-clamp exchange-sm",u.appendChild(document.createTextNode(e.content.replace("| WIRED",""))),void 0!==e.pc_id&&(o=document.createElement("span"),o.className="byline marg-b-micro",o.appendChild(document.createTextNode(e.source_name)),s.className+=" bg-gray-2 external"),s.appendChild(r),r.appendChild(a),r.appendChild(l),o&&l.appendChild(o),l.appendChild(d),l.appendChild(u),o?i=s:(n.appendChild(s),t>2&&(c.className="squish-hide"),4>t&&n.appendChild(c))}),e.appendChild(n),e.appendChild(i)}function o(t){var i=document.createDocumentFragment();return t.forEach(function(e,n){var o=document.createElement("div"),s=document.createElement("li"),r=document.createElement("a"),a=document.createElement("div"),l=document.createElement("img"),c=document.createElement("span"),d=document.createElement("p"),u=e.thumbnail.url;return"undefined"!=typeof OBR&&(u=e.thumbnail.url.slice(0,-10)+"120x120.jpg"),r.setAttribute("href",e.url),r.setAttribute("target","_blank"),l.setAttribute("src",u),c.appendChild(document.createTextNode(e.source_name)),e.content.length>=55&&(e.content=e.content.replace("| WIRED","")),d.appendChild(document.createTextNode($.parseHTML(e.content)[0].nodeValue)),r.className="clearfix no-pad",r.setAttribute("tabindex","-1"),r.setAttribute("aria-hidden","true"),r.setAttribute("role","presentation"),n>0&&(s.className="border-l big-pad-l-med med-pad-l-med mob-pad-t-med"),n>=t.length-1&&(s.className+=" hide-mob"),s.className+=" col big-col-3 med-col-3 mob-pad-b-med",s.setAttribute("tabindex","-1"),s.setAttribute("aria-hidden","true"),s.setAttribute("role","presentation"),c.className="byline marg-b-micro word-break",d.className="exchange-sm",a.className="around-img-wrap overflow-hide mob-col-6 ",l.className="row",o.className="big-marg-t-med med-marg-t-med mob-col-12 mob-omega",a.appendChild(l),s.appendChild(r),r.appendChild(a),r.appendChild(o),o.appendChild(c),o.appendChild(d),i.appendChild(s)}),e.appendChild(i)}function s(t){var n=document.getElementById(i).getAttribute("data-outbrain-count");t=t.slice(0,n||3);var o=document.createDocumentFragment();t.forEach(function(e){var t=document.createElement("li"),i=document.createElement("a"),n=document.createElement("img"),s=document.createElement("div"),r=document.createElement("h5"),a=document.createElement("hr"),l=e.thumbnail.url;i.setAttribute("href",e.url),n.setAttribute("src",l),r.appendChild(document.createTextNode($.parseHTML(e.content)[0].nodeValue)),t.className="no-marg",i.className="clearfix pad no-hover",n.className="thumb col mob-col-6 med-col-6 big-col-6",r.className="title exchange-sm line-clamp",s.appendChild(r),i.appendChild(n),i.appendChild(s),t.appendChild(i),o.appendChild(t),o.appendChild(a)}),e.appendChild(o)}if("object"==typeof e){var r=document.getElementById(i).getAttribute("data-outbrain-url");if("related-outbrain"===i)if(t=document.getElementById(i).getAttribute("data-outbrain-id"),"science"===t)t="HOP";else if("auto"===t)t="HOP_2";else{if("entertainment"!==t)return;t="HOP_3"}var a={permalink:r,widgetId:t},l="http://"+location.host+"/wp-json/wp/v2/posts/";return"undefined"==typeof OBR?($(W.getAll("poweredByOutbrain")).remove(),$.getJSON(l,function(e){return"we-recommend"===i?W.smart.rec(W.get("we-recommend")):"around-the-web"===i?(W.get("aroundTheWebHdr").textContent="You Might Like",o(e.slice(3,-1).map(function(e){return{url:e.link,content:e.title,source_name:e.author.name,thumbnail:{url:e.featured_image.attachment_meta.sizes.thumbnail.url}}}))):"related-outbrain"===i?s(e.map(function(e){return{url:e.link,content:e.title,thumbnail:{url:e.featured_image.attachment_meta.sizes.thumbnail.url}}})):void 0})):OBR.extern.callRecs(a,function(e){var t=e.doc.slice(0);return"we-recommend"===i?n(t):"around-the-web"===i?o(t):"related-outbrain"===i?s(t):void 0})}};return{outbrain:e}}(),W.shortpost=function(){function e(e){CN.stats.omniture.setPageName(e.title),CN.stats.omniture.setContentId(e.id),CN.stats.omniture.setCustomProp("3",e.title),CN.stats.omniture.setAuthorName(e.author),CN.stats.omniture.setKeywords(e.keywords),CN.stats.omniture.setCustomProp("2",e.permalink),CN.stats.omniture.setCustomProp("6",e.catPrefixes.prop6),CN.stats.omniture.setCustomProp("7",e.catPrefixes.prop7),CN.stats.omniture.setCustomProp("8",e.catPrefixes.prop8),CN.stats.omniture.setCustomProp("9",e.catPrefixes.prop9),CN.stats.omniture.setCustomProp("62",e.date),s.list2=e.tags,s.hier1=e.hier,s.pageURL=e.permalink}function t(e){d.href=e.twitter_url,h.href=e.twitter_url,u.href=e.facebook_url,m.href=e.facebook_url,p.href=e.pinterest_url,g.href=e.pinterest_url,f.href=e.mailto_url,v.href=e.mailto_url,W.init.fbCount(e.permalink),W.init.twitCount(e.permalink),W.init.pintCount(e.permalink)}var i=[],n=[0],o=0,r=!1,a=[],l=!1,c=null,d=null,u=null,p=null,f=null,h=null,m=null,g=null,v=null,y=null,w=function(){"undefined"!=typeof s.wiredShortPostFeed&&(a=s.wiredShortPostFeed),l=document.body.classList.contains("short-post")&&a.length>1,l&&(c=W.q("header h1")[0],d=W.q("#share-card #twitter-share")[0],u=W.q("#share-card #fb-share")[0],p=W.q("#share-card #pint-share")[0],f=W.q("#share-card #mail-share")[0],h=W.q("#mobile-share #twitter-share")[0],m=W.q("#mobile-share #fb-share")[0],g=W.q("#mobile-share #pint-share")[0],v=W.q("#mobile-share #mail-share")[0],y=W.domToArray(W.q(".social-fader")),i=W.domToArray(W.q(".short-post-article")),window.addEventListener("popstate",function(e){if(e&&null!==e.state&&void 0!==e.state){var t=W.strip(a[0].title);document.title=t+" | WIRED",window.history.replaceState("",t,a[0].permalink)}})),r=!0},b=function(){if(r&&l&&i){for(var d=0,u=i.length,p="";u--;){var f=i[u].getBoundingClientRect();if(f.top<=165&&f.bottom+50>=165){d=parseInt(i[u].dataset.index,10)+1;break}u===i.length-1&&f.bottom<165&&(d=u+1)}if(d>=0&&d<s.wiredShortPostFeed.length&&o!==d){o=d,c.innerHTML=a[o].navtitle;var h=W.strip(a[o].title);document.title=h+" | WIRED",window.history.replaceState("",h,a[o].permalink),t(a[o]),-1===n.indexOf(o)&&(n.push(o),e(a[o]),CN.stats.omniture.doPageTracking(),p=a[o].keywords);try{jQuery(document).trigger("nextShortPost",p)}catch(m){console.error("Something went wrong with nextShortPost: "+m)}}}};return{scrollEvent:b,init:_.once(w)}}(),W.monitor=function(){function e(e,t,i){var n=w.length,o=0;for("share-card"===e.id?o=2:"sidebar-wrap"===e.id&&(o=-5);n--;)i>w[n].top&&t<w[n].bottom&&(e.classList.contains("absolute")||(e.className+=" absolute",e.classList.remove("sticky"),e.style.top=w[n].top-e.offsetHeight-a+o+"px"),t>w[n].top&&(e.classList.contains("opacity-0")||e.classList.add("opacity-0")))}function t(e,t,i){t>$(e.parentNode).offset().top-W.get("globalNav").clientHeight?(e.classList.contains("sticky")||(e.className+=" sticky",e.classList.remove("absolute"),e.style.top=""),e.classList.contains("opacity-0")&&e.classList.remove("opacity-0")):(e.classList.contains("sticky")&&e.classList.remove("sticky"),""!==e.style.top&&(e.style.top="")),i>r?e.classList.contains("stuck")||(e.classList.add("stuck"),e.style.bottom=W.get("articleTags")?"0px":"13px"):e.classList.contains("stuck")&&(e.classList.remove("stuck"),e.style.bottom="")}function i(){N.forEach(function(e){e.classList.contains("hide")&&e.classList.remove("hide"),e.classList.contains("opacity-0")&&e.classList.remove("opacity-0")})}function n(){N.forEach(function(e){e.classList.contains("opacity-0")||e.classList.add("opacity-0")})}function o(e){h>.4*e+60?i():n()}var s=W.get("article");if(s){var r,a,l,c,d,u=!1,p=$(s).offset().top+s.clientHeight,f=window.innerHeight,h=0,m=0,g=!0,v=!0,y=W.q("[data-sticky]"),w=W.q("[data-skip], .full-width"),b=W.get("header").offsetHeight,T=!0,k=W.getAll("fader"),C=.2*f,S=window.pageYOffset+f,E=!1;(s&&1200===s.offsetHeight||!y)&&(g=!1,W.get("latestNews").classList.remove("squish")),w&&0===w.length&&(v=!1);var x=document.body.classList.contains("fullbleed-post"),A=W.get("fullbleed-short"),L=W.q(".fullbleed-img"),N=W.domToArray(W.getAll("paginate"));(x||A)&&o(L[0].offsetHeight),jQuery(document).on("tallLeaderboard",function(){E=!0,o(410)});var O=_.debounce(function(){var e=w.length;if(f=window.innerHeight,p=s?$(s).offset().top+s.clientHeight:void 0,r=W.get("articleTags")?$(W.get("articleTags")).offset().top+W.get("articleTags").offsetHeight:$(s).offset().top+s.offsetHeight-64,w=W.q("[data-skip], .full-width"),w.length>0)for(v=!0;e--;)w[e].top=$(w[e]).offset().top-64,w[e].bottom=$(w[e]).offset().top+w[e].offsetHeight;W.shortpost.scrollEvent()},150),M=function(){raf(M),h=window.pageYOffset;var i,n=y.length;if(h!==m){if(S=h+f,S>p&&!u)try{jQuery(document).trigger("articleBottom"),u=!0}catch(s){console.error("Failed to track scroll.")}if(g&&W.isMobPlus()){for(b=W.get("header").offsetHeight,h+=b;n--;)if(a=$(y[n].parentNode).offset().top,i=h+y[n].offsetHeight+60,t(y[n],h,i),v&&w.length>0&&e(y[n],h,i),T)for(l=k.length;l--;)c=$(k[l]).offset().top,d=f+h-C>c,d&&!$(k[l]).hasClass("fade-in-up")&&(k[l].className+=" fade-in-up");W.isHuge()&&(x||A?o(L[0].offsetHeight):E===!0&&o(410)),m=window.pageYOffset}}};return $(window).on("resize orientationchange scroll load touchstart",O),$(window).on("touchmove",function(){h=window.pageYOffset}),{init:_.once(M)}}}(),W.ui=function(){var e,t,i,n=!1,o=!1,s=0,r=!1,a=!1,l=[];(document.body.classList.contains("single")||document.body.classList.contains("feature-story-layout"))&&(W.get("inlineGallery")?(e=W.js("gallerySlides",W.get("inlineGallery")),r="iGallery"):W.get("fGallery")?(e=W.js("gallerySlides",W.get("fGallery")),r="fGallery"):(e=W.get("oGallery"),r="oGallery"));var c=function(){var e=$("body");e.on("click submit","[data-ui]",function(e){e.stopPropagation();var t=this.getAttribute("data-ui");if(k[t])return k[t](e);throw new Error("Ui event: "+t+" not defined")}),e.on("mouseleave","[data-hover]",function(e){e.stopPropagation();var t=this.getAttribute("data-hover");if(C[t])return C[t](e);throw new Error("Hover event: "+t+" not defined")}),document.addEventListener("copy",function(e){var t=W.domToArray(W.getAll("postTitle"));t.forEach(function(t){return e.target.isEqualNode(t)?(e.preventDefault(),e.clipboardData.setData("text/plain",e.target.textContent)):void 0})}),hoverintent(W.get("subTog"),C.hoverIn,function(){}),hoverintent(W.get("header"),C.noOutline,function(){})},d=function(e){history.replaceState(void 0,void 0,e)},u=function(e,t){r===t&&$(e).on("afterChange",function(e,t,i){o?d((i+1)%7===0||i===s-1?"#slide-x":"#slide-"+(i-Math.floor(i/7)+1)):o=!0})},p=function(e,t){r===t&&$(e).on("afterChange",function(e,t,i){o?d("#slide-"+(i+1)):o=!0})},f=function(e){return e>0&&(e%7===0||e%7===5)?!0:!1},h=function(){return window.location.hash.indexOf("#slide-")>-1},m=function(e,t){var i=jQuery(document);try{i.trigger("contentType",e),i.trigger("paginationValue",["slide"+t,!0]),i.trigger("theBeacon","slide"+t)}catch(n){console.error("Couldn't send gallery info")}},g=function(){var t=W.domToArray(W.getAll("fGallery")),i="fGallery"===r?W.parseSlide():0;t&&t.forEach(function(t,n){var o=W.js("gallerySlides",t),a=W.domToArray(o.getElementsByTagName("figcaption"));0!==n&&(i=0);var l;$(o).slick({initialSlide:i,dots:!1,lazyLoad:"progressive",infinite:!0,mobileFirst:!0,prevArrow:W.jsAll("arrow",t)[0],nextArrow:W.jsAll("arrow",t)[1],speed:350}),l=$(o).find(".slick-list"),t.style.maxHeight="initial",t.className+=" ready",W.getAll("fLaunch")[n].className+=" ready",W.getAll("fLaunch")[n].setAttribute("data-ui","fullOpen"),$(t).find(".slick-cloned").attr("tabindex","-1"),l.attr("tabindex","-1"),l.attr("aria-hidden","true"),l.attr("role","presentation"),a.forEach(function(e){var t=e.parentNode.getElementsByTagName("img")[0];e.style.maxWidth=t.clientWidth+"px"}),$(o).slick("slickGoTo",i),i<a.length&&a[i].classList.remove("opacity-0"),$(o).on("beforeChange",function(t,i,n,o){var r=t.target.parentNode,a=W.domToArray(W.jsAll("slide",t.target));0===s&&(s=a.length);var l=W.domToArray(t.target.getElementsByTagName("figcaption")),c=a[o+1].getElementsByTagName("figcaption")[0],d=a[o+1].getAttribute("data-slide-number");e=t.currentTarget,l.forEach(function(e){e.classList.contains("opacity-0")||(e.className+=" opacity-0")}),c&&c.classList.remove("opacity-0"),m(r.getAttribute("data-gallery"),d)}),"fGallery"===r&&h()&&(W.get("fGallery").className+=" active",m("slideshow|fullscreen",parseInt(window.location.hash.replace("#slide-",""),10))),0===n&&p(o,"fGallery")})},v=function(){var t=W.domToArray(W.getAll("inlineGallery")),i="iGallery"===r?W.parseSlide():0;t&&t.forEach(function(t,n){var o=W.js("gallerySlides",t),a=W.domToArray(o.getElementsByTagName("figcaption"));if(0!==n&&(i=0),$(o).slick({initialSlide:i,accessibility:!0,dots:!1,lazyLoad:"progressive",infinite:!0,mobileFirst:!0,prevArrow:W.jsAll("arrow",t)[0],nextArrow:W.jsAll("arrow",t)[1],speed:350}),t.style.maxHeight="initial",t.className+=" ready",f(i)){var l=W.q("[data-order='"+i+"']");l.length>=1&&l[0].classList.add("deepLinked")}$(o).slick("slickGoTo",i);var c=0;h()&&(c=parseInt(window.location.hash.replace("#slide-",""),10)-1),c<a.length&&a[c].classList.remove("opacity-0"),$(o).on("beforeChange",function(t,i,n,o){var r=jQuery(document),a=t.target.parentNode,l=W.domToArray(W.jsAll("slide",t.target)),c=l.filter(function(e){return!e.classList.contains("slick-cloned")});0===s&&(s=c.length);var d=W.domToArray(t.target.getElementsByTagName("figcaption")),u=c[o].getElementsByTagName("figcaption")[0],p=c[o].getAttribute("data-slide-number");e=t.currentTarget,d.forEach(function(e){e.classList.contains("opacity-0")||(e.className+=" opacity-0")}),u&&u.classList.remove("opacity-0"),-1!==c[o].classList.toString().indexOf("rad")&&r.trigger("galleryRadReady",c[o]),m(a.getAttribute("data-gallery"),p)}),"iGallery"===r&&h()&&m("gallery|embedded",parseInt(window.location.hash.replace("#slide-",""),10)),0===n&&u(o,"iGallery")})},y=function(){var t=$(W.get("oGallery")).find(W.get("gallerySlides")),i=[],n="oGallery"===r?W.parseSlide():0;t[0]&&(i=W.domToArray(t[0].getElementsByTagName("figcaption")),t.slick({dots:!1,lazyLoad:"progressive",infinite:!0,mobileFirst:!0,prevArrow:W.jsAll("arrow",W.get("oGallery"))[0],nextArrow:W.jsAll("arrow",W.get("oGallery"))[1],speed:350}),i.forEach(function(e){e.style.maxWidth=e.previousElementSibling.clientWidth+"px"}),t.slick("slickGoTo",n),n<i.length&&i[n].classList.remove("opacity-0"),t.on("beforeChange",function(t,i,n,o){var r=t.target.parentNode,a=W.domToArray(W.jsAll("slide",t.target));0===s&&(s=a.length);var l=W.domToArray(t.target.getElementsByTagName("figcaption")),c=a[o+1].getElementsByTagName("figcaption")[0],d=a[o+1].getAttribute("data-slide-number");e=t.currentTarget,l.forEach(function(e){e.classList.contains("opacity-0")||(e.className+=" opacity-0")}),c&&c.classList.remove("opacity-0"),m(r.getAttribute("data-gallery"),d)}),"oGallery"===r&&h()&&(W.get("oGallery").className+=" active",m("slideshow|overlay",parseInt(window.location.hash.replace("#slide-",""),10))),p(t[0],"oGallery"))},w=function(){var e=W.domToArray(W.getAll("imgZoomer"));e.forEach(function(e){function t(e,t,i,n,o){var s=o.width(),r=o.height(),a=s/2,l=r/2,c=n/i,d=Math.round(e*c),u=Math.round(t*c),p=-d+a+"px "+(-u+l)+"px";o.css({display:"block",left:e-a,top:t-l,backgroundPosition:p})}$(e).mouseout(function(){$(this).find(".zoomer-img").fadeOut(100)}).mousemove(function(e){var i=$(this),n=i.find("img").first(),o=i.find(".zoomer-img").first();if(window.scrollY>0&&n.hasClass("fixed")||n.hasClass("sticky"))return void o.fadeOut(100);var s=W.trueOffset(i),r=e.pageX-s.left,a=e.pageY-s.top,l=n.width(),c=n.height(),d=n.data("width");l>r&&c>a&&r>0&&a>0&&d>l?(this.classList.contains("hide-mouse")||this.classList.add("hide-mouse"),o.fadeIn(100),t(r,a,l,d,o)):this.classList.contains("hide-mouse")&&this.classList.remove("hide-mouse")})})},b=function(){k.commentsOpen()},T=function(){var t=!1;$("input").blur(function(){t=!1}).focus(function(){t=!0}),$("body").on("keydown",function(i){var n=65;if(27===i.keyCode)return raf(k.closeEverything.bind(this));if(!t&&!(i.ctrlKey||i.altKey||i.shiftKey||i.metaKey)){for(n;91>n;n++)if(i.keyCode===n)return raf(k.searchOpen.bind(this));if(32===i.keyCode||34===i.keyCode||33===i.keyCode)return i.preventDefault(),raf(function(){return k.spaceJack(i)});if(9===i.keyCode)return k.tabJack(i);if(document.body.classList.contains("single")){if(37===i.keyCode)return raf(function(){return $(e).slick("slickPrev")});if(39===i.keyCode)return raf(function(){return $(e).slick("slickNext")})}}})},k={closeEverything:function(){k.overlayClose(),k.fullClose(),k.navClose(),k.searchClose(),C.hoverOut()},closeNav:function(){k.navClose(),C.hoverOut()},commentsClose:function(){var e=W.get("commentContainer"),t=W.get("comTog"),i=W.get("commentX");$(e).transit().css("height","0px").addClass("visibility-hidden"),i.classList.remove("ui-comment-close"),i.className+=" ui-comment-open",t.setAttribute("data-ui","commentsOpen"),W.get("commentText").textContent="View comments",$(e).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.style.height="0px"})},commentsOpen:function(){var e=W.get("commentContainer"),t=W.get("commentX"),i=W.get("comTog"),n=W.get("disqusContainer").clientHeight;k.scrollToComments(),"commentsClose"!==i.getAttribute("data-ui")&&(e.className+=" comments-active",e.classList.remove("visibility-hidden"),e.style.height=n+"px",t.classList.remove("ui-comment-open"),t.className+=" ui-comment-close",i.setAttribute("data-ui","commentsClose"),W.get("commentText").textContent="Hide comments"),$(e).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.style.height="100%"
})},fallbackClick:function(){return W.isMob()?void window.open("https://www.wired.com/go/mobilefailsafe","_blank"):void window.open("http://www.wired.com/go/failsafe","_blank")},fsbScrollToChapter:function(e){function t(){a=!1}e.preventDefault();var n=e.target.getAttribute("data-anchor"),o=FSBapp.cache.chaptersArr[n-1].dom;i=o,a=!0,$.js("anchor").removeClass("active"),e.target.className+=" active",$("html, body").animate({scrollTop:$(o).offset().top-50},500),setTimeout(t,4e3)},fullClose:function(e){var t=W.jsAll("arrow",W.get("fGallery"));("undefined"==typeof e||e.target!==t[0]&&e.target!==t[1])&&W.get("fGallery")&&(W.get("fGallery").classList.remove("active"),"fGallery"===r&&d(""))},fullOpen:function(){W.get("fGallery").className+=" active",d("#slide-1")},hideMe:function(e){e.preventDefault();var t=$(e.currentTarget);t.is(".success")||t.stop().fadeOut()},howRateClose:function(e){e.preventDefault(),$(W.get("howWeRate")).transit().addClass("hide")},howRateOpen:function(e){e.preventDefault(),$(W.get("howWeRate")).transit().removeClass("hide")},navClose:_.debounce(function(){var e=W.get("boxes"),i=W.get("prefooter"),o=$(W.get("header"));o.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),$("[data-headroom]").removeClass("nav-active subscribe-active"),e.classList.remove("ui-close"),e.classList.contains("ui-boxes")||(e.className+=" ui-boxes"),W.get("header").classList.remove("hr-pinned"),W.get("navTog").setAttribute("data-ui","navOpen"),W.get("navSecondary").classList.contains("hide")||(W.get("navSecondary").className+=" hide"),W.isMob()&&n&&(o.css({height:"","min-height":0,"overflow-x":""}),$("body").css({height:"","overflow-x":"visible"}),o.removeClass("absolute").addClass("fixed"),W.get("main").classList.remove("hide"),W.get("footer").classList.remove("hide"),i&&i.classList.remove("hide"),document.body.scrollTop=document.documentElement.scrollTop=t),n=!1},50),navOpen:_.debounce(function(){var e,i=$(W.get("header")),o=W.get("boxes");k.searchClose(),C.hoverOut(),i.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),$("[data-headroom]").removeClass("hr-unpinned").addClass("nav-active hr-pinned"),o.classList.remove("ui-boxes"),o.className+=" ui-close",W.get("navTog").setAttribute("data-ui","navClose"),W.get("navSecondary").classList.remove("hide"),W.isMob()&&!n&&(t=window.pageYOffset,e=W.get("prefooter"),setTimeout(function(){var t=$(W.get("logoBar")).height()+$(W.get("navSearch")).height()+$(W.get("navSections")).height()+$(W.get("navSecondary")).height()+50;$("body").css({height:t,"min-height":t,"overflow-x":"hidden"}),i.css({height:t,"min-height":$(window).height()}),i.removeClass("fixed").addClass("absolute"),W.get("main").className+=" hide",W.get("footer").className+=" hide",e&&(e.className+=" hide"),document.body.scrollTop=document.documentElement.scrollTop=0},175)),n=!0},50),overlayClose:function(e){var t=W.jsAll("arrow",W.get("oGallery"));("undefined"==typeof e||e.target!==t[0]&&e.target!==t[1])&&W.get("oGallery")&&(W.get("oGallery").classList.remove("active"),"oGallery"===r&&d(""))},overlayOpen:function(t){var i=t.target.getAttribute("data-order");e=W.get("oGallery"),W.get("oGallery").className+=" active",$(W.js("gallerySlides",e)).slick("slickGoTo",i)},poweredByOutbrain:function(){return OBR.extern.callWhatIs("http://www.outbrain.com/what-is/default/en","",-1,-1,!0,null)},scrollToTop:function(e){e.preventDefault(),$("html, body").animate({scrollTop:"0"},500)},scrollToComments:function(){var e=$(W.get("main")).height()+390;$("html, body").animate({scrollTop:e},500)},searchClose:function(){var e=W.get("header"),t=W.get("search");W.isMobPlus()&&(W.get("navSearch").style.opacity="0"),t.classList.remove("ui-close"),t.className+=" ui-search",W.get("searchTog").setAttribute("data-ui","searchOpen"),$(W.get("searchInput")).blur(),setTimeout(function(){e.classList.remove("search-active"),W.get("navSearch").style.opacity=""},350)},searchOpen:function(){var e=W.get("header"),t=W.get("search");k.navClose(),C.hoverOut(),e.style.transition="none",e.className+=" search-active",W.isBigPlus()&&e.removeAttribute("data-hover"),t.className+=" ui-close",t.classList.remove("ui-search"),W.get("searchTog").setAttribute("data-ui","searchClose"),$(W.get("searchInput")).focus()},spaceJack:function(e){var t=window.pageYOffset,i=window.innerHeight-(W.get("header").clientHeight+50),n=t+i;33===e.keyCode&&(n=t-i),document.body.scrollTop=document.documentElement.scrollTop=n},submitForm:function(e){var t,i,n,o,s,r;(!$(e.target).is("input")||"click"!==e.type&&"submit"!==e.type)&&(e.preventDefault(),n=$(e.target).parents(".cm-newsletter"),t=$(".mc-embedded-subscribe-form",n),o=$(".mce-email",n),s=$(".email-submit .error",n),r=$(".email-submit .success",n),i=W.validateEmail($(".mce-email",n).val()),$(".news-msg",n).is(":visible")&&$(".news-msg",n).fadeOut(),o.on("click",function(){$(this).val("")}),i?$.ajax({type:t.attr("method"),url:t.attr("action"),data:t.serialize(),cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",error:function(){n.addClass("error exchange-sm").text("Could not connect to the registration server. Please try again later.").fadeIn(250)},success:function(e){if("success"!==e.result){var i;i=-1!==e.msg.indexOf("<a")?"The email you entered has already been subscribed to the WIRED newsletter.":"Too many subscribe attempts using this email address. Please try again in 5 minutes.",n.focus().addClass("error link-underline-sm exchange-sm").text(i).fadeIn(250)}else t.removeAttr("data-ui"),r.focus().toggleClass("visibility-hidden opacity-0").delay(3e3).promise().done(function(){r.toggleClass("visibility-hidden opacity-0"),t.attr("data-ui","submitForm"),o.val("");try{jQuery(document).trigger("newsletterSubmit")}catch(e){console.error("Could not track newsletter event because: ",e)}})}}):(t.removeAttr("data-ui"),s.toggleClass("visibility-hidden opacity-0"),o.on("click",function(){s.toggleClass("visibility-hidden opacity-0"),t.attr("data-ui","submitForm"),o.val("")})))},subOpen:function(){return W.isMob()?void window.open("http://www.wired.com/go/mobilefailsafe","_blank"):void window.open("http://www.wired.com/go/failsafe","_blank")},tabJack:function(t){function i(){return $(W.get("header")).has(t.target).length>0||$(t.target).parents("#global-header").length>0}function o(){return $(e).has(t.target).length>0||$(t.target).parents(e).length>0}return $(".no-outline").add(".focused").removeClass("focused no-outline"),t.target.className+=" focused",!n&&i()?k.navOpen():n&&!i()?k.closeNav():e&&o()?$(e).find(".opacity-0").removeClass("opacity-0"):void 0}},C={hoverIn:function(){var e=W.get("header"),t=W.get("subTog"),i=W.get("cmNewsletter"),n=W.get("cmHeader"),o=W.get("navSecondary");k.searchClose(),$("[data-headroom]").transit().addClass("subscribe-active").removeClass("nav-active"),t.className+=" ui-close",e.setAttribute("data-hover","hoverOut"),e.className+=" hr-pinned",e.classList.remove("hr-unpinned"),i.classList.remove("border-l"),i.classList.remove("border-r"),n.classList.remove("border-l"),n.classList.remove("border-r"),o.classList.add("hide")},hoverOut:_.debounce(function(){var e=$("[data-headroom]");e.hasClass("subscribe-active")&&(e.transit().removeClass("subscribe-active"),W.get("header").classList.remove("hr-pinned"),W.get("subTog").classList.remove("ui-close"),W.get("navSecondary").classList.remove("hide"),W.get("header").removeAttribute("data-hover"),W.get("searchTog").setAttribute("data-ui","searchOpen"))},50),noOutline:function(){return $(W.get("header").getElementsByTagName("button")).addClass("no-outline")}},S=function(){function e(e,t,i){e.on("mousedown vmousedown",function(n){e.addClass("draggable"),t.addClass("resizable");var o=e.outerWidth(),s=e.offset().left+o-n.pageX,r=i.offset().left,a=i.outerWidth(),l=r,c=r+a-o+2;e.parents().on("mousemove vmousemove",function(e){var i=e.pageX+s-o;l>i?i=l:i>c&&(i=c);var n=100*(i+o/2-r)/a+"%";$(".draggable").css("left",n).on("mouseup vmouseup",function(){$(this).removeClass("draggable"),t.removeClass("resizable")}),$(".resizable").css("width",n)}).on("mouseup vmouseup",function(){e.removeClass("draggable"),t.removeClass("resizable")}),n.preventDefault()}).on("mouseup vmouseup",function(){e.removeClass("draggable"),t.removeClass("resizable")})}if(W.isMob()){var t=$(".slide-comparison-mob"),i=$(".cd-handle-mob");i.css("top",-(t.height()/2)-50)}$(".cd-image-container").each(function(){var t=$(this);e(t.find(".cd-handle"),t.find(".cd-resize-img"),t)});var n=W.domToArray(W.jsAll("slider")),o=W.domToArray(W.jsAll("divisor"));n.length===o.length&&n.forEach(function(e,t){e.addEventListener("input",function(){o[t].style.width=e.value+"%"},!1)})},E=function(e,t){var i;for(i=0;i<l.length;i++)if(e===l[i])return;l.push(e),a===!0&&window.scrollBy(0,t)},x=function(e){var t,i=0;for(t=0;t<l.length;t++)if(e===l[t])return;var n=setInterval(function(){i++;var t=$("#"+e).find("iframe").height();return t>2?(clearInterval(n),l.push(e),void(a===!0&&window.scrollBy(0,t))):void(i>10&&clearInterval(n))},500)};return jQuery(document).on("headroomUnpinned",function(){return k.navClose()}),{bound:_.once(c),commentLink:_.once(b),iGallery:_.once(v),fGallery:_.once(g),oGallery:_.once(y),imgZoomer:_.once(w),keyCommand:_.once(T),comparison:_.once(S),accountForFsbRadHeights:E,fsbParallaxRadHeights:x}}(),document.body.classList.contains("feature-story-post")&&document.querySelector('[data-ui="fsbScrollToChapter"]')&&document.body.classList.contains("single")&&jQuery(document).on("radsRendered",function(e,t){var i;if(i=t&&t.slot?t.slot.getSlotElementId():!1,i&&t.size)try{2===t.size[1]?W.ui.fsbParallaxRadHeights(i):W.ui.accountForFsbRadHeights(i,t.size[1])}catch(n){console.error("W.UI error: could not account for rad heights because: ",n)}});try{W.ui.bound()}catch(err){console.error("couldn't initialize UI cause of "+err)}try{W.init.removeCommaLatestNews()}catch(err){console.error("INIT ERROR: couldn't do Wired.init.removeCommaLatestNews cause of "+err)}try{W.init.header()}catch(err){console.error("INIT ERROR: couldn't initialize headroom cause of "+err)}try{W.init.videoPlaylistHeightFix()}catch(err){console.error("INIT ERROR: couldn't initialize videoPlaylistHeightFix cause of "+err)}try{W.init.calcVidSocMediaPadding()}catch(err){console.error("INIT ERROR: couldn't initialize calcVidSocMediaPadding cause of "+err)}if(document.body.classList.contains("single")){if(W.get("slideComparison")||W.get("slideComparisonMob"))try{W.ui.comparison()}catch(err){console.error("INIT ERROR: couldnt bind comparison slider cause of "+err)}if(W.get("related-outbrain"))try{W.recirc.outbrain(W.get("related-outbrain"),"","related-outbrain")}catch(err){W.smart.rec(W.get("related-outbrain"))}}if(!W.isCurated()&&(document.body.classList.contains("single")||document.body.classList.contains("page"))){try{W.recirc.outbrain(W.get("we-recommend"),"JS_1","we-recommend")}catch(err){W.smart.rec(W.get("we-recommend")),console.error("INIT ERROR: couldn't initialize outbrain cause of "+err)}try{W.recirc.outbrain(W.get("around-the-web"),"JS_2","around-the-web")}catch(err){W.smart.rec(W.get("around-the-web")),console.error("INIT ERROR: couldn't initialize outbrain cause of "+err)}}if(document.body.classList.contains("short-post"))try{W.shortpost.init()}catch(err){console.error("INIT ERROR: couldn't initialize short posts cause of "+err)}if(document.body.classList.contains("single")&&!document.body.classList.contains("single-magazine")||document.body.classList.contains("sponsored-polar")){try{W.init.fbCount(!1)}catch(err){console.error("INIT ERROR: couldn't get fb count cause of: "+err)}try{W.init.twitCount(!1)}catch(err){console.error("INIT ERROR: couldn't get pint count cause of: "+err)}try{W.init.pintCount(!1)}catch(err){console.error("INIT ERROR: couldn't get twit count cause of: "+err)}}if(document.body.classList.contains("single")&&!document.body.classList.contains("single-magazine")){if(document.body.className+=W.get("inlineGallery")||W.get("fGallery")?" gallery-post":" no-gallery",W.get("inlineGallery"))try{W.ui.iGallery(),$(".slick-list").attr("tabindex","-1")}catch(err){console.error("INIT ERROR: couldn't init gallery cause of "+err)}if(W.get("imgZoomer"))try{W.ui.imgZoomer()}catch(err){console.error("INIT ERROR: couldn't init img zoomer cause of "+err)}try{W.monitor.init()}catch(err){console.error("INIT ERROR: couldn't initialize stickies cause of "+err)}if(W.isMobPlus())try{W.init.articleHeight()}catch(err){console.error("INIT ERROR: couldn't initialize article height check cause of "+err)}if(!document.body.classList.contains("short-post"))try{W.init.addVideoWrapper()}catch(err){console.error("INIT ERROR: couldn't do Wired.init.addVideoWrapper cause of "+err)}if(!document.body.classList.contains("tumblr-liveblog")&&!document.body.classList.contains("cyphon-archive")&&!document.body.classList.contains("short-post"))try{W.init.lede(3)}catch(err){console.error("INIT ERROR: couldn't do Wired.init.lede cause of "+err)}if(document.body.classList.contains("gallery-post"))try{W.init.addCreditIconsIfMissing()}catch(err){console.error("INIT ERROR: couldn't add credit icon cause of "+err)}}try{W.ui.keyCommand()}catch(err){console.error("INIT ERROR: couldn't bind key commands cause of "+err)}try{W.init.exposeRandomSocialBox()}catch(err){console.error("INIT ERROR: random social CM unit could not be displayed because of "+err)}if(W.fallback()){try{W.init.fallback()}catch(err){console.error("INIT ERROR: couldn't show CM fallbacks "+err)}if(W.isCurated())try{W.init.polarFallback()}catch(err){console.error("INIT ERROR: could not show Polar Card fallback: "+err)}}try{FastClick.attach(document.body)}catch(err){console.error("INIT ERROR: couldn't attach fastClick cause of "+err)}$(window).on("resize",function(){var e=W.get("prefooter");W.isMed()&&(document.body.classList.remove("no-scroll"),$(W.get("header")).removeClass("absolute").addClass("fixed"),W.get("header").style.height="",W.get("main").classList.remove("hide"),W.get("footer").classList.remove("hide"),e&&e.classList.contains("hide")&&e.classList.remove("hide")),W.init.calcVidSocMediaPadding(),W.init.videoPlaylistHeightFix()}),$(window).load(function(){if(console.log("backstopReady"),document.body.classList.contains("single")&&!document.body.classList.contains("tumblr-liveblog")){if(W.get("fGallery"))try{W.ui.fGallery()}catch(e){console.error("INIT ERROR: couldn't init gallery cause of "+e)}if(!document.body.classList.contains("short-post")&&!document.body.classList.contains("cyphon-archive"))try{W.ui.oGallery(),W.init.oGallery()}catch(e){console.error("INIT ERROR: couldn't initialize expandable gallery cause of "+e)}$(".slick-list").attr("tabindex","-1")}if(window.location.href.indexOf("/#comment-")>=0)try{W.ui.commentLink()}catch(e){console.error("INIT ERROR: couldn't find disqus comment because "+e)}var t=document.getElementById("grid");if(t){var i=t.getAttribute("data-refresh");i&&(i=parseInt(i,10),W.init.refresher(i))}});
}(jQuery, window.requestAnimationFrame, {}));/* end file: wired*/
/* file: ads :  : /cn/runtime/wired-wp/wordpress/wp-content/themes/Phoenix/assets/js/dist/ads.min.js */(function($, raf, W){
"use strict";
/**
 * @license
 * lodash 3.5.0 (Custom Build) lodash.com/license | Underscore.js 1.8.2 underscorejs.org/LICENSE
 * Build: `lodash --output ./wp-content/themes/Phoenix/assets/js/lib/lodash.custom.js include="once,debounce,throttle,each,filter"`
 */
if(function(){function e(e){return"function"==typeof e||!1}function t(e){return e&&"object"==typeof e||!1}function n(){}function r(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function a(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}function o(e,t){for(var n=-1,r=e.length,a=-1,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[++a]=i)}return o}function i(e,t,n){n||(n=t,t={});for(var r=-1,a=n.length;++r<a;){var o=n[r];t[o]=e[o]}return t}function s(e,t,r){var a=typeof e;if("function"==a){if(a="undefined"!=typeof t){var a=n.support,o=!(a.funcNames?e.name:a.funcDecomp);if(!o){var i=Wt.call(e);a.funcNames||(o=!mt.test(i)),o||(o=gt.test(i)||T(e),tn(e,o))}a=o}e=a?h(e,t,r):e}else e=null==e?D:"object"==a?m(e):"undefined"==typeof t?y(e+""):p(e+"",t);return e}function c(e,t,n,o,s,d,l){var f;if(n&&(f=s?n(e,o,s):n(e)),"undefined"!=typeof f)return f;if(!M(e))return e;if(o=rn(e)){if(f=x(e),!t)return r(e,f)}else{var m=Tt.call(e),p=m==Z;if(m!=X&&m!=V&&(!p||s))return wt[m]?N(e,m,t):s?e:{};if(Lt(e))return s?e:{};if(f=E(p?{}:e),!t)return i(e,f,on(e))}for(d||(d=[]),l||(l=[]),s=d.length;s--;)if(d[s]==e)return l[s];return d.push(e),l.push(f),(o?a:u)(e,function(r,a){f[a]=c(r,t,n,a,e,d,l)}),f}function d(e,t){var n=e?e.length:0;if(!C(n))return u(e,t);for(var r=-1,a=L(e);++r<n&&!1!==t(a[r],r,a););return e}function l(e,t){var n=[];return d(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n}function u(e,t){for(var n=on,r=-1,a=L(e),n=n(e),o=n.length;++r<o;){var i=n[r];if(!1===t(a[i],i,a))break}return e}function f(e,t,n,r,a,o){if(e===t)return 0!==e||1/e==1/t;var i=typeof e,s=typeof t;if("function"!=i&&"object"!=i&&"function"!=s&&"object"!=s||null==e||null==t)e=e!==e&&t!==t;else e:{var i=f,s=rn(e),c=rn(t),d=H,l=H;s||(d=Tt.call(e),d==V?d=X:d!=X&&(s=q(e))),c||(l=Tt.call(t),l==V?l=X:l!=X&&q(t));var u=d==X&&!Lt(e),c=l==X&&!Lt(t),l=d==l;if(!l||s||u)if(d=u&&Mt.call(e,"__wrapped__"),c=c&&Mt.call(t,"__wrapped__"),d||c)e=i(d?e.value():e,c?t.value():t,n,r,a,o);else if(l){for(a||(a=[]),o||(o=[]),d=a.length;d--;)if(a[d]==e){e=o[d]==t;break e}a.push(e),o.push(t),e=(s?b:w)(e,t,i,n,r,a,o),a.pop(),o.pop()}else e=!1;else e=v(e,t,d)}return e}function m(e){var t=on(e),n=t.length;if(1==n){var r=t[0],a=e[r];if(_(a))return function(e){return null!=e&&e[r]===a&&Mt.call(e,r)}}for(var o=Array(n),i=Array(n);n--;)a=e[t[n]],o[n]=a,i[n]=_(a);return function(e){e:{var n=t.length;if(null==e)e=!n;else{for(var r=-1;++r<n;)if(i[r]?o[r]!==e[t[r]]:!Mt.call(e,t[r])){e=!1;break e}for(r=-1;++r<n;){var a=t[r];if(i[r])a=Mt.call(e,a);else{var s=e[a],c=o[r],a=F;"undefined"==typeof a&&(a=f(c,s,void 0,!0))}if(!a){e=!1;break e}}e=!0}}return e}}function p(e,t){return _(t)?function(n){return null!=n&&n[e]===t}:function(n){return null!=n&&f(t,n[e],null,!0)}}function y(e){return function(t){return null==t?F:t[e]}}function h(e,t,n){if("function"!=typeof e)return D;if("undefined"==typeof t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,a){return e.call(t,n,r,a)};case 4:return function(n,r,a,o){return e.call(t,n,r,a,o)};case 5:return function(n,r,a,o,i){return e.call(t,n,r,a,o,i)}}return function(){return e.apply(t,arguments)}}function g(e){return zt.call(e,0)}function b(e,t,n,r,a,o,i){var s=-1,c=e.length,d=t.length,l=!0;if(c!=d&&(!a||c>=d))return!1;for(;l&&++s<c;){var u=e[s],f=t[s],l=F;if(r&&(l=a?r(f,u,s):r(u,f,s)),"undefined"==typeof l)if(a)for(var m=d;m--&&(f=t[m],!(l=u&&u===f||n(u,f,r,a,o,i))););else l=u&&u===f||n(u,f,r,a,o,i)}return!!l}function v(e,t,n){switch(n){case J:case K:return+e==+t;case Y:return e.name==t.name&&e.message==t.message;case G:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case et:case tt:return e==t+""}return!1}function w(e,t,n,r,a,o,i){var s=on(e),c=s.length,d=on(t).length;if(c!=d&&!a)return!1;for(var l,d=-1;++d<c;){var u=s[d],f=Mt.call(t,u);if(f){var m=e[u],p=t[u],f=F;r&&(f=a?r(p,m,u):r(m,p,u)),"undefined"==typeof f&&(f=m&&m===p||n(m,p,r,a,o,i))}if(!f)return!1;l||(l="constructor"==u)}return l||(n=e.constructor,r=t.constructor,!(n!=r&&"constructor"in e&&"constructor"in t)||"function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)?!0:!1}function x(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Mt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function E(e){return e=e.constructor,"function"==typeof e&&e instanceof e||(e=Object),new e}function N(e,t,n){var r=e.constructor;switch(t){case nt:return g(e);case J:case K:return new r(+e);case rt:case at:case ot:case it:case st:case ct:case dt:case lt:case ut:return r instanceof r&&(r=Gt[t]),t=e.buffer,new r(n?g(t):t,e.byteOffset,e.length);case G:case tt:return new r(e);case et:var a=new r(e.source,ft.exec(e));a.lastIndex=e.lastIndex}return a}function A(e,t){return e=+e,t=null==t?Yt:t,e>-1&&0==e%1&&t>e}function C(e){return"number"==typeof e&&e>-1&&0==e%1&&Yt>=e}function _(e){return e===e&&(0===e?1/e>0:!M(e))}function I(e){for(var t=z(e),r=t.length,a=r&&e.length,o=n.support,o=a&&C(a)&&(rn(e)||o.nonEnumStrings&&$(e)||o.nonEnumArgs&&W(e)),i=-1,s=[];++i<r;){var c=t[i];(o&&A(c,a)||Mt.call(e,c))&&s.push(c)}return s}function L(e){if(n.support.unindexedChars&&$(e)){for(var t=-1,r=e.length,a=Object(e);++t<r;)a[t]=e.charAt(t);return a}return M(e)?e:Object(e)}function j(e,t,r){var a=rn(e)?o:l,i=n.callback||O,i=i===O?s:i;return t=i(t,r,3),a(e,t)}function B(e,t,n){return"function"==typeof t&&"undefined"==typeof n&&rn(e)?a(e,t):d(e,h(t,n,3))}function k(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new TypeError(Q);var r=e;e=t,t=r}return function(){return 0<--e?n=t.apply(this,arguments):t=null,n}}function S(e,t,n){function r(){var n=t-(nn()-d);0>=n||n>t?(s&&clearTimeout(s),n=f,s=u=f=F,n&&(m=nn(),c=e.apply(l,i),u||s||(i=l=null))):u=setTimeout(r,n)}function a(){u&&clearTimeout(u),s=u=f=F,(y||p!==t)&&(m=nn(),c=e.apply(l,i),u||s||(i=l=null))}function o(){if(i=arguments,d=nn(),l=this,f=y&&(u||!h),!1===p)var n=h&&!u;else{s||h||(m=d);var o=p-(d-m),g=0>=o||o>p;g?(s&&(s=clearTimeout(s)),m=d,c=e.apply(l,i)):s||(s=setTimeout(a,o))}return g&&u?u=clearTimeout(u):u||t===p||(u=setTimeout(r,t)),n&&(g=!0,c=e.apply(l,i)),!g||u||s||(i=l=null),c}var i,s,c,d,l,u,f,m=0,p=!1,y=!0;if("function"!=typeof e)throw new TypeError(Q);if(t=0>t?0:+t||0,!0===n)var h=!0,y=!1;else M(n)&&(h=n.leading,p="maxWait"in n&&Ht(+n.maxWait||0,t),y="trailing"in n?n.trailing:y);return o.cancel=function(){u&&clearTimeout(u),s&&clearTimeout(s),s=u=f=F},o}function W(e){return C(t(e)?e.length:F)&&Tt.call(e)==V||!1}function M(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}function T(e){return null==e?!1:Tt.call(e)==Z?$t.test(Wt.call(e)):t(e)&&(Lt(e)?$t:pt).test(e)||!1}function $(e){return"string"==typeof e||t(e)&&Tt.call(e)==tt||!1}function q(e){return t(e)&&C(e.length)&&vt[Tt.call(e)]||!1}function z(e){if(null==e)return[];M(e)||(e=Object(e));for(var t=e.length,r=n.support,t=t&&C(t)&&(rn(e)||r.nonEnumStrings&&$(e)||r.nonEnumArgs&&W(e))&&t||0,a=e.constructor,o=-1,a=an(a)&&a.prototype||kt,i=a===e,s=Array(t),c=t>0,d=r.enumErrorProps&&(e===Bt||e instanceof Error),l=r.enumPrototypes&&an(e);++o<t;)s[o]=o+"";for(var u in e)l&&"prototype"==u||d&&("message"==u||"name"==u)||c&&A(u,t)||"constructor"==u&&(i||!Mt.call(e,u))||s.push(u);if(r.nonEnumShadows&&e!==kt)for(t=e===St?tt:e===Bt?Y:Tt.call(e),r=Xt[t]||Xt[X],t==X&&(a=kt),t=bt.length;t--;)u=bt[t],o=r[u],i&&o||(o?!Mt.call(e,u):e[u]===a[u])||s.push(u);return s}function R(e){return(e="string"==typeof e?e:null==e?"":e+"")&&ht.test(e)?e.replace(yt,"\\$&"):e}function O(e,n,r){var a;return(a=r)&&(M(r)?(a=typeof n,"number"==a?(a=r.length,a=C(a)&&A(n,a)):a="string"==a&&n in r,a?(r=r[n],a=e===e?e===r:r!==r):a=!1):a=!1),a&&(n=null),t(e)?U(e):s(e,n)}function P(e){return function(){return e}}function D(e){return e}function U(e){return m(c(e,!0))}var F,Q="Expected a function",V="[object Arguments]",H="[object Array]",J="[object Boolean]",K="[object Date]",Y="[object Error]",Z="[object Function]",G="[object Number]",X="[object Object]",et="[object RegExp]",tt="[object String]",nt="[object ArrayBuffer]",rt="[object Float32Array]",at="[object Float64Array]",ot="[object Int8Array]",it="[object Int16Array]",st="[object Int32Array]",ct="[object Uint8Array]",dt="[object Uint8ClampedArray]",lt="[object Uint16Array]",ut="[object Uint32Array]",ft=/\w*$/,mt=/^\s*function[ \n\r\t]+\w/,pt=/^\[object .+?Constructor\]$/,yt=/[.*+?^${}()|[\]\/\\]/g,ht=RegExp(yt.source),gt=/\bthis\b/,bt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),vt={};vt[rt]=vt[at]=vt[ot]=vt[it]=vt[st]=vt[ct]=vt[dt]=vt[lt]=vt[ut]=!0,vt[V]=vt[H]=vt[nt]=vt[J]=vt[K]=vt[Y]=vt[Z]=vt["[object Map]"]=vt[G]=vt[X]=vt[et]=vt["[object Set]"]=vt[tt]=vt["[object WeakMap]"]=!1;var wt={};wt[V]=wt[H]=wt[nt]=wt[J]=wt[K]=wt[rt]=wt[at]=wt[ot]=wt[it]=wt[st]=wt[G]=wt[X]=wt[et]=wt[tt]=wt[ct]=wt[dt]=wt[lt]=wt[ut]=!0,wt[Y]=wt[Z]=wt["[object Map]"]=wt["[object Set]"]=wt["[object WeakMap]"]=!1;var xt={leading:!1,maxWait:0,trailing:!1},Et={"function":!0,object:!0},Nt=Et[typeof exports]&&exports&&!exports.nodeType&&exports,At=Et[typeof module]&&module&&!module.nodeType&&module,Ct=Et[typeof window]&&window,_t=At&&At.exports===Nt&&Nt,It=Nt&&At&&"object"==typeof global&&global||Ct!==(this&&this.window)&&Ct||this,Lt=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}(),jt=Array.prototype,Bt=Error.prototype,kt=Object.prototype,St=String.prototype,Wt=Function.prototype.toString,Mt=kt.hasOwnProperty,Tt=kt.toString,$t=RegExp("^"+R(Tt).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=T(qt=It.ArrayBuffer)&&qt,zt=T(zt=qt&&new qt(0).slice)&&zt,Rt=Math.floor,Ot=kt.propertyIsEnumerable,Pt=jt.splice,Dt=T(Dt=It.Uint8Array)&&Dt,Ut=T(Ut=It.WeakMap)&&Ut,Ft=function(){try{var e=T(e=It.Float64Array)&&e,t=new e(new qt(10),0,1)&&e}catch(n){}return t}(),Qt=T(Qt=Array.isArray)&&Qt,Vt=T(Vt=Object.keys)&&Vt,Ht=Math.max,Jt=T(Jt=Date.now)&&Jt,Kt=Ft?Ft.BYTES_PER_ELEMENT:0,Yt=Math.pow(2,53)-1,Zt=Ut&&new Ut,Gt={};Gt[rt]=It.Float32Array,Gt[at]=It.Float64Array,Gt[ot]=It.Int8Array,Gt[it]=It.Int16Array,Gt[st]=It.Int32Array,Gt[ct]=It.Uint8Array,Gt[dt]=It.Uint8ClampedArray,Gt[lt]=It.Uint16Array,Gt[ut]=It.Uint32Array;var Xt={};Xt[H]=Xt[K]=Xt[G]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Xt[J]=Xt[tt]={constructor:!0,toString:!0,valueOf:!0},Xt[Y]=Xt[Z]=Xt[et]={constructor:!0,toString:!0},Xt[X]={constructor:!0},a(bt,function(e){for(var t in Xt)if(Mt.call(Xt,t)){var n=Xt[t];n[e]=Mt.call(n,e)}});var en=n.support={};!function(){function e(){this.x=1}var t={0:1,length:1},n=[];e.prototype={valueOf:1,y:1};for(var r in new e)n.push(r);en.argsTag=Tt.call(arguments)==V,en.enumErrorProps=Ot.call(Bt,"message")||Ot.call(Bt,"name"),en.enumPrototypes=Ot.call(e,"prototype"),en.funcDecomp=!T(It.WinRTError)&&gt.test(function(){return this}),en.funcNames="string"==typeof Function.name,en.nonEnumStrings=!Ot.call("x",0),en.nonEnumShadows=!/valueOf/.test(n),en.spliceObjects=(Pt.call(t,0,1),!t[0]),en.unindexedChars="xx"!="x"[0]+Object("x")[0];try{en.nonEnumArgs=!Ot.call(arguments,1)}catch(a){en.nonEnumArgs=!0}}(0,0);var tn=Zt?function(e,t){return Zt.set(e,t),e}:D;zt||(g=qt&&Dt?function(e){var t=e.byteLength,n=Ft?Rt(t/Kt):0,r=n*Kt,a=new qt(t);if(n){var o=new Ft(a,0,n);o.set(new Ft(e,0,n))}return t!=r&&(o=new Dt(a,r),o.set(new Dt(e,r))),a}:P(null));var nn=Jt||function(){return(new Date).getTime()};en.argsTag||(W=function(e){return C(t(e)?e.length:F)&&Mt.call(e,"callee")&&!Ot.call(e,"callee")||!1});var rn=Qt||function(e){return t(e)&&C(e.length)&&Tt.call(e)==H||!1},an=e(/x/)||Dt&&!e(Dt)?function(e){return Tt.call(e)==Z}:e,on=Vt?function(e){if(e)var t=e.constructor,r=e.length;return"function"==typeof t&&t.prototype===e||("function"==typeof e?n.support.enumPrototypes:r&&C(r))?I(e):M(e)?Vt(e):[]}:I;n.before=k,n.callback=O,n.constant=P,n.debounce=S,n.filter=j,n.forEach=B,n.keys=on,n.keysIn=z,n.matches=U,n.once=function(e){return k(e,2)},n.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError(Q);return!1===n?r=!1:M(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),xt.leading=r,xt.maxWait=+t,xt.trailing=a,S(e,t,xt)},n.each=B,n.iteratee=O,n.select=j,n.escapeRegExp=R,n.identity=D,n.isArguments=W,n.isArray=rn,n.isFunction=an,n.isNative=T,n.isObject=M,n.isString=$,n.isTypedArray=q,n.now=nn,n.VERSION="3.5.0","function"==typeof define&&"object"==typeof define.amd&&define.amd?(It._=n,define(function(){return n})):Nt&&At?_t?(At.exports=n)._=n:Nt._=n:It._=n}.call(this),$.js=function(e){return jQuery("[data-js="+e+"]")},$.ui=function(e){return jQuery("[data-ui="+e+"]")},W.domToArray=function(e){for(var t=e.length,n=[];t--;)n[t]=e[t];return n},W.cache={},W.get=function(e,t){return"string"==typeof e?((t===!0||"undefined"==typeof this.cache[e])&&(this.cache[e]=W.js(e)),this.cache[e]):void 0},W.getAll=function(e,t){if("string"==typeof e){var n=e+"all";return(t===!0||"undefined"==typeof this.cache[n])&&(this.cache[n]=W.jsAll(e)),this.cache[n]}},W.isCurated=function(){var e=document.body.classList;return e.contains("category")||e.contains("home")||e.contains("tag")||e.contains("magazine")},W.isMob=function(){return window.matchMedia("(max-width: 660px)").matches},W.isMobPlus=function(){return window.matchMedia("(min-width: 661px)").matches},W.isSm=function(){return window.matchMedia("(max-width: 768px)").matches},W.isMed=function(){return window.matchMedia("(min-width: 769px)").matches},W.isBigPlus=function(){return window.matchMedia("(min-width: 961px)").matches},W.isHuge=function(){return window.matchMedia("(min-width: 1200px)").matches},W.js=function(e,t){return t?t.querySelector("[data-js="+e+"]"):document.querySelector("[data-js="+e+"]")},W.jsAll=function(e,t){return t?t.querySelectorAll("[data-js="+e+"]"):document.querySelectorAll("[data-js="+e+"]")},W.q=function(e,t){return t?t.querySelectorAll(e):document.querySelectorAll(e)},W.strip=function(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""},W.validateEmail=function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},W.fallback=function(){return"undefined"==typeof CN.dart||"undefined"==typeof CN.dart.getAdLog||"undefined"==typeof docCookies},W.parseSlide=function(){var e=window.location.hash;if(e.indexOf("#slide-")>-1){var t=parseInt(e.replace("#slide-",""),10);if(t===parseInt(t,10))return Math.floor((t-1)/6)+t-1}return 0},W.onAnimationEnd=function(e,t){$(e).one("webkitAnimationEnd oanimationend oAnimationEnd msAnimationEnd animationend",function(e){t(e)})},W.onTransitionEnd=function(e,t){$(e).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){t(e)})},W.fadeUpOut=function(e){e.classList.contains("fade-up-in")&&e.classList.remove("fade-up-in"),e.classList.contains("fade-up-out")||e.classList.add("fade-up-out")},W.fadeUpIn=function(e){e.classList.contains("fade-up-out")&&e.classList.remove("fade-up-out"),e.classList.contains("fade-up-in")||e.classList.add("fade-up-in")},W.trueOffset=function(e){var t=e.offset();return t.top+=parseInt(e.css("border-top-width"),10)+parseInt(e.css("margin-top"),10)+parseInt(e.css("padding-top"),10),t.left+=parseInt(e.css("border-left-width"),10)+parseInt(e.css("margin-left"),10)+parseInt(e.css("padding-left"),10),t},W.ads=function(){function e(e,t){return"number"==typeof e&&"string"==typeof t?'<div tabindex="-1" aria-hidden="true" role="presentation" data-skip data-js="inCopyRad" class="rad mid-banner-wrap relative bg-gray-1 flex-box align-m justify-c marg-t-50 marg-b-50"><div class="middle-banner-ad" id="middle-ad-'+e+'"><div class="advertisement pad-t-med pad-b-med"><div id="middle-ad-'+e+t+'_frame" class="displayAd displayAd'+t+'Js" data-cb-ad-id="middle-ad-'+e+t+'_frame" data-js="mid-ad-'+e+'"></div></div></div></div>':void 0}var t=!0,n=!0,r=function(){var e,t=document.querySelector('[data-js="leaderboard"]');if(t&&(e=t.getElementsByTagName("iframe"),e&&e[0]))for(var n=0;n<e.length;n++)e[n].parentNode&&"inline-block"===e[n].parentNode.style.display&&(e[n].parentNode.style.display="block")},a=function(){document.getElementById("cm-subscribe-button68x12_frame")&&CN.dart.call("cm-subscribe-button",{sz:"68x12",kws:["subscribeButtonEcom"],collapse:!1,isCM:!0}),document.getElementById("cm-subscribe310x296_frame")&&CN.dart.call("cm-subscribe",{sz:"310x296",kws:["dropdownEcom"],collapse:!1,isCM:!0}),document.getElementById("cm-subscribe310x290_frame")&&CN.dart.call("cm-subscribe",{sz:"310x290",kws:["footerEcom"],collapse:!1,isCM:!0}),document.body.classList.contains("page")&&((document.getElementById("cm-subscribe300x56_frame")||document.getElementById("cm-subscribe304x28_frame"))&&CN.dart.call("cm-subscribe",{sz:CN.isMobile?"300x56":"304x28",kws:["contactSubscribeEcom"],collapse:!1,isCM:!0}),document.getElementById("cm-subscribe88x24_frame")&&CN.dart.call("cm-subscribe",{sz:"88x24",kws:["sitemapSubscribeEcom"],collapse:!1,isCM:!0}),document.getElementById("cm-subscribe91x24_frame")&&CN.dart.call("cm-subscribe",{sz:"91x24",kws:["sitemapSubscribeEcom"],collapse:!1,isCM:!0}),document.getElementById("cm-subscribe59x24_frame")&&CN.dart.call("cm-subscribe",{sz:"59x24",kws:["sitemapSubscribeEcom"],collapse:!1,isCM:!0}),document.getElementById("cm-subscribe206x24_frame")&&CN.dart.call("cm-subscribe",{sz:"206x24",kws:["sitemapSubscribeEcom"],collapse:!1,isCM:!0})),(document.body.classList.contains("category")||document.body.classList.contains("home")||document.body.classList.contains("tag")||document.body.classList.contains("magazine"))&&(document.getElementById("rad-card615x245_frame")&&CN.dart.call("rad-card",{sz:"615x245",kws:[""],collapse:!1,isCM:!0}),document.getElementById("rad-card932x363_frame")&&CN.dart.call("rad-card",{sz:"932x363",kws:[""],collapse:!1,isCM:!0}),document.getElementById("rad-card298x161_frame")&&CN.dart.call("rad-card",{sz:"298x161",kws:[""],collapse:!1,isCM:!0}),document.getElementById("rad-card403x367_frame")&&CN.dart.call("rad-card",{sz:"403x367",kws:[""],collapse:!1,isCM:!0}))},o=function(e,n){var r,a,o;if("undefined"!=typeof n){if(n.classList.contains("before-rad"))r=n.nextElementSibling;else{if(!n.classList.contains("after-rad"))return n.classList.contains("rad")?void $(n).find(".displayAd").removeClass("hide"):void 0;r=n.previousElementSibling}return r.getElementsByClassName("advertisement")[0]?void(r.classList.contains("slide")&&$(r).find(".displayAd").addClass("hide")):($(n.parentNode).find(".advertisement").length>0&&$(n.parentNode).find(".advertisement").remove(),a=document.createElement("div"),a.classList.add("advertisement","gallery-rad-container"),o=document.createElement("div"),o.setAttribute("id","galleryinterstitial_top300x252_frame"),o.setAttribute("data-cb-ad-id","galleryinterstitial_top300x252_frame"),o.classList.add("displayAd","displayAd300x252Js"),a.appendChild(o),r.insertBefore(a,r.classList.contains("visually-hidden")[0]),t===!0&&(CN.dart.appendAdSlot({galleryinterstitial_top300x252:{sz:"300x252",kws:[""]}}),t=!1),CN.dart.refresh("galleryinterstitial_top300x252"),r.classList.contains("slide")&&$(r).find(".displayAd").addClass("hide"),void 0)}},i=function(){if(document.querySelector('[data-js="leaderboard"]')||document.querySelector('[data-js="fullbleed-short"]')){var e=$("[data-js=leaderboard]").find("iframe"),t=document.getElementsByTagName("body")[0].classList.contains("resp-billboard-top");"970"===e.attr("width")&&"250"===e.attr("height")&&"function"==typeof window.matchMedia&&window.matchMedia("(orientation: portrait)").matches&&t===!1&&$('[data-js="leaderboard"]').find(".advertisement").addClass("billboard-container"),"970"===e.attr("width")&&"250"===e.attr("height")&&"function"==typeof window.matchMedia&&window.matchMedia("(orientation: landscape)").matches&&t===!1&&$('[data-js="leaderboard"]').find(".advertisement").removeClass("billboard-container"),"932"===e.attr("width")&&"372"===e.attr("height")&&"function"==typeof window.matchMedia&&window.matchMedia("(orientation: portrait)").matches&&t===!1&&$('[data-js="leaderboard"]').find(".advertisement").addClass("storyboard-container"),"932"===e.attr("width")&&"372"===e.attr("height")&&"function"==typeof window.matchMedia&&window.matchMedia("(orientation: landscape)").matches&&t===!1&&$('[data-js="leaderboard"]').find(".advertisement").removeClass("storyboard-container")}},s=function(e){var t=$("#"+e),n=t.parent().parent(),r="970"===t.find("iframe").attr("width")&&t.find("iframe").attr("height")>="250",a="932"===t.find("iframe").attr("width")&&t.find("iframe").attr("height")>="372";r?(n.hasClass("incopy-970")||n.addClass("incopy-970"),"function"==typeof window.matchMedia&&window.matchMedia("(orientation: portrait)").matches?n.addClass("billboard-incopy-scale"):"function"==typeof window.matchMedia&&window.matchMedia("(orientation: landscape)").matches&&n.removeClass("billboard-incopy-scale")):a&&(n.hasClass("incopy-932")||n.addClass("incopy-932"),"function"==typeof window.matchMedia&&window.matchMedia("(orientation: portrait)").matches?n.addClass("storyboard-incopy-scale"):"function"==typeof window.matchMedia&&window.matchMedia("(orientation: landscape)").matches&&n.removeClass("storyboard-incopy-scale"))},c=function(e){var t,n,r=document.getElementById(e);r&&(t="none"===r.style.display,n=r.getElementsByTagName("iframe")[0]&&"1"===r.getElementsByTagName("iframe")[0].width,(t||n)&&r.parentNode.parentNode.parentNode.classList.add("hide"))},d=_.debounce(function(){var e,t,n;document.querySelector('[data-js="inCopyRad"]')&&(e=$(".content").find("p:not(:empty):not([class]):first"),n=$(".short-post-feed"),n.length>0?t=n.offset().left:e.length<1?(e=$(".content").find("p:not(:empty):first"),t=e.offset().left):t=document.getElementsByClassName("legacy-ad-fix")[0]?$(".content").offset().left:e.offset().left,$('[data-js="inCopyRad"]').css("left",-t))},50),l=_.debounce(function(){var e=document.getElementById("sidebar-wrap");600===$("#sidebar300x250_frame").find("iframe").height()&&$(window).height()<650?($("#sidebar-wrap").addClass("no-sticky"),e.setAttribute("data-sticky",!1)):$("#sidebar300x250_frame").find("iframe").height()>600&&$(window).height()<1070?($("#sidebar-wrap").addClass("no-sticky"),e.setAttribute("data-sticky",!1)):e&&($("#sidebar-wrap").removeClass("no-sticky"),e.setAttribute("data-sticky",!0))},50),u=_.debounce(function(){var e=$(window).width(),t=document.getElementsByClassName("rad-bottom")[0];340>e&&t?t.classList.contains("narrow-left")||t.classList.add("narrow-left"):t.classList.contains("narrow-left")&&t.classList.remove("narrow-left")},50),f=function(e,t){return"number"==typeof e&&"string"==typeof t?'<div tabindex="-1" aria-hidden="true" role="presentation" data-skip data-js="inCopyRad" class="rad mid-banner-wrap relative bg-gray-1 flex-box align-m justify-c marg-t-50 marg-b-50"><div class="middle-banner-ad" id="middle-ad-'+e+'"><div class="advertisement"><div id="middle-ad-'+e+t+'_frame" class="displayAd displayAd'+t+'Js mob-pad-t-med mob-pad-b-med" data-cb-ad-id="middle-ad-'+e+t+'_frame" data-js="mid-ad-'+e+'"></div></div></div></div>':void 0},m=function(t,n,r,a){"undefined"!=typeof t&&(CN.isMobile?$(f(n,a)).insertAfter(t.children[r]):$(e(n,a)).insertAfter(t.children[r]))},p=function(e){return"object"==typeof e?"H1"===e.nodeName||"H2"===e.nodeName||"H3"===e.nodeName:void 0},y=function(e){return"object"==typeof e?p(e)?!0:"P"!==e.nodeName?!1:e.classList.contains("pullquote")||e.classList.contains("carve-full")||e.classList.contains("pullquote-left")||e.classList.contains("pullquote-right")||e.classList.contains("sidebar-text")?!1:e.getElementsByTagName("iframe").length>0||e.getElementsByTagName("img").length>0||e.getElementsByTagName("figure").length>0?!1:!0:void 0},h=function(e){if("number"!=typeof e)return!1;var t=document.getElementsByClassName("content")[0],n=!1,r=!1;return"undefined"==typeof t.children[e]?!1:p(t.children[e])||t.children[e].classList.contains("padding-top")?!1:1===t.children[e].children.length&&"STRONG"===t.children[e].children[0].nodeName?!1:"P"===t.children[e].nodeName&&y(t.children[e])?(t.children[e+1]&&y(t.children[e+1])&&"P"===t.children[e+1].nodeName&&t.children[e+2]&&y(t.children[e+2])&&t.children[e+3]&&y(t.children[e+3])&&(n=!0),n===!1?!1:(t.children[e-1]&&y(t.children[e-1])&&"P"===t.children[e-1].nodeName&&t.children[e-2]&&y(t.children[e-2])&&t.children[e-3]&&y(t.children[e-3])&&(r=!0),n&&r)):!1},g=function(e){var t,n=[],r=$(".content").children(),a=r.length,o=0,i=0;if(e>6&&(e=6),CN.isMobile)for(o=5;a-4>o;o++){if(n.length===e){for(i;i<n.length;i++)n[i]+=i;return n}t=r.eq(o),t.length>0&&h(o)&&(n.push(o),o+=5)}else for(o=5;a-5>o;o++){if(n.length===e){for(i;i<n.length;i++)n[i]+=i;return n}t=r.eq(o),t.length>0&&h(o)&&(n.push(o),o+=6)}for(i=0;i<n.length;i++)n[i]+=i;return n},b=function(e){var t,n=[],r=[],a=0,o=0,i=0,s=0,c=8,d=0;if(CN.isMobile&&(c=6),s=Math.floor(e/c),1>s)return[];if(10>s)return g(s);for(s=6,a;s>a;a++)i=(a+1)*(e/(s+1)),n.push(Math.floor(i));for(a=0;a<n.length;a++)if(h(n[a]))r.push(n[a]);else for(o=n[a]+1,d=n[a+1]?Math.floor((n[a+1]-n[a])/2+n[a]):document.getElementsByClassName("content")[0].children.length-8,o;d>o;o++)if(t=document.getElementsByClassName("content")[0].children[o],t&&h(o)){r.push(o);break}for(n=r,d=0;d<n.length;d++)n[d]+=d;return n},v=function(){var t,n,r,a=document.getElementsByClassName("content")[0],o="",i=["728x91","728x93","728x94","728x95","728x96","728x97"],s=["320x52","320x53","320x54","320x56","320x57","320x58"],c="",l=0,u=[],p=document.getElementsByClassName("short-post-article");if("undefined"!=typeof a){if(l=a.getElementsByTagName("p").length,p.length>1){for(r=p.length>12?12:p.length,t=0;r>t;t++)(0===t||t%2===0)&&u.push(t);for(p.length===u[u.length-1]+1&&u.pop(),t=0;t<u.length;t++)o=CN.isMobile?s[t]:i[t],CN.isMobile?$(f(t+1,o)).insertAfter(document.getElementsByClassName("meta-footer-dig")[u[t]+1]):$(e(t+1,o)).insertAfter(document.getElementsByClassName("meta-footer-dig")[u[t]+1])}else{if(!(l>7))return document.getElementsByClassName("legacy-ad-fix")[0]?void d():void 0;for(u=b(l),t=0;t<u.length;t++)o=CN.isMobile?s[t]:i[t],m(a,t+1,u[t],o)}for(n=0;n<u.length;n++)CN.isMobile?(c=s[n],CN.dart.call("middle-ad-"+(n+1),{sz:c,kws:["middle"],collapse:!0})):(c=i[n],CN.dart.call("middle-ad-"+(n+1),{sz:c,kws:["contentbody"],collapse:!0}));d()}},w=_.debounce(function(){var e=$(window).width(),t=$('[data-js="sidebarRad"]').find('[data-ui="fallbackClick"]'),r=$("#sidebar300x250_frame"),a=e>(document.body.classList.contains("short-post")||document.body.classList.contains("archive")||document.body.classList.contains("search")?752:1117);a?document.getElementById("sidebar300x250_frame")||($('<div class="advertisement"><div id="sidebar300x250_frame" class="displayAd displayAd300x250Js" data-cb-ad-id="sidebar300x250_frame"></div></div>').insertBefore(t),n===!0?(CN.dart.call("sidebar",{sz:"300x250",kws:["top"],collapse:!0}),n=!1):CN.dart.refresh("sidebar300x250")):document.getElementById("sidebar300x250_frame")&&r.parent().remove()},50),x=function(e,t){function n(e){var t=e.previousElementSibling,a=e.nextElementSibling;return t&&t.classList.contains("smart")?r=t:a&&a.classList.contains("smart")?r=a:"ASIDE"!==e.tagName&&(r=!1),r!==!1?r:n(e.parentNode)}var r=n(e);r===!1||r.classList.contains(t)||(r.className+=" "+t)},E=function(e){var t,n,r,a,o;"string"==typeof e&&("xrailTop300x250_frame"===e?(a=document.getElementById("latest-news"),a&&($("#xrailTop300x250_frame").parent().parent().remove(),(a.classList.contains("squish")||a.classList.contains("squish-normal"))&&(a.classList.remove("squish"),a.classList.remove("squish-normal")))):"secondary300x251_frame"!==e||document.querySelector('[data-grid-type="breaking"]')?"prefooter300x253_frame"===e?$("#prefooter300x253_frame").parent().parent().remove():"mid-col300x254_frame"===e&&($("#mid-col300x254_frame").parent().parent().remove(),document.querySelector('[data-remove-if-spacers="true"]').classList.add("hide")):(o=document.getElementById("most-pop"),o&&(t=$("#secondary300x251_frame").parent().parent(),n=t.prev(),r=document.getElementById("curated-stories-2"),o.classList.contains("squish")&&o.classList.remove("squish"),r&&n.insertAfter(r),t.remove())))},N=function(){var e=W.domToArray(W.q("iframe"));return e.forEach(function(e){return $(e).parents(".rad").length>0?e.setAttribute("tabindex","-1"):void 0})},A=function(){var e=document.getElementById("latest-news"),t=0;if(e)var n=setInterval(function(){t++;var r=document.getElementById("adContainer")&&document.getElementById("adContainer").classList.contains("wallpaper-switch-order");return r?(clearInterval(n),e.classList.contains("big-order-2")||e.classList.add("big-order-2"),void(e.classList.contains("med-order-2")||e.classList.add("med-order-2"))):void(t>10&&clearInterval(n))},500)},C=function(e){if("undefined"!=typeof e&&""!==e){var t=e.split("|");CN.dart.moreAds({},{targetKws:t})}},I=function(){var e=document.getElementById("sponsor300x60_frame"),t=document.getElementById("post-title");e&&t&&($(e).insertAfter(t),e.classList.add("marg-b-50"),t.classList.remove("med-marg-b-50","big-marg-b-50"),t.classList.add("med-marg-b-25","big-marg-b-25"))};return"undefined"!=typeof CN&&CN.dart&&"undefined"!=typeof docCookies&&$(window).resize(function(){document.getElementById("sidebar-wrap")&&w(),document.body.classList.contains("single")&&(l(),u(),document.querySelector('[data-js="inCopyRad"]')&&d())}),window.addEventListener("orientationchange",function(){var e,t,n;if(i(),document.getElementsByClassName("incopy-970").length>0)for(t=document.getElementsByClassName("incopy-970"),n=0;n<t.length;n++)e=t[n].getElementsByClassName("displayAd")[0].id,s(e);if(document.getElementsByClassName("incopy-932").length>0)for(t=document.getElementsByClassName("incopy-932"),n=0;n<t.length;n++)e=t[n].getElementsByClassName("displayAd")[0].id,s(e);document.getElementById("sidebar-wrap")&&w()},!1),{centerMobileAd:u,checkIfAdRendered:c,cmAdCalls:a,collapseBoxAds:E,galleryAds:o,getNewKeywordsArray:C,hoistAd:I,inCopyAds:v,latestNewsOrder:A,leaderboardCenter:r,scaleLeaderboard:i,scaleIncopy:s,sidebarAdCall:w,squish:x,tabFix:N,unstickSidebarAd:l}}(),"undefined"!=typeof CN&&CN.dart&&"undefined"!=typeof docCookies){try{W.ads.cmAdCalls()}catch(err){console.error("W.ads error: could not call CM ads because of ",err)}if(document.getElementById("sidebar-wrap"))try{W.ads.sidebarAdCall()}catch(err){console.error("W.ads error: could not call sidebar ad because of ",err)}if(document.body.classList.contains("single")){try{W.ads.inCopyAds(),setTimeout(W.ads.tabFix,500)}catch(err){console.error("W.ads error: could not add incopy ads cause of ",err)}try{jQuery(document).on("galleryRadReady",function(e,t){return W.ads.galleryAds(e,t)})}catch(err){console.error("W.ads error: Failed to set listener on galleryRadReady because of: ",err)}try{document.getElementById("sponsor300x60_frame")&&W.ads.hoistAd()}catch(err){console.error("W.ads error: could not hoist ad because of ",err)}}if(document.getElementsByClassName("short-post-feed")[0])try{jQuery(document).on("nextShortPost",function(e,t){W.ads.getNewKeywordsArray(t),"true"===$("#sidebar-wrap").attr("data-sticky")&&CN.dart.refresh("sidebar300x250")})}catch(err){console.error("Ads: Something went wrong with nextShortPost: ",err)}}jQuery(document).on("radsRendered",function(e,t){var n,r,a,o,i,s,c,d;if(document.querySelector(".deepLinked")&&!document.getElementById("galleryinterstitial_top300x252_frame"))try{n=document.querySelector(".deepLinked"),jQuery(document).trigger("galleryRadReady",n)}catch(l){console.error("Failed to load gallery ad :( ",l)}if(s=t&&t.slot?t.slot.getSlotElementId():!1,s&&t.size){try{W.ads.tabFix()}catch(l){console.error("W.ads error: Failed to make ads accessible because of: ",l)}try{c=t.size[1]>250?"squish":"squish-normal","sidebar300x250_frame"===s&&(document.body.classList.contains("single")||document.body.classList.contains("page"))?r=document.getElementById("sidebar300x250_frame"):"xrailTop300x250_frame"===s&&(r=document.getElementById("xrailTop300x250_frame")),r&&raf(function(){return W.ads.squish(r,c)
})}catch(l){console.error("W.ads error: Failed to squish smart card on radsRendered because of: ",l)}try{"header728x90_frame"===s&&1!==t.size[1]&&(raf(function(){return W.ads.leaderboardCenter()}),setTimeout(function(){raf(function(){return W.ads.scaleLeaderboard()})},1e3)),("header728x90_frame"===s||"header320x50_frame"===s)&&9===t.size[0]&&1===t.size[1]&&(i=document.querySelector('[data-js="leaderboard"]'),i&&(i.classList.remove("brad-top"),i.classList.add("pad-t-med")))}catch(l){console.error("W.ads error: Failed to do stuff to the leaderboard because of: ",l)}if(document.body.classList.contains("category")||document.body.classList.contains("home")||document.body.classList.contains("tag")||document.body.classList.contains("magazine"))try{1===t.size[0]&&1===t.size[1]&&("header728x90_frame"===s?(o=document.getElementById("latest-news"),d=o&&o.classList.contains("big-order-2"),o&&o.classList.contains("short-order-2")&&!d&&o.classList.remove("short-order-2"),d||raf(function(){return W.ads.latestNewsOrder()})):"rad-polar-card165x307_frame"===s?(a=document.getElementById("polar-card-fallback"),a&&a.classList.remove("hide")):raf(function(){return W.ads.collapseBoxAds(s)}))}catch(l){console.error("W.ads error: Detection of 1x1 spaced ads failed due to: ",l)}if(document.body.classList.contains("single")){try{"header728x90_frame"===s&&(1===t.size[0]&&1===t.size[1]?(i=document.querySelector('[data-js="leaderboard"]'),i&&i.classList.add("leaderboard-collapse")):(t.size[1]>250||1===t.size[1])&&!document.body.classList.contains("fullbleed-post")&&jQuery(document).trigger("tallLeaderboard"))}catch(l){console.error("Failed to detect 1x1 leaderboard spacer because of: ",l)}try{("middle-ad-1728x91_frame"===s||"middle-ad-2728x93_frame"===s||"middle-ad-3728x94_frame"===s||"middle-ad-4728x95_frame"===s||"middle-ad-5728x96_frame"===s||"middle-ad-6728x97_frame"===s)&&(raf(function(){return W.ads.scaleIncopy(s)}),raf(function(){return W.ads.checkIfAdRendered(s)}))}catch(l){console.error("W.ads error: issue with checking incopy ads for desktop width because of: ",l)}try{("middle-ad-1320x52_frame"===s||"middle-ad-2320x53_frame"===s||"middle-ad-3320x54_frame"===s||"middle-ad-4320x56_frame"===s||"middle-ad-5320x57_frame"===s||"middle-ad-6320x58_frame"===s)&&raf(function(){return W.ads.checkIfAdRendered(s)})}catch(l){console.error("W.ads error: issue with checking incopy ads for mobile width because of: ",l)}try{9===t.size[0]&&2===t.size[1]&&(document.getElementById(s).parentNode.parentNode.style.width="100%")}catch(l){console.error("W.ads error: Failed to detect parallax incopy ad because of: ",l)}try{"sidebar300x250_frame"===s&&raf(function(){return W.ads.unstickSidebarAd()})}catch(l){console.error("W.ads error: Failed to check if sidebar should remain sticky because of: ",l)}try{"prefooter300x253_frame"===s&&raf(function(){return W.ads.centerMobileAd()})}catch(l){console.error("W.ads error: Failed to center prefooter ad because of: ",l)}}}}),W.polar=function(){var e="",t="",n={},r={};window.NATIVEADS=window.NATIVEADS||{},window.NATIVEADS_QUEUE=window.NATIVEADS_QUEUE||[],window.NATIVEADS_QUEUE.push(["setPropertyID","NA-WIRE-11236120"],["setSecondaryPageURL","/sponsored"]),e=function(e,t,n,r,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var o,i,s="",c="function",d=this.escapeExpression;return s+='<li class="story-2 bg-gray-1" id="story-sponsored291x96_frame">\n	 <a href="',(o=n.link)?o=o.call(t,{hash:{},data:a}):(o=t.link,o=typeof o===c?o.apply(t):o),s+=d(o)+'" class="clearfix pad" onclick="var x=&quot;.tl(&quot;;s_objectID=&quot;',(o=n.link)?o=o.call(t,{hash:{},data:a}):(o=t.link,o=typeof o===c?o.apply(t):o),s+=d(o)+'_1&quot;;return this.s_oc?this.s_oc(e):true" rel="nofollow"><img width="150" height="150" src="'+d((o=t.image,o=null==o||o===!1?o:o.href,typeof o===c?o.apply(t):o))+'" class="thumb col mob-col-6 med-col-6 big-col-6" alt="Sponsored Post Image"/><div class="col mob-col-12 med-col-12 big-col-12" style="margin-top:-2px;">\n	<span class="sponsor-title marg-b-micro brandon uppercase">Branded Content</span>\n	<h5 class="title exchange-sm">',(i=n.title)?i=i.call(t,{hash:{},data:a}):(i=t.title,i=typeof i===c?i.apply(t):i),s+=d(i)+'</h5>\n	<span class="marg-t-micro sponsor-name gray-5 uppercase block brandon">'+d((o=t.sponsor,o=null==o||o===!1?o:o.name,typeof o===c?o.apply(t):o))+"</span></div></a>\n</li>\n"},t=function(e,t,n,r,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var o,i,s="",c="function",d=this.escapeExpression;return s+='<a href="',(o=n.link)?o=o.call(t,{hash:{},data:a}):(o=t.link,o=typeof o===c?o.apply(t):o),s+=d(o)+'" id="polar-card-link" class="clearfix sm-pad med-pad big-pad bg-gray-1" onclick="var x=&quot;.tl(&quot;;s_objectID=&quot;',(o=n.link)?o=o.call(t,{hash:{},data:a}):(o=t.link,o=typeof o===c?o.apply(t):o),s+=d(o)+'_1&quot;;return this.s_oc?this.s_oc(e):true">\n\n	<div id="rad-polar-card165x307_frame">\n		<div class="polar-image overflow-hide col med-col-18 big-col-9">\n          <div id="polar-thumb-container">\n			<img id="polar-card-thumbnail" src="'+d((o=t.image,o=null==o||o===!1?o:o.href,typeof o===c?o.apply(t):o))+'" width="124" height="124" alt="Sponsored Post Image" class="row med-marg-b-med" style="display: block; margin-right: 16px;" />\n		</div>\n      </div>\n		<div class="col med-col-18 big-col-9">\n			<span class="sponsor-title marg-b-nano mob-marg-t-med brandon uppercase block">Branded Content</span>\n			<h2 class="title-sm brandon">',(i=n.title)?i=i.call(t,{hash:{},data:a}):(i=t.title,i=typeof i===c?i.apply(t):i),s+=d(i)+'</h2>\n			<span class="marg-t-micro sponsor-name meta">'+d((o=t.sponsor,o=null==o||o===!1?o:o.name,typeof o===c?o.apply(t):o))+"</span>\n		</div>\n	</div>\n\n</a>\n"},n={label:"latest news",unit:{server:"dfp-gpt",elementID:"story-sponsored291x96_frame"},location:"#story-sponsored291x96_frame",infoText:"",infoButtonText:"",template:e,onRender:function(e){e.next().remove(),$("#story-sponsored").css("display",""),$("#latest-news").find("hr.story-2").remove()}},r={label:"polar card",unit:{server:"dfp-gpt",elementID:"rad-polar-card165x307_frame"},location:"#rad-polar-card165x307_frame",infoText:"",infoButtonText:"",template:t,onRender:function(e){var t,n;e.next().remove(),$("#polar-card-wrapper").css("display",""),CN.isMobile&&(t=document.getElementById("rad-card-small"),n=document.getElementById("rad-931x400-container"),n&&t&&($('<section id="mobile-polar" class="clearfix site-container"><div class="flex-row items items-1" data-items="1"></div></section>').insertBefore(n),$(document.getElementById("mobile-polar").getElementsByClassName("items-1")[0]).append(t),t.classList.add("bg-polar-gray"),document.getElementById("polar-card-link").classList.remove("bg-gray-1")))}},window.NATIVEADS_QUEUE.push(["insertPreview",n]),window.NATIVEADS_QUEUE.push(["insertPreview",r]),window.NATIVEADS.onReady=function(e){e.configureSecondaryPage({binding:{sponsor:{link:"#sponsor-link",logo:"#sponsor-logo",name:".polar-sponsor-name"},title:"#post-title",summary:"#summary",content:"#content",author:"#author",pubDate:"#pub-date",image:{href:"",caption:"#media-caption",credits:"#media-credits"}},onRender:function(){function t(e){function t(e){var a=0,o=e.childNodes.length;if(3===e.nodeType)r.test(e.nodeValue)&&n.push(e);else for(a;o>a;a++)t(e.childNodes[a])}var n=[],r=/\S/;return t(e),n}var n=e.$(".phoenix-inline-image").find("img");e.$("#post-header").append(n.eq(0));for(var r=0;r<n.length;r++){var a=n[r];e.$(a).addClass("marg-b-25"),e.$(a).attr("alt","Sponsored Post Image"),a.width<400&&e.$(a).css({"float":"left","padding-right":"1em"})}var o=function(e){function n(e){return"NOSCRIPT"===e.tagName||"STYLE"===e.tagName||8===e.nodeType||"wired-tired-text"===e.parentNode.id||"wired-tired-text"===e.parentNode.parentNode.id||"how-rate"===e.parentNode.id||"how-rate"===e.parentNode.parentNode.id||e.classList.contains("caption")||e.parentNode.classList.contains("sidebar-left")||e.parentNode.classList.contains("sidebar-right")||e.parentNode.classList.contains("alignleft")||e.parentNode.classList.contains("alignright")||e.classList.contains("visually-hidden")?!1:i[m].textContent.trim().split(" ").length>=3?!0:void 0}function r(e){return"EM"===e.tagName||"CITE"===e.tagName||"I"===e.tagName?!0:!1}if("number"==typeof e){var a,o,i,s,c,d,l,u,f=document.getElementById("content"),m=0;if(f&&(i=t(f),a=i.length,i)){for(m;a>m;m++)if(o=i[m].parentNode,n(o)){if(r(o))return;if(o.childNodes[0]===i[m]){s=i[m];break}return}s&&(c=s.parentNode,d=s.textContent.split(" "),l=d.slice(e,d.length),d=d.slice(0,e),d=d.join(" "),l=l.join(" "),u=document.createElement("span"),u.className="lede",u.textContent=d+" ",l.length&&(l=document.createTextNode(l+" ")),l.length>1?(c.insertBefore(l,c.childNodes[0]),c.insertBefore(u,l),c.removeChild(c.childNodes[e-1])):(c.insertBefore(u,c.childNodes[0]),c.removeChild(c.childNodes[e-2])))}}};o(3)},onError:function(e){console.error("Something went wrong with "+e),window.location.href="/"}})}}(),function(e,t,n){var r,a=e.getElementsByTagName(t)[0];e.getElementById(n)||(r=e.createElement(t),r.id=n,r.type="text/javascript",r.async=!0,r.src="http://plugin.mediavoice.com/plugin.js",a.parentNode.insertBefore(r,a))}(document,"script","nativeads-plugin");
}(jQuery, window.requestAnimationFrame, {}));/* end file: ads*/
